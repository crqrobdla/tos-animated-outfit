var __extends=this&&this.__extends||function(){var l=function(B,r){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,i){o.__proto__=i}||function(o,i){for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(o[t]=i[t])},l(B,r)};return function(B,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");l(B,r);function o(){this.constructor=B}B.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}}(),spine;(function(l){var B=function(){function A(d,E,g){if(d==null)throw new Error("name cannot be null.");if(E==null)throw new Error("timelines cannot be null.");this.name=d,this.timelines=E,this.timelineIds=[];for(var S=0;S<E.length;S++)this.timelineIds[E[S].getPropertyId()]=!0;this.duration=g}return A.prototype.hasTimeline=function(d){return this.timelineIds[d]==!0},A.prototype.apply=function(d,E,g,S,F,I,O,G){if(d==null)throw new Error("skeleton cannot be null.");S&&this.duration!=0&&(g%=this.duration,E>0&&(E%=this.duration));for(var T=this.timelines,p=0,R=T.length;p<R;p++)T[p].apply(d,E,g,F,I,O,G)},A.binarySearch=function(d,E,g){g===void 0&&(g=1);var S=0,F=d.length/g-2;if(F==0)return g;for(var I=F>>>1;;){if(d[(I+1)*g]<=E?S=I+1:F=I,S==F)return(S+1)*g;I=S+F>>>1}},A.linearSearch=function(d,E,g){for(var S=0,F=d.length-g;S<=F;S+=g)if(d[S]>E)return S;return-1},A}();l.Animation=B;var r;(function(A){A[A.setup=0]="setup",A[A.first=1]="first",A[A.replace=2]="replace",A[A.add=3]="add"})(r=l.MixBlend||(l.MixBlend={}));var o;(function(A){A[A.mixIn=0]="mixIn",A[A.mixOut=1]="mixOut"})(o=l.MixDirection||(l.MixDirection={}));var i;(function(A){A[A.rotate=0]="rotate",A[A.translate=1]="translate",A[A.scale=2]="scale",A[A.shear=3]="shear",A[A.attachment=4]="attachment",A[A.color=5]="color",A[A.deform=6]="deform",A[A.event=7]="event",A[A.drawOrder=8]="drawOrder",A[A.ikConstraint=9]="ikConstraint",A[A.transformConstraint=10]="transformConstraint",A[A.pathConstraintPosition=11]="pathConstraintPosition",A[A.pathConstraintSpacing=12]="pathConstraintSpacing",A[A.pathConstraintMix=13]="pathConstraintMix",A[A.twoColor=14]="twoColor"})(i=l.TimelineType||(l.TimelineType={}));var t=function(){function A(d){if(d<=0)throw new Error("frameCount must be > 0: "+d);this.curves=l.Utils.newFloatArray((d-1)*A.BEZIER_SIZE)}return A.prototype.getFrameCount=function(){return this.curves.length/A.BEZIER_SIZE+1},A.prototype.setLinear=function(d){this.curves[d*A.BEZIER_SIZE]=A.LINEAR},A.prototype.setStepped=function(d){this.curves[d*A.BEZIER_SIZE]=A.STEPPED},A.prototype.getCurveType=function(d){var E=d*A.BEZIER_SIZE;if(E==this.curves.length)return A.LINEAR;var g=this.curves[E];return g==A.LINEAR?A.LINEAR:g==A.STEPPED?A.STEPPED:A.BEZIER},A.prototype.setCurve=function(d,E,g,S,F){var I=(-E*2+S)*.03,O=(-g*2+F)*.03,G=((E-S)*3+1)*.006,T=((g-F)*3+1)*.006,p=I*2+G,R=O*2+T,U=E*.3+I+G*.16666667,N=g*.3+O+T*.16666667,W=d*A.BEZIER_SIZE,Z=this.curves;Z[W++]=A.BEZIER;for(var Y=U,X=N,j=W+A.BEZIER_SIZE-1;W<j;W+=2)Z[W]=Y,Z[W+1]=X,U+=p,N+=R,p+=G,R+=T,Y+=U,X+=N},A.prototype.getCurvePercent=function(d,E){E=l.MathUtils.clamp(E,0,1);var g=this.curves,S=d*A.BEZIER_SIZE,F=g[S];if(F==A.LINEAR)return E;if(F==A.STEPPED)return 0;S++;for(var I=0,O=S,G=S+A.BEZIER_SIZE-1;S<G;S+=2)if(I=g[S],I>=E){var T=void 0,p=void 0;return S==O?(T=0,p=0):(T=g[S-2],p=g[S-1]),p+(g[S+1]-p)*(E-T)/(I-T)}var R=g[S-1];return R+(1-R)*(E-I)/(1-I)},A.LINEAR=0,A.STEPPED=1,A.BEZIER=2,A.BEZIER_SIZE=10*2-1,A}();l.CurveTimeline=t;var e=function(A){__extends(d,A);function d(E){var g=A.call(this,E)||this;return g.frames=l.Utils.newFloatArray(E<<1),g}return d.prototype.getPropertyId=function(){return(i.rotate<<24)+this.boneIndex},d.prototype.setFrame=function(E,g,S){E<<=1,this.frames[E]=g,this.frames[E+d.ROTATION]=S},d.prototype.apply=function(E,g,S,F,I,O,G){var T=this.frames,p=E.bones[this.boneIndex];if(!!p.active){if(S<T[0]){switch(O){case r.setup:p.rotation=p.data.rotation;return;case r.first:var R=p.data.rotation-p.rotation;p.rotation+=(R-(16384-(16384.499999999996-R/360|0))*360)*I}return}if(S>=T[T.length-d.ENTRIES]){var U=T[T.length+d.PREV_ROTATION];switch(O){case r.setup:p.rotation=p.data.rotation+U*I;break;case r.first:case r.replace:U+=p.data.rotation-p.rotation,U-=(16384-(16384.499999999996-U/360|0))*360;case r.add:p.rotation+=U*I}return}var N=B.binarySearch(T,S,d.ENTRIES),W=T[N+d.PREV_ROTATION],Z=T[N],Y=this.getCurvePercent((N>>1)-1,1-(S-Z)/(T[N+d.PREV_TIME]-Z)),X=T[N+d.ROTATION]-W;switch(X=W+(X-(16384-(16384.499999999996-X/360|0))*360)*Y,O){case r.setup:p.rotation=p.data.rotation+(X-(16384-(16384.499999999996-X/360|0))*360)*I;break;case r.first:case r.replace:X+=p.data.rotation-p.rotation;case r.add:p.rotation+=(X-(16384-(16384.499999999996-X/360|0))*360)*I}}},d.ENTRIES=2,d.PREV_TIME=-2,d.PREV_ROTATION=-1,d.ROTATION=1,d}(t);l.RotateTimeline=e;var a=function(A){__extends(d,A);function d(E){var g=A.call(this,E)||this;return g.frames=l.Utils.newFloatArray(E*d.ENTRIES),g}return d.prototype.getPropertyId=function(){return(i.translate<<24)+this.boneIndex},d.prototype.setFrame=function(E,g,S,F){E*=d.ENTRIES,this.frames[E]=g,this.frames[E+d.X]=S,this.frames[E+d.Y]=F},d.prototype.apply=function(E,g,S,F,I,O,G){var T=this.frames,p=E.bones[this.boneIndex];if(!!p.active){if(S<T[0]){switch(O){case r.setup:p.x=p.data.x,p.y=p.data.y;return;case r.first:p.x+=(p.data.x-p.x)*I,p.y+=(p.data.y-p.y)*I}return}var R=0,U=0;if(S>=T[T.length-d.ENTRIES])R=T[T.length+d.PREV_X],U=T[T.length+d.PREV_Y];else{var N=B.binarySearch(T,S,d.ENTRIES);R=T[N+d.PREV_X],U=T[N+d.PREV_Y];var W=T[N],Z=this.getCurvePercent(N/d.ENTRIES-1,1-(S-W)/(T[N+d.PREV_TIME]-W));R+=(T[N+d.X]-R)*Z,U+=(T[N+d.Y]-U)*Z}switch(O){case r.setup:p.x=p.data.x+R*I,p.y=p.data.y+U*I;break;case r.first:case r.replace:p.x+=(p.data.x+R-p.x)*I,p.y+=(p.data.y+U-p.y)*I;break;case r.add:p.x+=R*I,p.y+=U*I}}},d.ENTRIES=3,d.PREV_TIME=-3,d.PREV_X=-2,d.PREV_Y=-1,d.X=1,d.Y=2,d}(t);l.TranslateTimeline=a;var n=function(A){__extends(d,A);function d(E){return A.call(this,E)||this}return d.prototype.getPropertyId=function(){return(i.scale<<24)+this.boneIndex},d.prototype.apply=function(E,g,S,F,I,O,G){var T=this.frames,p=E.bones[this.boneIndex];if(!!p.active){if(S<T[0]){switch(O){case r.setup:p.scaleX=p.data.scaleX,p.scaleY=p.data.scaleY;return;case r.first:p.scaleX+=(p.data.scaleX-p.scaleX)*I,p.scaleY+=(p.data.scaleY-p.scaleY)*I}return}var R=0,U=0;if(S>=T[T.length-d.ENTRIES])R=T[T.length+d.PREV_X]*p.data.scaleX,U=T[T.length+d.PREV_Y]*p.data.scaleY;else{var N=B.binarySearch(T,S,d.ENTRIES);R=T[N+d.PREV_X],U=T[N+d.PREV_Y];var W=T[N],Z=this.getCurvePercent(N/d.ENTRIES-1,1-(S-W)/(T[N+d.PREV_TIME]-W));R=(R+(T[N+d.X]-R)*Z)*p.data.scaleX,U=(U+(T[N+d.Y]-U)*Z)*p.data.scaleY}if(I==1)O==r.add?(p.scaleX+=R-p.data.scaleX,p.scaleY+=U-p.data.scaleY):(p.scaleX=R,p.scaleY=U);else{var Y=0,X=0;if(G==o.mixOut)switch(O){case r.setup:Y=p.data.scaleX,X=p.data.scaleY,p.scaleX=Y+(Math.abs(R)*l.MathUtils.signum(Y)-Y)*I,p.scaleY=X+(Math.abs(U)*l.MathUtils.signum(X)-X)*I;break;case r.first:case r.replace:Y=p.scaleX,X=p.scaleY,p.scaleX=Y+(Math.abs(R)*l.MathUtils.signum(Y)-Y)*I,p.scaleY=X+(Math.abs(U)*l.MathUtils.signum(X)-X)*I;break;case r.add:Y=p.scaleX,X=p.scaleY,p.scaleX=Y+(Math.abs(R)*l.MathUtils.signum(Y)-p.data.scaleX)*I,p.scaleY=X+(Math.abs(U)*l.MathUtils.signum(X)-p.data.scaleY)*I}else switch(O){case r.setup:Y=Math.abs(p.data.scaleX)*l.MathUtils.signum(R),X=Math.abs(p.data.scaleY)*l.MathUtils.signum(U),p.scaleX=Y+(R-Y)*I,p.scaleY=X+(U-X)*I;break;case r.first:case r.replace:Y=Math.abs(p.scaleX)*l.MathUtils.signum(R),X=Math.abs(p.scaleY)*l.MathUtils.signum(U),p.scaleX=Y+(R-Y)*I,p.scaleY=X+(U-X)*I;break;case r.add:Y=l.MathUtils.signum(R),X=l.MathUtils.signum(U),p.scaleX=Math.abs(p.scaleX)*Y+(R-Math.abs(p.data.scaleX)*Y)*I,p.scaleY=Math.abs(p.scaleY)*X+(U-Math.abs(p.data.scaleY)*X)*I}}}},d}(a);l.ScaleTimeline=n;var h=function(A){__extends(d,A);function d(E){return A.call(this,E)||this}return d.prototype.getPropertyId=function(){return(i.shear<<24)+this.boneIndex},d.prototype.apply=function(E,g,S,F,I,O,G){var T=this.frames,p=E.bones[this.boneIndex];if(!!p.active){if(S<T[0]){switch(O){case r.setup:p.shearX=p.data.shearX,p.shearY=p.data.shearY;return;case r.first:p.shearX+=(p.data.shearX-p.shearX)*I,p.shearY+=(p.data.shearY-p.shearY)*I}return}var R=0,U=0;if(S>=T[T.length-d.ENTRIES])R=T[T.length+d.PREV_X],U=T[T.length+d.PREV_Y];else{var N=B.binarySearch(T,S,d.ENTRIES);R=T[N+d.PREV_X],U=T[N+d.PREV_Y];var W=T[N],Z=this.getCurvePercent(N/d.ENTRIES-1,1-(S-W)/(T[N+d.PREV_TIME]-W));R=R+(T[N+d.X]-R)*Z,U=U+(T[N+d.Y]-U)*Z}switch(O){case r.setup:p.shearX=p.data.shearX+R*I,p.shearY=p.data.shearY+U*I;break;case r.first:case r.replace:p.shearX+=(p.data.shearX+R-p.shearX)*I,p.shearY+=(p.data.shearY+U-p.shearY)*I;break;case r.add:p.shearX+=R*I,p.shearY+=U*I}}},d}(a);l.ShearTimeline=h;var M=function(A){__extends(d,A);function d(E){var g=A.call(this,E)||this;return g.frames=l.Utils.newFloatArray(E*d.ENTRIES),g}return d.prototype.getPropertyId=function(){return(i.color<<24)+this.slotIndex},d.prototype.setFrame=function(E,g,S,F,I,O){E*=d.ENTRIES,this.frames[E]=g,this.frames[E+d.R]=S,this.frames[E+d.G]=F,this.frames[E+d.B]=I,this.frames[E+d.A]=O},d.prototype.apply=function(E,g,S,F,I,O,G){var T=E.slots[this.slotIndex];if(!!T.bone.active){var p=this.frames;if(S<p[0]){switch(O){case r.setup:T.color.setFromColor(T.data.color);return;case r.first:var R=T.color,U=T.data.color;R.add((U.r-R.r)*I,(U.g-R.g)*I,(U.b-R.b)*I,(U.a-R.a)*I)}return}var N=0,W=0,Z=0,Y=0;if(S>=p[p.length-d.ENTRIES]){var X=p.length;N=p[X+d.PREV_R],W=p[X+d.PREV_G],Z=p[X+d.PREV_B],Y=p[X+d.PREV_A]}else{var j=B.binarySearch(p,S,d.ENTRIES);N=p[j+d.PREV_R],W=p[j+d.PREV_G],Z=p[j+d.PREV_B],Y=p[j+d.PREV_A];var k=p[j],P=this.getCurvePercent(j/d.ENTRIES-1,1-(S-k)/(p[j+d.PREV_TIME]-k));N+=(p[j+d.R]-N)*P,W+=(p[j+d.G]-W)*P,Z+=(p[j+d.B]-Z)*P,Y+=(p[j+d.A]-Y)*P}if(I==1)T.color.set(N,W,Z,Y);else{var R=T.color;O==r.setup&&R.setFromColor(T.data.color),R.add((N-R.r)*I,(W-R.g)*I,(Z-R.b)*I,(Y-R.a)*I)}}},d.ENTRIES=5,d.PREV_TIME=-5,d.PREV_R=-4,d.PREV_G=-3,d.PREV_B=-2,d.PREV_A=-1,d.R=1,d.G=2,d.B=3,d.A=4,d}(t);l.ColorTimeline=M;var u=function(A){__extends(d,A);function d(E){var g=A.call(this,E)||this;return g.frames=l.Utils.newFloatArray(E*d.ENTRIES),g}return d.prototype.getPropertyId=function(){return(i.twoColor<<24)+this.slotIndex},d.prototype.setFrame=function(E,g,S,F,I,O,G,T,p){E*=d.ENTRIES,this.frames[E]=g,this.frames[E+d.R]=S,this.frames[E+d.G]=F,this.frames[E+d.B]=I,this.frames[E+d.A]=O,this.frames[E+d.R2]=G,this.frames[E+d.G2]=T,this.frames[E+d.B2]=p},d.prototype.apply=function(E,g,S,F,I,O,G){var T=E.slots[this.slotIndex];if(!!T.bone.active){var p=this.frames;if(S<p[0]){switch(O){case r.setup:T.color.setFromColor(T.data.color),T.darkColor.setFromColor(T.data.darkColor);return;case r.first:var R=T.color,U=T.darkColor,N=T.data.color,W=T.data.darkColor;R.add((N.r-R.r)*I,(N.g-R.g)*I,(N.b-R.b)*I,(N.a-R.a)*I),U.add((W.r-U.r)*I,(W.g-U.g)*I,(W.b-U.b)*I,0)}return}var Z=0,Y=0,X=0,j=0,k=0,P=0,D=0;if(S>=p[p.length-d.ENTRIES]){var z=p.length;Z=p[z+d.PREV_R],Y=p[z+d.PREV_G],X=p[z+d.PREV_B],j=p[z+d.PREV_A],k=p[z+d.PREV_R2],P=p[z+d.PREV_G2],D=p[z+d.PREV_B2]}else{var w=B.binarySearch(p,S,d.ENTRIES);Z=p[w+d.PREV_R],Y=p[w+d.PREV_G],X=p[w+d.PREV_B],j=p[w+d.PREV_A],k=p[w+d.PREV_R2],P=p[w+d.PREV_G2],D=p[w+d.PREV_B2];var H=p[w],Q=this.getCurvePercent(w/d.ENTRIES-1,1-(S-H)/(p[w+d.PREV_TIME]-H));Z+=(p[w+d.R]-Z)*Q,Y+=(p[w+d.G]-Y)*Q,X+=(p[w+d.B]-X)*Q,j+=(p[w+d.A]-j)*Q,k+=(p[w+d.R2]-k)*Q,P+=(p[w+d.G2]-P)*Q,D+=(p[w+d.B2]-D)*Q}if(I==1)T.color.set(Z,Y,X,j),T.darkColor.set(k,P,D,1);else{var R=T.color,U=T.darkColor;O==r.setup&&(R.setFromColor(T.data.color),U.setFromColor(T.data.darkColor)),R.add((Z-R.r)*I,(Y-R.g)*I,(X-R.b)*I,(j-R.a)*I),U.add((k-U.r)*I,(P-U.g)*I,(D-U.b)*I,0)}}},d.ENTRIES=8,d.PREV_TIME=-8,d.PREV_R=-7,d.PREV_G=-6,d.PREV_B=-5,d.PREV_A=-4,d.PREV_R2=-3,d.PREV_G2=-2,d.PREV_B2=-1,d.R=1,d.G=2,d.B=3,d.A=4,d.R2=5,d.G2=6,d.B2=7,d}(t);l.TwoColorTimeline=u;var c=function(){function A(d){this.frames=l.Utils.newFloatArray(d),this.attachmentNames=new Array(d)}return A.prototype.getPropertyId=function(){return(i.attachment<<24)+this.slotIndex},A.prototype.getFrameCount=function(){return this.frames.length},A.prototype.setFrame=function(d,E,g){this.frames[d]=E,this.attachmentNames[d]=g},A.prototype.apply=function(d,E,g,S,F,I,O){var G=d.slots[this.slotIndex];if(!!G.bone.active){if(O==o.mixOut){I==r.setup&&this.setAttachment(d,G,G.data.attachmentName);return}var T=this.frames;if(g<T[0]){(I==r.setup||I==r.first)&&this.setAttachment(d,G,G.data.attachmentName);return}var p=0;g>=T[T.length-1]?p=T.length-1:p=B.binarySearch(T,g,1)-1;var R=this.attachmentNames[p];d.slots[this.slotIndex].setAttachment(R==null?null:d.getAttachment(this.slotIndex,R))}},A.prototype.setAttachment=function(d,E,g){E.attachment=g==null?null:d.getAttachment(this.slotIndex,g)},A}();l.AttachmentTimeline=c;var s=null,v=function(A){__extends(d,A);function d(E){var g=A.call(this,E)||this;return g.frames=l.Utils.newFloatArray(E),g.frameVertices=new Array(E),s==null&&(s=l.Utils.newFloatArray(64)),g}return d.prototype.getPropertyId=function(){return(i.deform<<27)+ +this.attachment.id+this.slotIndex},d.prototype.setFrame=function(E,g,S){this.frames[E]=g,this.frameVertices[E]=S},d.prototype.apply=function(E,g,S,F,I,O,G){var T=E.slots[this.slotIndex];if(!!T.bone.active){var p=T.getAttachment();if(!(!(p instanceof l.VertexAttachment)||p.deformAttachment!=this.attachment)){var R=T.deform;R.length==0&&(O=r.setup);var U=this.frameVertices,N=U[0].length,W=this.frames;if(S<W[0]){var Z=p;switch(O){case r.setup:R.length=0;return;case r.first:if(I==1){R.length=0;break}var Y=l.Utils.setArraySize(R,N);if(Z.bones==null)for(var X=Z.vertices,j=0;j<N;j++)Y[j]+=(X[j]-Y[j])*I;else{I=1-I;for(var j=0;j<N;j++)Y[j]*=I}}return}var k=l.Utils.setArraySize(R,N);if(S>=W[W.length-1]){var P=U[W.length-1];if(I==1)if(O==r.add){var Z=p;if(Z.bones==null)for(var X=Z.vertices,D=0;D<N;D++)k[D]+=P[D]-X[D];else for(var z=0;z<N;z++)k[z]+=P[z]}else l.Utils.arrayCopy(P,0,k,0,N);else switch(O){case r.setup:{var w=p;if(w.bones==null)for(var X=w.vertices,H=0;H<N;H++){var Q=X[H];k[H]=Q+(P[H]-Q)*I}else for(var _=0;_<N;_++)k[_]=P[_]*I;break}case r.first:case r.replace:for(var J=0;J<N;J++)k[J]+=(P[J]-k[J])*I;break;case r.add:var Z=p;if(Z.bones==null)for(var X=Z.vertices,$=0;$<N;$++)k[$]+=(P[$]-X[$])*I;else for(var K=0;K<N;K++)k[K]+=P[K]*I}return}var et=B.binarySearch(W,S),at=U[et-1],b=U[et],it=W[et],tt=this.getCurvePercent(et-1,1-(S-it)/(W[et-1]-it));if(I==1)if(O==r.add){var Z=p;if(Z.bones==null)for(var X=Z.vertices,rt=0;rt<N;rt++){var q=at[rt];k[rt]+=q+(b[rt]-q)*tt-X[rt]}else for(var ht=0;ht<N;ht++){var q=at[ht];k[ht]+=q+(b[ht]-q)*tt}}else for(var ot=0;ot<N;ot++){var q=at[ot];k[ot]=q+(b[ot]-q)*tt}else switch(O){case r.setup:{var lt=p;if(lt.bones==null)for(var X=lt.vertices,st=0;st<N;st++){var q=at[st],Q=X[st];k[st]=Q+(q+(b[st]-q)*tt-Q)*I}else for(var ut=0;ut<N;ut++){var q=at[ut];k[ut]=(q+(b[ut]-q)*tt)*I}break}case r.first:case r.replace:for(var nt=0;nt<N;nt++){var q=at[nt];k[nt]+=(q+(b[nt]-q)*tt-k[nt])*I}break;case r.add:var Z=p;if(Z.bones==null)for(var X=Z.vertices,ft=0;ft<N;ft++){var q=at[ft];k[ft]+=(q+(b[ft]-q)*tt-X[ft])*I}else for(var ct=0;ct<N;ct++){var q=at[ct];k[ct]+=(q+(b[ct]-q)*tt)*I}}}}},d}(t);l.DeformTimeline=v;var f=function(){function A(d){this.frames=l.Utils.newFloatArray(d),this.events=new Array(d)}return A.prototype.getPropertyId=function(){return i.event<<24},A.prototype.getFrameCount=function(){return this.frames.length},A.prototype.setFrame=function(d,E){this.frames[d]=E.time,this.events[d]=E},A.prototype.apply=function(d,E,g,S,F,I,O){if(S!=null){var G=this.frames,T=this.frames.length;if(E>g)this.apply(d,E,Number.MAX_VALUE,S,F,I,O),E=-1;else if(E>=G[T-1])return;if(!(g<G[0])){var p=0;if(E<G[0])p=0;else{p=B.binarySearch(G,E);for(var R=G[p];p>0&&G[p-1]==R;)p--}for(;p<T&&g>=G[p];p++)S.push(this.events[p])}}},A}();l.EventTimeline=f;var m=function(){function A(d){this.frames=l.Utils.newFloatArray(d),this.drawOrders=new Array(d)}return A.prototype.getPropertyId=function(){return i.drawOrder<<24},A.prototype.getFrameCount=function(){return this.frames.length},A.prototype.setFrame=function(d,E,g){this.frames[d]=E,this.drawOrders[d]=g},A.prototype.apply=function(d,E,g,S,F,I,O){var G=d.drawOrder,T=d.slots;if(O==o.mixOut){I==r.setup&&l.Utils.arrayCopy(d.slots,0,d.drawOrder,0,d.slots.length);return}var p=this.frames;if(g<p[0]){(I==r.setup||I==r.first)&&l.Utils.arrayCopy(d.slots,0,d.drawOrder,0,d.slots.length);return}var R=0;g>=p[p.length-1]?R=p.length-1:R=B.binarySearch(p,g)-1;var U=this.drawOrders[R];if(U==null)l.Utils.arrayCopy(T,0,G,0,T.length);else for(var N=0,W=U.length;N<W;N++)G[N]=T[U[N]]},A}();l.DrawOrderTimeline=m;var y=function(A){__extends(d,A);function d(E){var g=A.call(this,E)||this;return g.frames=l.Utils.newFloatArray(E*d.ENTRIES),g}return d.prototype.getPropertyId=function(){return(i.ikConstraint<<24)+this.ikConstraintIndex},d.prototype.setFrame=function(E,g,S,F,I,O,G){E*=d.ENTRIES,this.frames[E]=g,this.frames[E+d.MIX]=S,this.frames[E+d.SOFTNESS]=F,this.frames[E+d.BEND_DIRECTION]=I,this.frames[E+d.COMPRESS]=O?1:0,this.frames[E+d.STRETCH]=G?1:0},d.prototype.apply=function(E,g,S,F,I,O,G){var T=this.frames,p=E.ikConstraints[this.ikConstraintIndex];if(!!p.active){if(S<T[0]){switch(O){case r.setup:p.mix=p.data.mix,p.softness=p.data.softness,p.bendDirection=p.data.bendDirection,p.compress=p.data.compress,p.stretch=p.data.stretch;return;case r.first:p.mix+=(p.data.mix-p.mix)*I,p.softness+=(p.data.softness-p.softness)*I,p.bendDirection=p.data.bendDirection,p.compress=p.data.compress,p.stretch=p.data.stretch}return}if(S>=T[T.length-d.ENTRIES]){O==r.setup?(p.mix=p.data.mix+(T[T.length+d.PREV_MIX]-p.data.mix)*I,p.softness=p.data.softness+(T[T.length+d.PREV_SOFTNESS]-p.data.softness)*I,G==o.mixOut?(p.bendDirection=p.data.bendDirection,p.compress=p.data.compress,p.stretch=p.data.stretch):(p.bendDirection=T[T.length+d.PREV_BEND_DIRECTION],p.compress=T[T.length+d.PREV_COMPRESS]!=0,p.stretch=T[T.length+d.PREV_STRETCH]!=0)):(p.mix+=(T[T.length+d.PREV_MIX]-p.mix)*I,p.softness+=(T[T.length+d.PREV_SOFTNESS]-p.softness)*I,G==o.mixIn&&(p.bendDirection=T[T.length+d.PREV_BEND_DIRECTION],p.compress=T[T.length+d.PREV_COMPRESS]!=0,p.stretch=T[T.length+d.PREV_STRETCH]!=0));return}var R=B.binarySearch(T,S,d.ENTRIES),U=T[R+d.PREV_MIX],N=T[R+d.PREV_SOFTNESS],W=T[R],Z=this.getCurvePercent(R/d.ENTRIES-1,1-(S-W)/(T[R+d.PREV_TIME]-W));O==r.setup?(p.mix=p.data.mix+(U+(T[R+d.MIX]-U)*Z-p.data.mix)*I,p.softness=p.data.softness+(N+(T[R+d.SOFTNESS]-N)*Z-p.data.softness)*I,G==o.mixOut?(p.bendDirection=p.data.bendDirection,p.compress=p.data.compress,p.stretch=p.data.stretch):(p.bendDirection=T[R+d.PREV_BEND_DIRECTION],p.compress=T[R+d.PREV_COMPRESS]!=0,p.stretch=T[R+d.PREV_STRETCH]!=0)):(p.mix+=(U+(T[R+d.MIX]-U)*Z-p.mix)*I,p.softness+=(N+(T[R+d.SOFTNESS]-N)*Z-p.softness)*I,G==o.mixIn&&(p.bendDirection=T[R+d.PREV_BEND_DIRECTION],p.compress=T[R+d.PREV_COMPRESS]!=0,p.stretch=T[R+d.PREV_STRETCH]!=0))}},d.ENTRIES=6,d.PREV_TIME=-6,d.PREV_MIX=-5,d.PREV_SOFTNESS=-4,d.PREV_BEND_DIRECTION=-3,d.PREV_COMPRESS=-2,d.PREV_STRETCH=-1,d.MIX=1,d.SOFTNESS=2,d.BEND_DIRECTION=3,d.COMPRESS=4,d.STRETCH=5,d}(t);l.IkConstraintTimeline=y;var x=function(A){__extends(d,A);function d(E){var g=A.call(this,E)||this;return g.frames=l.Utils.newFloatArray(E*d.ENTRIES),g}return d.prototype.getPropertyId=function(){return(i.transformConstraint<<24)+this.transformConstraintIndex},d.prototype.setFrame=function(E,g,S,F,I,O){E*=d.ENTRIES,this.frames[E]=g,this.frames[E+d.ROTATE]=S,this.frames[E+d.TRANSLATE]=F,this.frames[E+d.SCALE]=I,this.frames[E+d.SHEAR]=O},d.prototype.apply=function(E,g,S,F,I,O,G){var T=this.frames,p=E.transformConstraints[this.transformConstraintIndex];if(!!p.active){if(S<T[0]){var R=p.data;switch(O){case r.setup:p.rotateMix=R.rotateMix,p.translateMix=R.translateMix,p.scaleMix=R.scaleMix,p.shearMix=R.shearMix;return;case r.first:p.rotateMix+=(R.rotateMix-p.rotateMix)*I,p.translateMix+=(R.translateMix-p.translateMix)*I,p.scaleMix+=(R.scaleMix-p.scaleMix)*I,p.shearMix+=(R.shearMix-p.shearMix)*I}return}var U=0,N=0,W=0,Z=0;if(S>=T[T.length-d.ENTRIES]){var Y=T.length;U=T[Y+d.PREV_ROTATE],N=T[Y+d.PREV_TRANSLATE],W=T[Y+d.PREV_SCALE],Z=T[Y+d.PREV_SHEAR]}else{var X=B.binarySearch(T,S,d.ENTRIES);U=T[X+d.PREV_ROTATE],N=T[X+d.PREV_TRANSLATE],W=T[X+d.PREV_SCALE],Z=T[X+d.PREV_SHEAR];var j=T[X],k=this.getCurvePercent(X/d.ENTRIES-1,1-(S-j)/(T[X+d.PREV_TIME]-j));U+=(T[X+d.ROTATE]-U)*k,N+=(T[X+d.TRANSLATE]-N)*k,W+=(T[X+d.SCALE]-W)*k,Z+=(T[X+d.SHEAR]-Z)*k}if(O==r.setup){var R=p.data;p.rotateMix=R.rotateMix+(U-R.rotateMix)*I,p.translateMix=R.translateMix+(N-R.translateMix)*I,p.scaleMix=R.scaleMix+(W-R.scaleMix)*I,p.shearMix=R.shearMix+(Z-R.shearMix)*I}else p.rotateMix+=(U-p.rotateMix)*I,p.translateMix+=(N-p.translateMix)*I,p.scaleMix+=(W-p.scaleMix)*I,p.shearMix+=(Z-p.shearMix)*I}},d.ENTRIES=5,d.PREV_TIME=-5,d.PREV_ROTATE=-4,d.PREV_TRANSLATE=-3,d.PREV_SCALE=-2,d.PREV_SHEAR=-1,d.ROTATE=1,d.TRANSLATE=2,d.SCALE=3,d.SHEAR=4,d}(t);l.TransformConstraintTimeline=x;var V=function(A){__extends(d,A);function d(E){var g=A.call(this,E)||this;return g.frames=l.Utils.newFloatArray(E*d.ENTRIES),g}return d.prototype.getPropertyId=function(){return(i.pathConstraintPosition<<24)+this.pathConstraintIndex},d.prototype.setFrame=function(E,g,S){E*=d.ENTRIES,this.frames[E]=g,this.frames[E+d.VALUE]=S},d.prototype.apply=function(E,g,S,F,I,O,G){var T=this.frames,p=E.pathConstraints[this.pathConstraintIndex];if(!!p.active){if(S<T[0]){switch(O){case r.setup:p.position=p.data.position;return;case r.first:p.position+=(p.data.position-p.position)*I}return}var R=0;if(S>=T[T.length-d.ENTRIES])R=T[T.length+d.PREV_VALUE];else{var U=B.binarySearch(T,S,d.ENTRIES);R=T[U+d.PREV_VALUE];var N=T[U],W=this.getCurvePercent(U/d.ENTRIES-1,1-(S-N)/(T[U+d.PREV_TIME]-N));R+=(T[U+d.VALUE]-R)*W}O==r.setup?p.position=p.data.position+(R-p.data.position)*I:p.position+=(R-p.position)*I}},d.ENTRIES=2,d.PREV_TIME=-2,d.PREV_VALUE=-1,d.VALUE=1,d}(t);l.PathConstraintPositionTimeline=V;var C=function(A){__extends(d,A);function d(E){return A.call(this,E)||this}return d.prototype.getPropertyId=function(){return(i.pathConstraintSpacing<<24)+this.pathConstraintIndex},d.prototype.apply=function(E,g,S,F,I,O,G){var T=this.frames,p=E.pathConstraints[this.pathConstraintIndex];if(!!p.active){if(S<T[0]){switch(O){case r.setup:p.spacing=p.data.spacing;return;case r.first:p.spacing+=(p.data.spacing-p.spacing)*I}return}var R=0;if(S>=T[T.length-d.ENTRIES])R=T[T.length+d.PREV_VALUE];else{var U=B.binarySearch(T,S,d.ENTRIES);R=T[U+d.PREV_VALUE];var N=T[U],W=this.getCurvePercent(U/d.ENTRIES-1,1-(S-N)/(T[U+d.PREV_TIME]-N));R+=(T[U+d.VALUE]-R)*W}O==r.setup?p.spacing=p.data.spacing+(R-p.data.spacing)*I:p.spacing+=(R-p.spacing)*I}},d}(V);l.PathConstraintSpacingTimeline=C;var L=function(A){__extends(d,A);function d(E){var g=A.call(this,E)||this;return g.frames=l.Utils.newFloatArray(E*d.ENTRIES),g}return d.prototype.getPropertyId=function(){return(i.pathConstraintMix<<24)+this.pathConstraintIndex},d.prototype.setFrame=function(E,g,S,F){E*=d.ENTRIES,this.frames[E]=g,this.frames[E+d.ROTATE]=S,this.frames[E+d.TRANSLATE]=F},d.prototype.apply=function(E,g,S,F,I,O,G){var T=this.frames,p=E.pathConstraints[this.pathConstraintIndex];if(!!p.active){if(S<T[0]){switch(O){case r.setup:p.rotateMix=p.data.rotateMix,p.translateMix=p.data.translateMix;return;case r.first:p.rotateMix+=(p.data.rotateMix-p.rotateMix)*I,p.translateMix+=(p.data.translateMix-p.translateMix)*I}return}var R=0,U=0;if(S>=T[T.length-d.ENTRIES])R=T[T.length+d.PREV_ROTATE],U=T[T.length+d.PREV_TRANSLATE];else{var N=B.binarySearch(T,S,d.ENTRIES);R=T[N+d.PREV_ROTATE],U=T[N+d.PREV_TRANSLATE];var W=T[N],Z=this.getCurvePercent(N/d.ENTRIES-1,1-(S-W)/(T[N+d.PREV_TIME]-W));R+=(T[N+d.ROTATE]-R)*Z,U+=(T[N+d.TRANSLATE]-U)*Z}O==r.setup?(p.rotateMix=p.data.rotateMix+(R-p.data.rotateMix)*I,p.translateMix=p.data.translateMix+(U-p.data.translateMix)*I):(p.rotateMix+=(R-p.rotateMix)*I,p.translateMix+=(U-p.translateMix)*I)}},d.ENTRIES=3,d.PREV_TIME=-3,d.PREV_ROTATE=-2,d.PREV_TRANSLATE=-1,d.ROTATE=1,d.TRANSLATE=2,d}(t);l.PathConstraintMixTimeline=L})(spine||(spine={}));var spine;(function(l){var B=function(){function e(a){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new o(this),this.propertyIDs=new l.IntSet,this.animationsChanged=!1,this.trackEntryPool=new l.Pool(function(){return new r}),this.data=a}return e.prototype.update=function(a){a*=this.timeScale;for(var n=this.tracks,h=0,M=n.length;h<M;h++){var u=n[h];if(u!=null){u.animationLast=u.nextAnimationLast,u.trackLast=u.nextTrackLast;var c=a*u.timeScale;if(u.delay>0){if(u.delay-=c,u.delay>0)continue;c=-u.delay,u.delay=0}var s=u.next;if(s!=null){var v=u.trackLast-s.delay;if(v>=0){for(s.delay=0,s.trackTime+=u.timeScale==0?0:(v/u.timeScale+a)*s.timeScale,u.trackTime+=c,this.setCurrent(h,s,!0);s.mixingFrom!=null;)s.mixTime+=a,s=s.mixingFrom;continue}}else if(u.trackLast>=u.trackEnd&&u.mixingFrom==null){n[h]=null,this.queue.end(u),this.disposeNext(u);continue}if(u.mixingFrom!=null&&this.updateMixingFrom(u,a)){var f=u.mixingFrom;for(u.mixingFrom=null,f!=null&&(f.mixingTo=null);f!=null;)this.queue.end(f),f=f.mixingFrom}u.trackTime+=c}}this.queue.drain()},e.prototype.updateMixingFrom=function(a,n){var h=a.mixingFrom;if(h==null)return!0;var M=this.updateMixingFrom(h,n);return h.animationLast=h.nextAnimationLast,h.trackLast=h.nextTrackLast,a.mixTime>0&&a.mixTime>=a.mixDuration?((h.totalAlpha==0||a.mixDuration==0)&&(a.mixingFrom=h.mixingFrom,h.mixingFrom!=null&&(h.mixingFrom.mixingTo=a),a.interruptAlpha=h.interruptAlpha,this.queue.end(h)),M):(h.trackTime+=n*h.timeScale,a.mixTime+=n,!1)},e.prototype.apply=function(a){if(a==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var n=this.events,h=this.tracks,M=!1,u=0,c=h.length;u<c;u++){var s=h[u];if(!(s==null||s.delay>0)){M=!0;var v=u==0?l.MixBlend.first:s.mixBlend,f=s.alpha;s.mixingFrom!=null?f*=this.applyMixingFrom(s,a,v):s.trackTime>=s.trackEnd&&s.next==null&&(f=0);var m=s.animationLast,y=s.getAnimationTime(),x=s.animation.timelines.length,V=s.animation.timelines;if(u==0&&f==1||v==l.MixBlend.add)for(var C=0;C<x;C++){l.Utils.webkit602BugfixHelper(f,v);var L=V[C];L instanceof l.AttachmentTimeline?this.applyAttachmentTimeline(L,a,y,v,!0):L.apply(a,m,y,n,f,v,l.MixDirection.mixIn)}else{var A=s.timelineMode,d=s.timelinesRotation.length==0;d&&l.Utils.setArraySize(s.timelinesRotation,x<<1,null);for(var E=s.timelinesRotation,C=0;C<x;C++){var g=V[C],S=A[C]==e.SUBSEQUENT?v:l.MixBlend.setup;g instanceof l.RotateTimeline?this.applyRotateTimeline(g,a,y,f,S,E,C<<1,d):g instanceof l.AttachmentTimeline?this.applyAttachmentTimeline(g,a,y,v,!0):(l.Utils.webkit602BugfixHelper(f,v),g.apply(a,m,y,n,f,S,l.MixDirection.mixIn))}}this.queueEvents(s,y),n.length=0,s.nextAnimationLast=y,s.nextTrackLast=s.trackTime}}for(var F=this.unkeyedState+e.SETUP,I=a.slots,O=0,G=a.slots.length;O<G;O++){var T=I[O];if(T.attachmentState==F){var p=T.data.attachmentName;T.attachment=p==null?null:a.getAttachment(T.data.index,p)}}return this.unkeyedState+=2,this.queue.drain(),M},e.prototype.applyMixingFrom=function(a,n,h){var M=a.mixingFrom;M.mixingFrom!=null&&this.applyMixingFrom(M,n,h);var u=0;a.mixDuration==0?(u=1,h==l.MixBlend.first&&(h=l.MixBlend.setup)):(u=a.mixTime/a.mixDuration,u>1&&(u=1),h!=l.MixBlend.first&&(h=M.mixBlend));var c=u<M.eventThreshold?this.events:null,s=u<M.attachmentThreshold,v=u<M.drawOrderThreshold,f=M.animationLast,m=M.getAnimationTime(),y=M.animation.timelines.length,x=M.animation.timelines,V=M.alpha*a.interruptAlpha,C=V*(1-u);if(h==l.MixBlend.add)for(var L=0;L<y;L++)x[L].apply(n,f,m,c,C,h,l.MixDirection.mixOut);else{var A=M.timelineMode,d=M.timelineHoldMix,E=M.timelinesRotation.length==0;E&&l.Utils.setArraySize(M.timelinesRotation,y<<1,null);var g=M.timelinesRotation;M.totalAlpha=0;for(var L=0;L<y;L++){var S=x[L],F=l.MixDirection.mixOut,I=void 0,O=0;switch(A[L]){case e.SUBSEQUENT:if(!v&&S instanceof l.DrawOrderTimeline)continue;I=h,O=C;break;case e.FIRST:I=l.MixBlend.setup,O=C;break;case e.HOLD_SUBSEQUENT:I=h,O=V;break;case e.HOLD_FIRST:I=l.MixBlend.setup,O=V;break;default:I=l.MixBlend.setup;var G=d[L];O=V*Math.max(0,1-G.mixTime/G.mixDuration);break}M.totalAlpha+=O,S instanceof l.RotateTimeline?this.applyRotateTimeline(S,n,m,O,I,g,L<<1,E):S instanceof l.AttachmentTimeline?this.applyAttachmentTimeline(S,n,m,I,s):(l.Utils.webkit602BugfixHelper(O,h),v&&S instanceof l.DrawOrderTimeline&&I==l.MixBlend.setup&&(F=l.MixDirection.mixIn),S.apply(n,f,m,c,O,I,F))}}return a.mixDuration>0&&this.queueEvents(M,m),this.events.length=0,M.nextAnimationLast=m,M.nextTrackLast=M.trackTime,u},e.prototype.applyAttachmentTimeline=function(a,n,h,M,u){var c=n.slots[a.slotIndex];if(!!c.bone.active){var s=a.frames;if(h<s[0])(M==l.MixBlend.setup||M==l.MixBlend.first)&&this.setAttachment(n,c,c.data.attachmentName,u);else{var v;h>=s[s.length-1]?v=s.length-1:v=l.Animation.binarySearch(s,h)-1,this.setAttachment(n,c,a.attachmentNames[v],u)}c.attachmentState<=this.unkeyedState&&(c.attachmentState=this.unkeyedState+e.SETUP)}},e.prototype.setAttachment=function(a,n,h,M){n.setAttachment(h==null?null:a.getAttachment(n.data.index,h)),M&&(n.attachmentState=this.unkeyedState+e.CURRENT)},e.prototype.applyRotateTimeline=function(a,n,h,M,u,c,s,v){if(v&&(c[s]=0),M==1){a.apply(n,0,h,null,1,u,l.MixDirection.mixIn);return}var f=a,m=f.frames,y=n.bones[f.boneIndex];if(!!y.active){var x=0,V=0;if(h<m[0])switch(u){case l.MixBlend.setup:y.rotation=y.data.rotation;default:return;case l.MixBlend.first:x=y.rotation,V=y.data.rotation}else if(x=u==l.MixBlend.setup?y.data.rotation:y.rotation,h>=m[m.length-l.RotateTimeline.ENTRIES])V=y.data.rotation+m[m.length+l.RotateTimeline.PREV_ROTATION];else{var C=l.Animation.binarySearch(m,h,l.RotateTimeline.ENTRIES),L=m[C+l.RotateTimeline.PREV_ROTATION],A=m[C],d=f.getCurvePercent((C>>1)-1,1-(h-A)/(m[C+l.RotateTimeline.PREV_TIME]-A));V=m[C+l.RotateTimeline.ROTATION]-L,V-=(16384-(16384.499999999996-V/360|0))*360,V=L+V*d+y.data.rotation,V-=(16384-(16384.499999999996-V/360|0))*360}var E=0,g=V-x;if(g-=(16384-(16384.499999999996-g/360|0))*360,g==0)E=c[s];else{var S=0,F=0;v?(S=0,F=g):(S=c[s],F=c[s+1]);var I=g>0,O=S>=0;l.MathUtils.signum(F)!=l.MathUtils.signum(g)&&Math.abs(F)<=90&&(Math.abs(S)>180&&(S+=360*l.MathUtils.signum(S)),O=I),E=g+S-S%360,O!=I&&(E+=360*l.MathUtils.signum(S)),c[s]=E}c[s+1]=g,x+=E*M,y.rotation=x-(16384-(16384.499999999996-x/360|0))*360}},e.prototype.queueEvents=function(a,n){for(var h=a.animationStart,M=a.animationEnd,u=M-h,c=a.trackLast%u,s=this.events,v=0,f=s.length;v<f;v++){var m=s[v];if(m.time<c)break;m.time>M||this.queue.event(a,m)}var y=!1;for(a.loop?y=u==0||c>a.trackTime%u:y=n>=M&&a.animationLast<M,y&&this.queue.complete(a);v<f;v++){var x=s[v];x.time<h||this.queue.event(a,s[v])}},e.prototype.clearTracks=function(){var a=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,h=this.tracks.length;n<h;n++)this.clearTrack(n);this.tracks.length=0,this.queue.drainDisabled=a,this.queue.drain()},e.prototype.clearTrack=function(a){if(!(a>=this.tracks.length)){var n=this.tracks[a];if(n!=null){this.queue.end(n),this.disposeNext(n);for(var h=n;;){var M=h.mixingFrom;if(M==null)break;this.queue.end(M),h.mixingFrom=null,h.mixingTo=null,h=M}this.tracks[n.trackIndex]=null,this.queue.drain()}}},e.prototype.setCurrent=function(a,n,h){var M=this.expandToIndex(a);this.tracks[a]=n,M!=null&&(h&&this.queue.interrupt(M),n.mixingFrom=M,M.mixingTo=n,n.mixTime=0,M.mixingFrom!=null&&M.mixDuration>0&&(n.interruptAlpha*=Math.min(1,M.mixTime/M.mixDuration)),M.timelinesRotation.length=0),this.queue.start(n)},e.prototype.setAnimation=function(a,n,h){var M=this.data.skeletonData.findAnimation(n);if(M==null)throw new Error("Animation not found: "+n);return this.setAnimationWith(a,M,h)},e.prototype.setAnimationWith=function(a,n,h){if(n==null)throw new Error("animation cannot be null.");var M=!0,u=this.expandToIndex(a);u!=null&&(u.nextTrackLast==-1?(this.tracks[a]=u.mixingFrom,this.queue.interrupt(u),this.queue.end(u),this.disposeNext(u),u=u.mixingFrom,M=!1):this.disposeNext(u));var c=this.trackEntry(a,n,h,u);return this.setCurrent(a,c,M),this.queue.drain(),c},e.prototype.addAnimation=function(a,n,h,M){var u=this.data.skeletonData.findAnimation(n);if(u==null)throw new Error("Animation not found: "+n);return this.addAnimationWith(a,u,h,M)},e.prototype.addAnimationWith=function(a,n,h,M){if(n==null)throw new Error("animation cannot be null.");var u=this.expandToIndex(a);if(u!=null)for(;u.next!=null;)u=u.next;var c=this.trackEntry(a,n,h,u);if(u==null)this.setCurrent(a,c,!0),this.queue.drain();else if(u.next=c,M<=0){var s=u.animationEnd-u.animationStart;s!=0?(u.loop?M+=s*(1+(u.trackTime/s|0)):M+=Math.max(s,u.trackTime),M-=this.data.getMix(u.animation,n)):M=u.trackTime}return c.delay=M,c},e.prototype.setEmptyAnimation=function(a,n){var h=this.setAnimationWith(a,e.emptyAnimation,!1);return h.mixDuration=n,h.trackEnd=n,h},e.prototype.addEmptyAnimation=function(a,n,h){h<=0&&(h-=n);var M=this.addAnimationWith(a,e.emptyAnimation,!1,h);return M.mixDuration=n,M.trackEnd=n,M},e.prototype.setEmptyAnimations=function(a){var n=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var h=0,M=this.tracks.length;h<M;h++){var u=this.tracks[h];u!=null&&this.setEmptyAnimation(u.trackIndex,a)}this.queue.drainDisabled=n,this.queue.drain()},e.prototype.expandToIndex=function(a){return a<this.tracks.length?this.tracks[a]:(l.Utils.ensureArrayCapacity(this.tracks,a+1,null),this.tracks.length=a+1,null)},e.prototype.trackEntry=function(a,n,h,M){var u=this.trackEntryPool.obtain();return u.trackIndex=a,u.animation=n,u.loop=h,u.holdPrevious=!1,u.eventThreshold=0,u.attachmentThreshold=0,u.drawOrderThreshold=0,u.animationStart=0,u.animationEnd=n.duration,u.animationLast=-1,u.nextAnimationLast=-1,u.delay=0,u.trackTime=0,u.trackLast=-1,u.nextTrackLast=-1,u.trackEnd=Number.MAX_VALUE,u.timeScale=1,u.alpha=1,u.interruptAlpha=1,u.mixTime=0,u.mixDuration=M==null?0:this.data.getMix(M.animation,n),u.mixBlend=l.MixBlend.replace,u},e.prototype.disposeNext=function(a){for(var n=a.next;n!=null;)this.queue.dispose(n),n=n.next;a.next=null},e.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var a=0,n=this.tracks.length;a<n;a++){var h=this.tracks[a];if(h!=null){for(;h.mixingFrom!=null;)h=h.mixingFrom;do(h.mixingFrom==null||h.mixBlend!=l.MixBlend.add)&&this.computeHold(h),h=h.mixingTo;while(h!=null)}}},e.prototype.computeHold=function(a){var n=a.mixingTo,h=a.animation.timelines,M=a.animation.timelines.length,u=l.Utils.setArraySize(a.timelineMode,M);a.timelineHoldMix.length=0;var c=l.Utils.setArraySize(a.timelineHoldMix,M),s=this.propertyIDs;if(n!=null&&n.holdPrevious){for(var v=0;v<M;v++)u[v]=s.add(h[v].getPropertyId())?e.HOLD_FIRST:e.HOLD_SUBSEQUENT;return}t:for(var v=0;v<M;v++){var f=h[v],m=f.getPropertyId();if(!s.add(m))u[v]=e.SUBSEQUENT;else if(n==null||f instanceof l.AttachmentTimeline||f instanceof l.DrawOrderTimeline||f instanceof l.EventTimeline||!n.animation.hasTimeline(m))u[v]=e.FIRST;else{for(var y=n.mixingTo;y!=null;y=y.mixingTo)if(!y.animation.hasTimeline(m)){if(a.mixDuration>0){u[v]=e.HOLD_MIX,c[v]=y;continue t}break}u[v]=e.HOLD_FIRST}}},e.prototype.getCurrent=function(a){return a>=this.tracks.length?null:this.tracks[a]},e.prototype.addListener=function(a){if(a==null)throw new Error("listener cannot be null.");this.listeners.push(a)},e.prototype.removeListener=function(a){var n=this.listeners.indexOf(a);n>=0&&this.listeners.splice(n,1)},e.prototype.clearListeners=function(){this.listeners.length=0},e.prototype.clearListenerNotifications=function(){this.queue.clear()},e.emptyAnimation=new l.Animation("<empty>",[],0),e.SUBSEQUENT=0,e.FIRST=1,e.HOLD_SUBSEQUENT=2,e.HOLD_FIRST=3,e.HOLD_MIX=4,e.SETUP=1,e.CURRENT=2,e}();l.AnimationState=B;var r=function(){function e(){this.mixBlend=l.MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return e.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},e.prototype.getAnimationTime=function(){if(this.loop){var a=this.animationEnd-this.animationStart;return a==0?this.animationStart:this.trackTime%a+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},e.prototype.setAnimationLast=function(a){this.animationLast=a,this.nextAnimationLast=a},e.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},e.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},e}();l.TrackEntry=r;var o=function(){function e(a){this.objects=[],this.drainDisabled=!1,this.animState=a}return e.prototype.start=function(a){this.objects.push(i.start),this.objects.push(a),this.animState.animationsChanged=!0},e.prototype.interrupt=function(a){this.objects.push(i.interrupt),this.objects.push(a)},e.prototype.end=function(a){this.objects.push(i.end),this.objects.push(a),this.animState.animationsChanged=!0},e.prototype.dispose=function(a){this.objects.push(i.dispose),this.objects.push(a)},e.prototype.complete=function(a){this.objects.push(i.complete),this.objects.push(a)},e.prototype.event=function(a,n){this.objects.push(i.event),this.objects.push(a),this.objects.push(n)},e.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var a=this.objects,n=this.animState.listeners,h=0;h<a.length;h+=2){var M=a[h],u=a[h+1];switch(M){case i.start:u.listener!=null&&u.listener.start&&u.listener.start(u);for(var c=0;c<n.length;c++)n[c].start&&n[c].start(u);break;case i.interrupt:u.listener!=null&&u.listener.interrupt&&u.listener.interrupt(u);for(var c=0;c<n.length;c++)n[c].interrupt&&n[c].interrupt(u);break;case i.end:u.listener!=null&&u.listener.end&&u.listener.end(u);for(var c=0;c<n.length;c++)n[c].end&&n[c].end(u);case i.dispose:u.listener!=null&&u.listener.dispose&&u.listener.dispose(u);for(var c=0;c<n.length;c++)n[c].dispose&&n[c].dispose(u);this.animState.trackEntryPool.free(u);break;case i.complete:u.listener!=null&&u.listener.complete&&u.listener.complete(u);for(var c=0;c<n.length;c++)n[c].complete&&n[c].complete(u);break;case i.event:var s=a[h+++2];u.listener!=null&&u.listener.event&&u.listener.event(u,s);for(var c=0;c<n.length;c++)n[c].event&&n[c].event(u,s);break}}this.clear(),this.drainDisabled=!1}},e.prototype.clear=function(){this.objects.length=0},e}();l.EventQueue=o;var i;(function(e){e[e.start=0]="start",e[e.interrupt=1]="interrupt",e[e.end=2]="end",e[e.dispose=3]="dispose",e[e.complete=4]="complete",e[e.event=5]="event"})(i=l.EventType||(l.EventType={}));var t=function(){function e(){}return e.prototype.start=function(a){},e.prototype.interrupt=function(a){},e.prototype.end=function(a){},e.prototype.dispose=function(a){},e.prototype.complete=function(a){},e.prototype.event=function(a,n){},e}();l.AnimationStateAdapter=t})(spine||(spine={}));var spine;(function(l){var B=function(){function r(o){if(this.animationToMixTime={},this.defaultMix=0,o==null)throw new Error("skeletonData cannot be null.");this.skeletonData=o}return r.prototype.setMix=function(o,i,t){var e=this.skeletonData.findAnimation(o);if(e==null)throw new Error("Animation not found: "+o);var a=this.skeletonData.findAnimation(i);if(a==null)throw new Error("Animation not found: "+i);this.setMixWith(e,a,t)},r.prototype.setMixWith=function(o,i,t){if(o==null)throw new Error("from cannot be null.");if(i==null)throw new Error("to cannot be null.");var e=o.name+"."+i.name;this.animationToMixTime[e]=t},r.prototype.getMix=function(o,i){var t=o.name+"."+i.name,e=this.animationToMixTime[t];return e===void 0?this.defaultMix:e},r}();l.AnimationStateData=B})(spine||(spine={}));var spine;(function(l){var B=function(){function r(o,i){i===void 0&&(i=""),this.assets={},this.errors={},this.toLoad=0,this.loaded=0,this.rawDataUris={},this.textureLoader=o,this.pathPrefix=i}return r.prototype.downloadText=function(o,i,t){var e=new XMLHttpRequest;e.overrideMimeType("text/html"),this.rawDataUris[o]&&(o=this.rawDataUris[o]),e.open("GET",o,!0),e.onload=function(){e.status==200?i(e.responseText):t(e.status,e.responseText)},e.onerror=function(){t(e.status,e.responseText)},e.send()},r.prototype.downloadBinary=function(o,i,t){var e=new XMLHttpRequest;this.rawDataUris[o]&&(o=this.rawDataUris[o]),e.open("GET",o,!0),e.responseType="arraybuffer",e.onload=function(){e.status==200?i(new Uint8Array(e.response)):t(e.status,e.responseText)},e.onerror=function(){t(e.status,e.responseText)},e.send()},r.prototype.setRawDataURI=function(o,i){this.rawDataUris[this.pathPrefix+o]=i},r.prototype.loadBinary=function(o,i,t){var e=this;i===void 0&&(i=null),t===void 0&&(t=null),o=this.pathPrefix+o,this.toLoad++,this.downloadBinary(o,function(a){e.assets[o]=a,i&&i(o,a),e.toLoad--,e.loaded++},function(a,n){e.errors[o]="Couldn't load binary "+o+": status "+status+", "+n,t&&t(o,"Couldn't load binary "+o+": status "+status+", "+n),e.toLoad--,e.loaded++})},r.prototype.loadText=function(o,i,t){var e=this;i===void 0&&(i=null),t===void 0&&(t=null),o=this.pathPrefix+o,this.toLoad++,this.downloadText(o,function(a){e.assets[o]=a,i&&i(o,a),e.toLoad--,e.loaded++},function(a,n){e.errors[o]="Couldn't load text "+o+": status "+status+", "+n,t&&t(o,"Couldn't load text "+o+": status "+status+", "+n),e.toLoad--,e.loaded++})},r.prototype.loadTexture=function(o,i,t){var e=this;i===void 0&&(i=null),t===void 0&&(t=null),o=this.pathPrefix+o;var a=o;this.toLoad++;var n=new Image;n.crossOrigin="anonymous",n.onload=function(h){var M=e.textureLoader(n);e.assets[a]=M,e.toLoad--,e.loaded++,i&&i(o,n)},n.onerror=function(h){e.errors[o]="Couldn't load image "+o,e.toLoad--,e.loaded++,t&&t(o,"Couldn't load image "+o)},this.rawDataUris[o]&&(o=this.rawDataUris[o]),n.src=o},r.prototype.loadTextureAtlas=function(o,i,t){var e=this;i===void 0&&(i=null),t===void 0&&(t=null);var a=o.lastIndexOf("/")>=0?o.substring(0,o.lastIndexOf("/")):"";o=this.pathPrefix+o,this.toLoad++,this.downloadText(o,function(n){var h={count:0},M=new Array;try{var u=new l.TextureAtlas(n,function(y){M.push(a==""?y:a+"/"+y);var x=document.createElement("img");return x.width=16,x.height=16,new l.FakeTexture(x)})}catch(y){var c=y;e.errors[o]="Couldn't load texture atlas "+o+": "+c.message,t&&t(o,"Couldn't load texture atlas "+o+": "+c.message),e.toLoad--,e.loaded++;return}for(var s=function(y){var x=!1;e.loadTexture(y,function(V,C){if(h.count++,h.count==M.length)if(x)e.errors[o]="Couldn't load texture atlas page "+V+"} of atlas "+o,t&&t(o,"Couldn't load texture atlas page "+V+" of atlas "+o),e.toLoad--,e.loaded++;else try{var L=new l.TextureAtlas(n,function(d){return e.get(a==""?d:a+"/"+d)});e.assets[o]=L,i&&i(o,L),e.toLoad--,e.loaded++}catch(d){var A=d;e.errors[o]="Couldn't load texture atlas "+o+": "+A.message,t&&t(o,"Couldn't load texture atlas "+o+": "+A.message),e.toLoad--,e.loaded++}},function(V,C){x=!0,h.count++,h.count==M.length&&(e.errors[o]="Couldn't load texture atlas page "+V+"} of atlas "+o,t&&t(o,"Couldn't load texture atlas page "+V+" of atlas "+o),e.toLoad--,e.loaded++)})},v=0,f=M;v<f.length;v++){var m=f[v];s(m)}},function(n,h){e.errors[o]="Couldn't load texture atlas "+o+": status "+status+", "+h,t&&t(o,"Couldn't load texture atlas "+o+": status "+status+", "+h),e.toLoad--,e.loaded++})},r.prototype.get=function(o){return o=this.pathPrefix+o,this.assets[o]},r.prototype.remove=function(o){o=this.pathPrefix+o;var i=this.assets[o];i.dispose&&i.dispose(),this.assets[o]=null},r.prototype.removeAll=function(){for(var o in this.assets){var i=this.assets[o];i.dispose&&i.dispose()}this.assets={}},r.prototype.isLoadingComplete=function(){return this.toLoad==0},r.prototype.getToLoad=function(){return this.toLoad},r.prototype.getLoaded=function(){return this.loaded},r.prototype.dispose=function(){this.removeAll()},r.prototype.hasErrors=function(){return Object.keys(this.errors).length>0},r.prototype.getErrors=function(){return this.errors},r}();l.AssetManager=B})(spine||(spine={}));var spine;(function(l){var B=function(){function r(o){this.atlas=o}return r.prototype.newRegionAttachment=function(o,i,t){var e=this.atlas.findRegion(t);if(e==null)throw new Error("Region not found in atlas: "+t+" (region attachment: "+i+")");e.renderObject=e;var a=new l.RegionAttachment(i);return a.setRegion(e),a},r.prototype.newMeshAttachment=function(o,i,t){var e=this.atlas.findRegion(t);if(e==null)throw new Error("Region not found in atlas: "+t+" (mesh attachment: "+i+")");e.renderObject=e;var a=new l.MeshAttachment(i);return a.region=e,a},r.prototype.newBoundingBoxAttachment=function(o,i){return new l.BoundingBoxAttachment(i)},r.prototype.newPathAttachment=function(o,i){return new l.PathAttachment(i)},r.prototype.newPointAttachment=function(o,i){return new l.PointAttachment(i)},r.prototype.newClippingAttachment=function(o,i){return new l.ClippingAttachment(i)},r}();l.AtlasAttachmentLoader=B})(spine||(spine={}));var spine;(function(l){var B;(function(r){r[r.Normal=0]="Normal",r[r.Additive=1]="Additive",r[r.Multiply=2]="Multiply",r[r.Screen=3]="Screen"})(B=l.BlendMode||(l.BlendMode={}))})(spine||(spine={}));var spine;(function(l){var B=function(){function r(o,i,t){if(this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.a=0,this.b=0,this.c=0,this.d=0,this.worldY=0,this.worldX=0,this.sorted=!1,this.active=!1,o==null)throw new Error("data cannot be null.");if(i==null)throw new Error("skeleton cannot be null.");this.data=o,this.skeleton=i,this.parent=t,this.setToSetupPose()}return r.prototype.isActive=function(){return this.active},r.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},r.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},r.prototype.updateWorldTransformWith=function(o,i,t,e,a,n,h){this.ax=o,this.ay=i,this.arotation=t,this.ascaleX=e,this.ascaleY=a,this.ashearX=n,this.ashearY=h,this.appliedValid=!0;var M=this.parent;if(M==null){var u=this.skeleton,c=t+90+h,s=u.scaleX,v=u.scaleY;this.a=l.MathUtils.cosDeg(t+n)*e*s,this.b=l.MathUtils.cosDeg(c)*a*s,this.c=l.MathUtils.sinDeg(t+n)*e*v,this.d=l.MathUtils.sinDeg(c)*a*v,this.worldX=o*s+u.x,this.worldY=i*v+u.y;return}var f=M.a,m=M.b,y=M.c,x=M.d;switch(this.worldX=f*o+m*i+M.worldX,this.worldY=y*o+x*i+M.worldY,this.data.transformMode){case l.TransformMode.Normal:{var c=t+90+h,V=l.MathUtils.cosDeg(t+n)*e,C=l.MathUtils.cosDeg(c)*a,L=l.MathUtils.sinDeg(t+n)*e,A=l.MathUtils.sinDeg(c)*a;this.a=f*V+m*L,this.b=f*C+m*A,this.c=y*V+x*L,this.d=y*C+x*A;return}case l.TransformMode.OnlyTranslation:{var c=t+90+h;this.a=l.MathUtils.cosDeg(t+n)*e,this.b=l.MathUtils.cosDeg(c)*a,this.c=l.MathUtils.sinDeg(t+n)*e,this.d=l.MathUtils.sinDeg(c)*a;break}case l.TransformMode.NoRotationOrReflection:{var d=f*f+y*y,E=0;d>1e-4?(d=Math.abs(f*x-m*y)/d,f/=this.skeleton.scaleX,y/=this.skeleton.scaleY,m=y*d,x=f*d,E=Math.atan2(y,f)*l.MathUtils.radDeg):(f=0,y=0,E=90-Math.atan2(x,m)*l.MathUtils.radDeg);var g=t+n-E,S=t+h-E+90,V=l.MathUtils.cosDeg(g)*e,C=l.MathUtils.cosDeg(S)*a,L=l.MathUtils.sinDeg(g)*e,A=l.MathUtils.sinDeg(S)*a;this.a=f*V-m*L,this.b=f*C-m*A,this.c=y*V+x*L,this.d=y*C+x*A;break}case l.TransformMode.NoScale:case l.TransformMode.NoScaleOrReflection:{var F=l.MathUtils.cosDeg(t),I=l.MathUtils.sinDeg(t),O=(f*F+m*I)/this.skeleton.scaleX,G=(y*F+x*I)/this.skeleton.scaleY,d=Math.sqrt(O*O+G*G);d>1e-5&&(d=1/d),O*=d,G*=d,d=Math.sqrt(O*O+G*G),this.data.transformMode==l.TransformMode.NoScale&&f*x-m*y<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(d=-d);var T=Math.PI/2+Math.atan2(G,O),p=Math.cos(T)*d,R=Math.sin(T)*d,V=l.MathUtils.cosDeg(n)*e,C=l.MathUtils.cosDeg(90+h)*a,L=l.MathUtils.sinDeg(n)*e,A=l.MathUtils.sinDeg(90+h)*a;this.a=O*V+p*L,this.b=O*C+p*A,this.c=G*V+R*L,this.d=G*C+R*A;break}}this.a*=this.skeleton.scaleX,this.b*=this.skeleton.scaleX,this.c*=this.skeleton.scaleY,this.d*=this.skeleton.scaleY},r.prototype.setToSetupPose=function(){var o=this.data;this.x=o.x,this.y=o.y,this.rotation=o.rotation,this.scaleX=o.scaleX,this.scaleY=o.scaleY,this.shearX=o.shearX,this.shearY=o.shearY},r.prototype.getWorldRotationX=function(){return Math.atan2(this.c,this.a)*l.MathUtils.radDeg},r.prototype.getWorldRotationY=function(){return Math.atan2(this.d,this.b)*l.MathUtils.radDeg},r.prototype.getWorldScaleX=function(){return Math.sqrt(this.a*this.a+this.c*this.c)},r.prototype.getWorldScaleY=function(){return Math.sqrt(this.b*this.b+this.d*this.d)},r.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var o=this.parent;if(o==null){this.ax=this.worldX,this.ay=this.worldY,this.arotation=Math.atan2(this.c,this.a)*l.MathUtils.radDeg,this.ascaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.ascaleY=Math.sqrt(this.b*this.b+this.d*this.d),this.ashearX=0,this.ashearY=Math.atan2(this.a*this.b+this.c*this.d,this.a*this.d-this.b*this.c)*l.MathUtils.radDeg;return}var i=o.a,t=o.b,e=o.c,a=o.d,n=1/(i*a-t*e),h=this.worldX-o.worldX,M=this.worldY-o.worldY;this.ax=h*a*n-M*t*n,this.ay=M*i*n-h*e*n;var u=n*a,c=n*i,s=n*t,v=n*e,f=u*this.a-s*this.c,m=u*this.b-s*this.d,y=c*this.c-v*this.a,x=c*this.d-v*this.b;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+y*y),this.ascaleX>1e-4){var V=f*x-m*y;this.ascaleY=V/this.ascaleX,this.ashearY=Math.atan2(f*m+y*x,V)*l.MathUtils.radDeg,this.arotation=Math.atan2(y,f)*l.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(m*m+x*x),this.ashearY=0,this.arotation=90-Math.atan2(x,m)*l.MathUtils.radDeg},r.prototype.worldToLocal=function(o){var i=this.a,t=this.b,e=this.c,a=this.d,n=1/(i*a-t*e),h=o.x-this.worldX,M=o.y-this.worldY;return o.x=h*a*n-M*t*n,o.y=M*i*n-h*e*n,o},r.prototype.localToWorld=function(o){var i=o.x,t=o.y;return o.x=i*this.a+t*this.b+this.worldX,o.y=i*this.c+t*this.d+this.worldY,o},r.prototype.worldToLocalRotation=function(o){var i=l.MathUtils.sinDeg(o),t=l.MathUtils.cosDeg(o);return Math.atan2(this.a*i-this.c*t,this.d*t-this.b*i)*l.MathUtils.radDeg+this.rotation-this.shearX},r.prototype.localToWorldRotation=function(o){o-=this.rotation-this.shearX;var i=l.MathUtils.sinDeg(o),t=l.MathUtils.cosDeg(o);return Math.atan2(t*this.c+i*this.d,t*this.a+i*this.b)*l.MathUtils.radDeg},r.prototype.rotateWorld=function(o){var i=this.a,t=this.b,e=this.c,a=this.d,n=l.MathUtils.cosDeg(o),h=l.MathUtils.sinDeg(o);this.a=n*i-h*e,this.b=n*t-h*a,this.c=h*i+n*e,this.d=h*t+n*a,this.appliedValid=!1},r}();l.Bone=B})(spine||(spine={}));var spine;(function(l){var B=function(){function o(i,t,e){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=r.Normal,this.skinRequired=!1,this.color=new l.Color,i<0)throw new Error("index must be >= 0.");if(t==null)throw new Error("name cannot be null.");this.index=i,this.name=t,this.parent=e}return o}();l.BoneData=B;var r;(function(o){o[o.Normal=0]="Normal",o[o.OnlyTranslation=1]="OnlyTranslation",o[o.NoRotationOrReflection=2]="NoRotationOrReflection",o[o.NoScale=3]="NoScale",o[o.NoScaleOrReflection=4]="NoScaleOrReflection"})(r=l.TransformMode||(l.TransformMode={}))})(spine||(spine={}));var spine;(function(l){var B=function(){function r(o,i,t){this.name=o,this.order=i,this.skinRequired=t}return r}();l.ConstraintData=B})(spine||(spine={}));var spine;(function(l){var B=function(){function r(o,i){if(i==null)throw new Error("data cannot be null.");this.time=o,this.data=i}return r}();l.Event=B})(spine||(spine={}));var spine;(function(l){var B=function(){function r(o){this.name=o}return r}();l.EventData=B})(spine||(spine={}));var spine;(function(l){var B=function(){function r(o,i){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,o==null)throw new Error("data cannot be null.");if(i==null)throw new Error("skeleton cannot be null.");this.data=o,this.mix=o.mix,this.softness=o.softness,this.bendDirection=o.bendDirection,this.compress=o.compress,this.stretch=o.stretch,this.bones=new Array;for(var t=0;t<o.bones.length;t++)this.bones.push(i.findBone(o.bones[t].name));this.target=i.findBone(o.target.name)}return r.prototype.isActive=function(){return this.active},r.prototype.apply=function(){this.update()},r.prototype.update=function(){var o=this.target,i=this.bones;switch(i.length){case 1:this.apply1(i[0],o.worldX,o.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(i[0],i[1],o.worldX,o.worldY,this.bendDirection,this.stretch,this.softness,this.mix);break}},r.prototype.apply1=function(o,i,t,e,a,n,h){o.appliedValid||o.updateAppliedTransform();var M=o.parent,u=M.a,c=M.b,s=M.c,v=M.d,f=-o.ashearX-o.arotation,m=0,y=0;switch(o.data.transformMode){case l.TransformMode.OnlyTranslation:m=i-o.worldX,y=t-o.worldY;break;case l.TransformMode.NoRotationOrReflection:var x=Math.abs(u*v-c*s)/(u*u+s*s),V=u/o.skeleton.scaleX,C=s/o.skeleton.scaleY;c=-C*x*o.skeleton.scaleX,v=V*x*o.skeleton.scaleY,f+=Math.atan2(C,V)*l.MathUtils.radDeg;default:var L=i-M.worldX,A=t-M.worldY,d=u*v-c*s;m=(L*v-A*c)/d-o.ax,y=(A*u-L*s)/d-o.ay}f+=Math.atan2(y,m)*l.MathUtils.radDeg,o.ascaleX<0&&(f+=180),f>180?f-=360:f<-180&&(f+=360);var E=o.ascaleX,g=o.ascaleY;if(e||a){switch(o.data.transformMode){case l.TransformMode.NoScale:case l.TransformMode.NoScaleOrReflection:m=i-o.worldX,y=t-o.worldY}var S=o.data.length*E,F=Math.sqrt(m*m+y*y);if(e&&F<S||a&&F>S&&S>1e-4){var x=(F/S-1)*h+1;E*=x,n&&(g*=x)}}o.updateWorldTransformWith(o.ax,o.ay,o.arotation+f*h,E,g,o.ashearX,o.ashearY)},r.prototype.apply2=function(o,i,t,e,a,n,h,M){if(M==0){i.updateWorldTransform();return}o.appliedValid||o.updateAppliedTransform(),i.appliedValid||i.updateAppliedTransform();var u=o.ax,c=o.ay,s=o.ascaleX,v=s,f=o.ascaleY,m=i.ascaleX,y=0,x=0,V=0;s<0?(s=-s,y=180,V=-1):(y=0,V=1),f<0&&(f=-f,V=-V),m<0?(m=-m,x=180):x=0;var C=i.ax,L=0,A=0,d=0,E=o.a,g=o.b,S=o.c,F=o.d,I=Math.abs(s-f)<=1e-4;I?(L=i.ay,A=E*C+g*L+o.worldX,d=S*C+F*L+o.worldY):(L=0,A=E*C+o.worldX,d=S*C+o.worldY);var O=o.parent;E=O.a,g=O.b,S=O.c,F=O.d;var G=1/(E*F-g*S),T=A-O.worldX,p=d-O.worldY,R=(T*F-p*g)*G-u,U=(p*E-T*S)*G-c,N=Math.sqrt(R*R+U*U),W=i.data.length*m,Z,Y;if(N<1e-4){this.apply1(o,t,e,!1,n,!1,M),i.updateWorldTransformWith(C,L,0,i.ascaleX,i.ascaleY,i.ashearX,i.ashearY);return}T=t-O.worldX,p=e-O.worldY;var X=(T*F-p*g)*G-u,j=(p*E-T*S)*G-c,k=X*X+j*j;if(h!=0){h*=s*(m+1)/2;var P=Math.sqrt(k),D=P-N-W*s+h;if(D>0){var z=Math.min(1,D/(h*2))-1;z=(D-h*(1-z*z))/P,X-=z*X,j-=z*j,k=X*X+j*j}}t:if(I){W*=s;var w=(k-N*N-W*W)/(2*N*W);w<-1?w=-1:w>1&&(w=1,n&&(v*=(Math.sqrt(k)/(N+W)-1)*M+1)),Y=Math.acos(w)*a,E=N+W*w,g=W*Math.sin(Y),Z=Math.atan2(j*E-X*g,X*E+j*g)}else{E=s*W,g=f*W;var H=E*E,Q=g*g,_=Math.atan2(j,X);S=Q*N*N+H*k-H*Q;var J=-2*Q*N,$=Q-H;if(F=J*J-4*$*S,F>=0){var K=Math.sqrt(F);J<0&&(K=-K),K=-(J+K)/2;var et=K/$,at=S/K,b=Math.abs(et)<Math.abs(at)?et:at;if(b*b<=k){p=Math.sqrt(k-b*b)*a,Z=_-Math.atan2(p,b),Y=Math.atan2(p/f,(b-N)/s);break t}}var it=l.MathUtils.PI,tt=N-E,rt=tt*tt,q=0,ht=0,ot=N+E,lt=ot*ot,st=0;S=-E*N/(H-Q),S>=-1&&S<=1&&(S=Math.acos(S),T=E*Math.cos(S)+N,p=g*Math.sin(S),F=T*T+p*p,F<rt&&(it=S,rt=F,tt=T,q=p),F>lt&&(ht=S,lt=F,ot=T,st=p)),k<=(rt+lt)/2?(Z=_-Math.atan2(q*a,tt),Y=it*a):(Z=_-Math.atan2(st*a,ot),Y=ht*a)}var ut=Math.atan2(L,C)*V,nt=o.arotation;Z=(Z-ut)*l.MathUtils.radDeg+y-nt,Z>180?Z-=360:Z<-180&&(Z+=360),o.updateWorldTransformWith(u,c,nt+Z*M,v,o.ascaleY,0,0),nt=i.arotation,Y=((Y+ut)*l.MathUtils.radDeg-i.ashearX)*V+x-nt,Y>180?Y-=360:Y<-180&&(Y+=360),i.updateWorldTransformWith(C,L,nt+Y*M,i.ascaleX,i.ascaleY,i.ashearX,i.ashearY)},r}();l.IkConstraint=B})(spine||(spine={}));var spine;(function(l){var B=function(r){__extends(o,r);function o(i){var t=r.call(this,i,0,!1)||this;return t.bones=new Array,t.bendDirection=1,t.compress=!1,t.stretch=!1,t.uniform=!1,t.mix=1,t.softness=0,t}return o}(l.ConstraintData);l.IkConstraintData=B})(spine||(spine={}));var spine;(function(l){var B=function(){function r(o,i){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,o==null)throw new Error("data cannot be null.");if(i==null)throw new Error("skeleton cannot be null.");this.data=o,this.bones=new Array;for(var t=0,e=o.bones.length;t<e;t++)this.bones.push(i.findBone(o.bones[t].name));this.target=i.findSlot(o.target.name),this.position=o.position,this.spacing=o.spacing,this.rotateMix=o.rotateMix,this.translateMix=o.translateMix}return r.prototype.isActive=function(){return this.active},r.prototype.apply=function(){this.update()},r.prototype.update=function(){var o=this.target.getAttachment();if(o instanceof l.PathAttachment){var i=this.rotateMix,t=this.translateMix,e=t>0,a=i>0;if(!(!e&&!a)){var n=this.data,h=n.spacingMode==l.SpacingMode.Percent,M=n.rotateMode,u=M==l.RotateMode.Tangent,c=M==l.RotateMode.ChainScale,s=this.bones.length,v=u?s:s+1,f=this.bones,m=l.Utils.setArraySize(this.spaces,v),y=null,x=this.spacing;if(c||!h){c&&(y=l.Utils.setArraySize(this.lengths,s));for(var V=n.spacingMode==l.SpacingMode.Length,C=0,L=v-1;C<L;){var A=f[C],d=A.data.length;if(d<r.epsilon)c&&(y[C]=0),m[++C]=0;else if(h){if(c){var E=d*A.a,g=d*A.c,S=Math.sqrt(E*E+g*g);y[C]=S}m[++C]=x}else{var E=d*A.a,g=d*A.c,F=Math.sqrt(E*E+g*g);c&&(y[C]=F),m[++C]=(V?d+x:x)*F/d}}}else for(var C=1;C<v;C++)m[C]=x;var I=this.computeWorldPositions(o,v,u,n.positionMode==l.PositionMode.Percent,h),O=I[0],G=I[1],T=n.offsetRotation,p=!1;if(T==0)p=M==l.RotateMode.Chain;else{p=!1;var R=this.target.bone;T*=R.a*R.d-R.b*R.c>0?l.MathUtils.degRad:-l.MathUtils.degRad}for(var C=0,R=3;C<s;C++,R+=3){var A=f[C];A.worldX+=(O-A.worldX)*t,A.worldY+=(G-A.worldY)*t;var E=I[R],g=I[R+1],U=E-O,N=g-G;if(c){var W=y[C];if(W!=0){var Z=(Math.sqrt(U*U+N*N)/W-1)*i+1;A.a*=Z,A.c*=Z}}if(O=E,G=g,a){var Y=A.a,X=A.b,j=A.c,k=A.d,P=0,D=0,z=0;if(u?P=I[R-1]:m[C+1]==0?P=I[R+2]:P=Math.atan2(N,U),P-=Math.atan2(j,Y),p){D=Math.cos(P),z=Math.sin(P);var w=A.data.length;O+=(w*(D*Y-z*j)-U)*i,G+=(w*(z*Y+D*j)-N)*i}else P+=T;P>l.MathUtils.PI?P-=l.MathUtils.PI2:P<-l.MathUtils.PI&&(P+=l.MathUtils.PI2),P*=i,D=Math.cos(P),z=Math.sin(P),A.a=D*Y-z*j,A.b=D*X-z*k,A.c=z*Y+D*j,A.d=z*X+D*k}A.appliedValid=!1}}}},r.prototype.computeWorldPositions=function(o,i,t,e,a){var n=this.target,h=this.position,M=this.spaces,u=l.Utils.setArraySize(this.positions,i*3+2),c=null,s=o.closed,v=o.worldVerticesLength,f=v/6,m=r.NONE;if(!o.constantSpeed){var y=o.lengths;f-=s?1:2;var x=y[f];if(e&&(h*=x),a)for(var V=1;V<i;V++)M[V]*=x;c=l.Utils.setArraySize(this.world,8);for(var V=0,C=0,L=0;V<i;V++,C+=3){var A=M[V];h+=A;var d=h;if(s)d%=x,d<0&&(d+=x),L=0;else if(d<0){m!=r.BEFORE&&(m=r.BEFORE,o.computeWorldVertices(n,2,4,c,0,2)),this.addBeforePosition(d,c,0,u,C);continue}else if(d>x){m!=r.AFTER&&(m=r.AFTER,o.computeWorldVertices(n,v-6,4,c,0,2)),this.addAfterPosition(d-x,c,0,u,C);continue}for(;;L++){var E=y[L];if(!(d>E)){if(L==0)d/=E;else{var g=y[L-1];d=(d-g)/(E-g)}break}}L!=m&&(m=L,s&&L==f?(o.computeWorldVertices(n,v-4,4,c,0,2),o.computeWorldVertices(n,0,4,c,4,2)):o.computeWorldVertices(n,L*6+2,8,c,0,2)),this.addCurvePosition(d,c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],u,C,t||V>0&&A==0)}return u}s?(v+=2,c=l.Utils.setArraySize(this.world,v),o.computeWorldVertices(n,2,v-4,c,0,2),o.computeWorldVertices(n,0,2,c,v-4,2),c[v-2]=c[0],c[v-1]=c[1]):(f--,v-=4,c=l.Utils.setArraySize(this.world,v),o.computeWorldVertices(n,2,v,c,0,2));for(var S=l.Utils.setArraySize(this.curves,f),F=0,I=c[0],O=c[1],G=0,T=0,p=0,R=0,U=0,N=0,W=0,Z=0,Y=0,X=0,j=0,k=0,P=0,D=0,V=0,z=2;V<f;V++,z+=6)G=c[z],T=c[z+1],p=c[z+2],R=c[z+3],U=c[z+4],N=c[z+5],W=(I-G*2+p)*.1875,Z=(O-T*2+R)*.1875,Y=((G-p)*3-I+U)*.09375,X=((T-R)*3-O+N)*.09375,j=W*2+Y,k=Z*2+X,P=(G-I)*.75+W+Y*.16666667,D=(T-O)*.75+Z+X*.16666667,F+=Math.sqrt(P*P+D*D),P+=j,D+=k,j+=Y,k+=X,F+=Math.sqrt(P*P+D*D),P+=j,D+=k,F+=Math.sqrt(P*P+D*D),P+=j+Y,D+=k+X,F+=Math.sqrt(P*P+D*D),S[V]=F,I=U,O=N;if(e?h*=F:h*=F/o.lengths[f-1],a)for(var V=1;V<i;V++)M[V]*=F;for(var w=this.segments,H=0,V=0,C=0,L=0,Q=0;V<i;V++,C+=3){var A=M[V];h+=A;var d=h;if(s)d%=F,d<0&&(d+=F),L=0;else if(d<0){this.addBeforePosition(d,c,0,u,C);continue}else if(d>F){this.addAfterPosition(d-F,c,v-4,u,C);continue}for(;;L++){var _=S[L];if(!(d>_)){if(L==0)d/=_;else{var g=S[L-1];d=(d-g)/(_-g)}break}}if(L!=m){m=L;var J=L*6;for(I=c[J],O=c[J+1],G=c[J+2],T=c[J+3],p=c[J+4],R=c[J+5],U=c[J+6],N=c[J+7],W=(I-G*2+p)*.03,Z=(O-T*2+R)*.03,Y=((G-p)*3-I+U)*.006,X=((T-R)*3-O+N)*.006,j=W*2+Y,k=Z*2+X,P=(G-I)*.3+W+Y*.16666667,D=(T-O)*.3+Z+X*.16666667,H=Math.sqrt(P*P+D*D),w[0]=H,J=1;J<8;J++)P+=j,D+=k,j+=Y,k+=X,H+=Math.sqrt(P*P+D*D),w[J]=H;P+=j,D+=k,H+=Math.sqrt(P*P+D*D),w[8]=H,P+=j+Y,D+=k+X,H+=Math.sqrt(P*P+D*D),w[9]=H,Q=0}for(d*=H;;Q++){var $=w[Q];if(!(d>$)){if(Q==0)d/=$;else{var g=w[Q-1];d=Q+(d-g)/($-g)}break}}this.addCurvePosition(d*.1,I,O,G,T,p,R,U,N,u,C,t||V>0&&A==0)}return u},r.prototype.addBeforePosition=function(o,i,t,e,a){var n=i[t],h=i[t+1],M=i[t+2]-n,u=i[t+3]-h,c=Math.atan2(u,M);e[a]=n+o*Math.cos(c),e[a+1]=h+o*Math.sin(c),e[a+2]=c},r.prototype.addAfterPosition=function(o,i,t,e,a){var n=i[t+2],h=i[t+3],M=n-i[t],u=h-i[t+1],c=Math.atan2(u,M);e[a]=n+o*Math.cos(c),e[a+1]=h+o*Math.sin(c),e[a+2]=c},r.prototype.addCurvePosition=function(o,i,t,e,a,n,h,M,u,c,s,v){if(o==0||isNaN(o)){c[s]=i,c[s+1]=t,c[s+2]=Math.atan2(a-t,e-i);return}var f=o*o,m=f*o,y=1-o,x=y*y,V=x*y,C=y*o,L=C*3,A=y*L,d=L*o,E=i*V+e*A+n*d+M*m,g=t*V+a*A+h*d+u*m;c[s]=E,c[s+1]=g,v&&(o<.001?c[s+2]=Math.atan2(a-t,e-i):c[s+2]=Math.atan2(g-(t*x+a*C*2+h*f),E-(i*x+e*C*2+n*f)))},r.NONE=-1,r.BEFORE=-2,r.AFTER=-3,r.epsilon=1e-5,r}();l.PathConstraint=B})(spine||(spine={}));var spine;(function(l){var B=function(t){__extends(e,t);function e(a){var n=t.call(this,a,0,!1)||this;return n.bones=new Array,n}return e}(l.ConstraintData);l.PathConstraintData=B;var r;(function(t){t[t.Fixed=0]="Fixed",t[t.Percent=1]="Percent"})(r=l.PositionMode||(l.PositionMode={}));var o;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"})(o=l.SpacingMode||(l.SpacingMode={}));var i;(function(t){t[t.Tangent=0]="Tangent",t[t.Chain=1]="Chain",t[t.ChainScale=2]="ChainScale"})(i=l.RotateMode||(l.RotateMode={}))})(spine||(spine={}));var spine;(function(l){var B=function(){function o(i){this.toLoad=new Array,this.assets={},this.clientId=i}return o.prototype.loaded=function(){var i=0;for(var t in this.assets)i++;return i},o}(),r=function(){function o(i){i===void 0&&(i=""),this.clientAssets={},this.queuedAssets={},this.rawAssets={},this.errors={},this.pathPrefix=i}return o.prototype.queueAsset=function(i,t,e){var a=this.clientAssets[i];return a==null&&(a=new B(i),this.clientAssets[i]=a),t!==null&&(a.textureLoader=t),a.toLoad.push(e),this.queuedAssets[e]===e?!1:(this.queuedAssets[e]=e,!0)},o.prototype.loadText=function(i,t){var e=this;if(t=this.pathPrefix+t,!!this.queueAsset(i,null,t)){var a=new XMLHttpRequest;a.overrideMimeType("text/html"),a.onreadystatechange=function(){a.readyState==XMLHttpRequest.DONE&&(a.status>=200&&a.status<300?e.rawAssets[t]=a.responseText:e.errors[t]="Couldn't load text "+t+": status "+a.status+", "+a.responseText)},a.open("GET",t,!0),a.send()}},o.prototype.loadJson=function(i,t){var e=this;if(t=this.pathPrefix+t,!!this.queueAsset(i,null,t)){var a=new XMLHttpRequest;a.overrideMimeType("text/html"),a.onreadystatechange=function(){a.readyState==XMLHttpRequest.DONE&&(a.status>=200&&a.status<300?e.rawAssets[t]=JSON.parse(a.responseText):e.errors[t]="Couldn't load text "+t+": status "+a.status+", "+a.responseText)},a.open("GET",t,!0),a.send()}},o.prototype.loadTexture=function(i,t,e){var a=this;if(e=this.pathPrefix+e,!!this.queueAsset(i,t,e)){var n=!!(typeof window!="undefined"&&typeof navigator!="undefined"&&window.document),h=!n&&typeof importScripts!="undefined";if(h){var M={mode:"cors"};fetch(e,M).then(function(c){return c.ok||(a.errors[e]="Couldn't load image "+e),c.blob()}).then(function(c){return createImageBitmap(c,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(c){a.rawAssets[e]=c})}else{var u=new Image;u.crossOrigin="anonymous",u.onload=function(c){a.rawAssets[e]=u},u.onerror=function(c){a.errors[e]="Couldn't load image "+e},u.src=e}}},o.prototype.get=function(i,t){t=this.pathPrefix+t;var e=this.clientAssets[i];return e==null?!0:e.assets[t]},o.prototype.updateClientAssets=function(i){for(var t=!!(typeof window!="undefined"&&typeof navigator!="undefined"&&window.document),e=!t&&typeof importScripts!="undefined",a=0;a<i.toLoad.length;a++){var n=i.toLoad[a],h=i.assets[n];if(h==null){var M=this.rawAssets[n];if(M==null)continue;e?M instanceof ImageBitmap?i.assets[n]=i.textureLoader(M):i.assets[n]=M:M instanceof HTMLImageElement?i.assets[n]=i.textureLoader(M):i.assets[n]=M}}},o.prototype.isLoadingComplete=function(i){var t=this.clientAssets[i];return t==null?!0:(this.updateClientAssets(t),t.toLoad.length==t.loaded())},o.prototype.dispose=function(){},o.prototype.hasErrors=function(){return Object.keys(this.errors).length>0},o.prototype.getErrors=function(){return this.errors},o}();l.SharedAssetManager=r})(spine||(spine={}));var spine;(function(l){var B=function(){function r(o){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,o==null)throw new Error("data cannot be null.");this.data=o,this.bones=new Array;for(var i=0;i<o.bones.length;i++){var t=o.bones[i],e=void 0;if(t.parent==null)e=new l.Bone(t,this,null);else{var a=this.bones[t.parent.index];e=new l.Bone(t,this,a),a.children.push(e)}this.bones.push(e)}this.slots=new Array,this.drawOrder=new Array;for(var i=0;i<o.slots.length;i++){var n=o.slots[i],e=this.bones[n.boneData.index],h=new l.Slot(n,e);this.slots.push(h),this.drawOrder.push(h)}this.ikConstraints=new Array;for(var i=0;i<o.ikConstraints.length;i++){var M=o.ikConstraints[i];this.ikConstraints.push(new l.IkConstraint(M,this))}this.transformConstraints=new Array;for(var i=0;i<o.transformConstraints.length;i++){var u=o.transformConstraints[i];this.transformConstraints.push(new l.TransformConstraint(u,this))}this.pathConstraints=new Array;for(var i=0;i<o.pathConstraints.length;i++){var c=o.pathConstraints[i];this.pathConstraints.push(new l.PathConstraint(c,this))}this.color=new l.Color(1,1,1,1),this.updateCache()}return r.prototype.updateCache=function(){var o=this._updateCache;o.length=0,this.updateCacheReset.length=0;for(var i=this.bones,t=0,e=i.length;t<e;t++){var a=i[t];a.sorted=a.data.skinRequired,a.active=!a.sorted}if(this.skin!=null)for(var n=this.skin.bones,t=0,e=this.skin.bones.length;t<e;t++){var a=this.bones[n[t].index];do a.sorted=!1,a.active=!0,a=a.parent;while(a!=null)}var h=this.ikConstraints,M=this.transformConstraints,u=this.pathConstraints,c=h.length,s=M.length,v=u.length,f=c+s+v;t:for(var t=0;t<f;t++){for(var m=0;m<c;m++){var y=h[m];if(y.data.order==t){this.sortIkConstraint(y);continue t}}for(var m=0;m<s;m++){var y=M[m];if(y.data.order==t){this.sortTransformConstraint(y);continue t}}for(var m=0;m<v;m++){var y=u[m];if(y.data.order==t){this.sortPathConstraint(y);continue t}}}for(var t=0,e=i.length;t<e;t++)this.sortBone(i[t])},r.prototype.sortIkConstraint=function(o){if(o.active=o.target.isActive()&&(!o.data.skinRequired||this.skin!=null&&l.Utils.contains(this.skin.constraints,o.data,!0)),!!o.active){var i=o.target;this.sortBone(i);var t=o.bones,e=t[0];if(this.sortBone(e),t.length>1){var a=t[t.length-1];this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}this._updateCache.push(o),this.sortReset(e.children),t[t.length-1].sorted=!0}},r.prototype.sortPathConstraint=function(o){if(o.active=o.target.bone.isActive()&&(!o.data.skinRequired||this.skin!=null&&l.Utils.contains(this.skin.constraints,o.data,!0)),!!o.active){var i=o.target,t=i.data.index,e=i.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,t,e),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,t,e);for(var a=0,n=this.data.skins.length;a<n;a++)this.sortPathConstraintAttachment(this.data.skins[a],t,e);var h=i.getAttachment();h instanceof l.PathAttachment&&this.sortPathConstraintAttachmentWith(h,e);for(var M=o.bones,u=M.length,a=0;a<u;a++)this.sortBone(M[a]);this._updateCache.push(o);for(var a=0;a<u;a++)this.sortReset(M[a].children);for(var a=0;a<u;a++)M[a].sorted=!0}},r.prototype.sortTransformConstraint=function(o){if(o.active=o.target.isActive()&&(!o.data.skinRequired||this.skin!=null&&l.Utils.contains(this.skin.constraints,o.data,!0)),!!o.active){this.sortBone(o.target);var i=o.bones,t=i.length;if(o.data.local)for(var e=0;e<t;e++){var a=i[e];this.sortBone(a.parent),this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}else for(var e=0;e<t;e++)this.sortBone(i[e]);this._updateCache.push(o);for(var n=0;n<t;n++)this.sortReset(i[n].children);for(var n=0;n<t;n++)i[n].sorted=!0}},r.prototype.sortPathConstraintAttachment=function(o,i,t){var e=o.attachments[i];if(!!e)for(var a in e)this.sortPathConstraintAttachmentWith(e[a],t)},r.prototype.sortPathConstraintAttachmentWith=function(o,i){if(o instanceof l.PathAttachment){var t=o.bones;if(t==null)this.sortBone(i);else for(var e=this.bones,a=0;a<t.length;)for(var n=t[a++],h=a+n;a<h;a++){var M=t[a];this.sortBone(e[M])}}},r.prototype.sortBone=function(o){if(!o.sorted){var i=o.parent;i!=null&&this.sortBone(i),o.sorted=!0,this._updateCache.push(o)}},r.prototype.sortReset=function(o){for(var i=0,t=o.length;i<t;i++){var e=o[i];!e.active||(e.sorted&&this.sortReset(e.children),e.sorted=!1)}},r.prototype.updateWorldTransform=function(){for(var o=this.updateCacheReset,i=0,t=o.length;i<t;i++){var e=o[i];e.ax=e.x,e.ay=e.y,e.arotation=e.rotation,e.ascaleX=e.scaleX,e.ascaleY=e.scaleY,e.ashearX=e.shearX,e.ashearY=e.shearY,e.appliedValid=!0}for(var a=this._updateCache,i=0,t=a.length;i<t;i++)a[i].update()},r.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},r.prototype.setBonesToSetupPose=function(){for(var o=this.bones,i=0,t=o.length;i<t;i++)o[i].setToSetupPose();for(var e=this.ikConstraints,i=0,t=e.length;i<t;i++){var a=e[i];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}for(var n=this.transformConstraints,i=0,t=n.length;i<t;i++){var a=n[i],h=a.data;a.rotateMix=h.rotateMix,a.translateMix=h.translateMix,a.scaleMix=h.scaleMix,a.shearMix=h.shearMix}for(var M=this.pathConstraints,i=0,t=M.length;i<t;i++){var a=M[i],h=a.data;a.position=h.position,a.spacing=h.spacing,a.rotateMix=h.rotateMix,a.translateMix=h.translateMix}},r.prototype.setSlotsToSetupPose=function(){var o=this.slots;l.Utils.arrayCopy(o,0,this.drawOrder,0,o.length);for(var i=0,t=o.length;i<t;i++)o[i].setToSetupPose()},r.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},r.prototype.findBone=function(o){if(o==null)throw new Error("boneName cannot be null.");for(var i=this.bones,t=0,e=i.length;t<e;t++){var a=i[t];if(a.data.name==o)return a}return null},r.prototype.findBoneIndex=function(o){if(o==null)throw new Error("boneName cannot be null.");for(var i=this.bones,t=0,e=i.length;t<e;t++)if(i[t].data.name==o)return t;return-1},r.prototype.findSlot=function(o){if(o==null)throw new Error("slotName cannot be null.");for(var i=this.slots,t=0,e=i.length;t<e;t++){var a=i[t];if(a.data.name==o)return a}return null},r.prototype.findSlotIndex=function(o){if(o==null)throw new Error("slotName cannot be null.");for(var i=this.slots,t=0,e=i.length;t<e;t++)if(i[t].data.name==o)return t;return-1},r.prototype.setSkinByName=function(o){var i=this.data.findSkin(o);if(i==null)throw new Error("Skin not found: "+o);this.setSkin(i)},r.prototype.setSkin=function(o){if(o!=this.skin){if(o!=null)if(this.skin!=null)o.attachAll(this,this.skin);else for(var i=this.slots,t=0,e=i.length;t<e;t++){var a=i[t],n=a.data.attachmentName;if(n!=null){var h=o.getAttachment(t,n);h!=null&&a.setAttachment(h)}}this.skin=o,this.updateCache()}},r.prototype.getAttachmentByName=function(o,i){return this.getAttachment(this.data.findSlotIndex(o),i)},r.prototype.getAttachment=function(o,i){if(i==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){var t=this.skin.getAttachment(o,i);if(t!=null)return t}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(o,i):null},r.prototype.setAttachment=function(o,i){if(o==null)throw new Error("slotName cannot be null.");for(var t=this.slots,e=0,a=t.length;e<a;e++){var n=t[e];if(n.data.name==o){var h=null;if(i!=null&&(h=this.getAttachment(e,i),h==null))throw new Error("Attachment not found: "+i+", for slot: "+o);n.setAttachment(h);return}}throw new Error("Slot not found: "+o)},r.prototype.findIkConstraint=function(o){if(o==null)throw new Error("constraintName cannot be null.");for(var i=this.ikConstraints,t=0,e=i.length;t<e;t++){var a=i[t];if(a.data.name==o)return a}return null},r.prototype.findTransformConstraint=function(o){if(o==null)throw new Error("constraintName cannot be null.");for(var i=this.transformConstraints,t=0,e=i.length;t<e;t++){var a=i[t];if(a.data.name==o)return a}return null},r.prototype.findPathConstraint=function(o){if(o==null)throw new Error("constraintName cannot be null.");for(var i=this.pathConstraints,t=0,e=i.length;t<e;t++){var a=i[t];if(a.data.name==o)return a}return null},r.prototype.getBounds=function(o,i,t){if(t===void 0&&(t=new Array(2)),o==null)throw new Error("offset cannot be null.");if(i==null)throw new Error("size cannot be null.");for(var e=this.drawOrder,a=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY,M=Number.NEGATIVE_INFINITY,u=0,c=e.length;u<c;u++){var s=e[u];if(!!s.bone.active){var v=0,f=null,m=s.getAttachment();if(m instanceof l.RegionAttachment)v=8,f=l.Utils.setArraySize(t,v,0),m.computeWorldVertices(s.bone,f,0,2);else if(m instanceof l.MeshAttachment){var y=m;v=y.worldVerticesLength,f=l.Utils.setArraySize(t,v,0),y.computeWorldVertices(s,0,v,f,0,2)}if(f!=null)for(var x=0,V=f.length;x<V;x+=2){var C=f[x],L=f[x+1];a=Math.min(a,C),n=Math.min(n,L),h=Math.max(h,C),M=Math.max(M,L)}}}o.set(a,n),i.set(h-a,M-n)},r.prototype.update=function(o){this.time+=o},r}();l.Skeleton=B})(spine||(spine={}));var spine;(function(l){var B=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var a=this.scale,n=new l.SkeletonData;n.name="";var h=new r(e);if(n.hash=h.readString(),n.version=h.readString(),n.version=="3.8.75")throw new Error("Unsupported skeleton data, please export with a newer version of Spine.");n.x=h.readFloat(),n.y=h.readFloat(),n.width=h.readFloat(),n.height=h.readFloat();var M=h.readBoolean();M&&(n.fps=h.readFloat(),n.imagesPath=h.readString(),n.audioPath=h.readString());var u=0;u=h.readInt(!0);for(var c=0;c<u;c++)h.strings.push(h.readString());u=h.readInt(!0);for(var c=0;c<u;c++){var s=h.readString(),v=c==0?null:n.bones[h.readInt(!0)],f=new l.BoneData(c,s,v);f.rotation=h.readFloat(),f.x=h.readFloat()*a,f.y=h.readFloat()*a,f.scaleX=h.readFloat(),f.scaleY=h.readFloat(),f.shearX=h.readFloat(),f.shearY=h.readFloat(),f.length=h.readFloat()*a,f.transformMode=t.TransformModeValues[h.readInt(!0)],f.skinRequired=h.readBoolean(),M&&l.Color.rgba8888ToColor(f.color,h.readInt32()),n.bones.push(f)}u=h.readInt(!0);for(var c=0;c<u;c++){var m=h.readString(),y=n.bones[h.readInt(!0)],f=new l.SlotData(c,m,y);l.Color.rgba8888ToColor(f.color,h.readInt32());var x=h.readInt32();x!=-1&&l.Color.rgb888ToColor(f.darkColor=new l.Color,x),f.attachmentName=h.readStringRef(),f.blendMode=t.BlendModeValues[h.readInt(!0)],n.slots.push(f)}u=h.readInt(!0);for(var c=0,V=void 0;c<u;c++){var f=new l.IkConstraintData(h.readString());f.order=h.readInt(!0),f.skinRequired=h.readBoolean(),V=h.readInt(!0);for(var C=0;C<V;C++)f.bones.push(n.bones[h.readInt(!0)]);f.target=n.bones[h.readInt(!0)],f.mix=h.readFloat(),f.softness=h.readFloat()*a,f.bendDirection=h.readByte(),f.compress=h.readBoolean(),f.stretch=h.readBoolean(),f.uniform=h.readBoolean(),n.ikConstraints.push(f)}u=h.readInt(!0);for(var c=0,V=void 0;c<u;c++){var f=new l.TransformConstraintData(h.readString());f.order=h.readInt(!0),f.skinRequired=h.readBoolean(),V=h.readInt(!0);for(var C=0;C<V;C++)f.bones.push(n.bones[h.readInt(!0)]);f.target=n.bones[h.readInt(!0)],f.local=h.readBoolean(),f.relative=h.readBoolean(),f.offsetRotation=h.readFloat(),f.offsetX=h.readFloat()*a,f.offsetY=h.readFloat()*a,f.offsetScaleX=h.readFloat(),f.offsetScaleY=h.readFloat(),f.offsetShearY=h.readFloat(),f.rotateMix=h.readFloat(),f.translateMix=h.readFloat(),f.scaleMix=h.readFloat(),f.shearMix=h.readFloat(),n.transformConstraints.push(f)}u=h.readInt(!0);for(var c=0,V=void 0;c<u;c++){var f=new l.PathConstraintData(h.readString());f.order=h.readInt(!0),f.skinRequired=h.readBoolean(),V=h.readInt(!0);for(var C=0;C<V;C++)f.bones.push(n.bones[h.readInt(!0)]);f.target=n.slots[h.readInt(!0)],f.positionMode=t.PositionModeValues[h.readInt(!0)],f.spacingMode=t.SpacingModeValues[h.readInt(!0)],f.rotateMode=t.RotateModeValues[h.readInt(!0)],f.offsetRotation=h.readFloat(),f.position=h.readFloat(),f.positionMode==l.PositionMode.Fixed&&(f.position*=a),f.spacing=h.readFloat(),(f.spacingMode==l.SpacingMode.Length||f.spacingMode==l.SpacingMode.Fixed)&&(f.spacing*=a),f.rotateMix=h.readFloat(),f.translateMix=h.readFloat(),n.pathConstraints.push(f)}var L=this.readSkin(h,n,!0,M);L!=null&&(n.defaultSkin=L,n.skins.push(L));{var c=n.skins.length;for(l.Utils.setArraySize(n.skins,u=c+h.readInt(!0));c<u;c++)n.skins[c]=this.readSkin(h,n,!1,M)}u=this.linkedMeshes.length;for(var c=0;c<u;c++){var A=this.linkedMeshes[c],d=A.skin==null?n.defaultSkin:n.findSkin(A.skin);if(d==null)throw new Error("Skin not found: "+A.skin);var E=d.getAttachment(A.slotIndex,A.parent);if(E==null)throw new Error("Parent mesh not found: "+A.parent);A.mesh.deformAttachment=A.inheritDeform?E:A.mesh,A.mesh.setParentMesh(E),A.mesh.updateUVs()}this.linkedMeshes.length=0,u=h.readInt(!0);for(var c=0;c<u;c++){var f=new l.EventData(h.readStringRef());f.intValue=h.readInt(!1),f.floatValue=h.readFloat(),f.stringValue=h.readString(),f.audioPath=h.readString(),f.audioPath!=null&&(f.volume=h.readFloat(),f.balance=h.readFloat()),n.events.push(f)}u=h.readInt(!0);for(var c=0;c<u;c++)n.animations.push(this.readAnimation(h,h.readString(),n));return n},t.prototype.readSkin=function(e,a,n,h){var M=null,u=0;if(n){if(u=e.readInt(!0),u==0)return null;M=new l.Skin("default")}else{M=new l.Skin(e.readStringRef()),M.bones.length=e.readInt(!0);for(var c=0,s=M.bones.length;c<s;c++)M.bones[c]=a.bones[e.readInt(!0)];for(var c=0,s=e.readInt(!0);c<s;c++)M.constraints.push(a.ikConstraints[e.readInt(!0)]);for(var c=0,s=e.readInt(!0);c<s;c++)M.constraints.push(a.transformConstraints[e.readInt(!0)]);for(var c=0,s=e.readInt(!0);c<s;c++)M.constraints.push(a.pathConstraints[e.readInt(!0)]);u=e.readInt(!0)}for(var c=0;c<u;c++)for(var v=e.readInt(!0),f=0,m=e.readInt(!0);f<m;f++){var y=e.readStringRef(),x=this.readAttachment(e,a,M,v,y,h);x!=null&&M.setAttachment(v,y,x)}return M},t.prototype.readAttachment=function(e,a,n,h,M,u){var c=this.scale,s=e.readStringRef();s==null&&(s=M);var v=e.readByte(),f=t.AttachmentTypeValues[v];switch(f){case l.AttachmentType.Region:{var m=e.readStringRef(),y=e.readFloat(),x=e.readFloat(),V=e.readFloat(),C=e.readFloat(),L=e.readFloat(),A=e.readFloat(),d=e.readFloat(),E=e.readInt32();m==null&&(m=s);var g=this.attachmentLoader.newRegionAttachment(n,s,m);return g==null?null:(g.path=m,g.x=x*c,g.y=V*c,g.scaleX=C,g.scaleY=L,g.rotation=y,g.width=A*c,g.height=d*c,l.Color.rgba8888ToColor(g.color,E),g.updateOffset(),g)}case l.AttachmentType.BoundingBox:{var S=e.readInt(!0),F=this.readVertices(e,S),E=u?e.readInt32():0,I=this.attachmentLoader.newBoundingBoxAttachment(n,s);return I==null?null:(I.worldVerticesLength=S<<1,I.vertices=F.vertices,I.bones=F.bones,u&&l.Color.rgba8888ToColor(I.color,E),I)}case l.AttachmentType.Mesh:{var m=e.readStringRef(),E=e.readInt32(),S=e.readInt(!0),O=this.readFloatArray(e,S<<1,1),G=this.readShortArray(e),F=this.readVertices(e,S),T=e.readInt(!0),p=null,A=0,d=0;u&&(p=this.readShortArray(e),A=e.readFloat(),d=e.readFloat()),m==null&&(m=s);var R=this.attachmentLoader.newMeshAttachment(n,s,m);return R==null?null:(R.path=m,l.Color.rgba8888ToColor(R.color,E),R.bones=F.bones,R.vertices=F.vertices,R.worldVerticesLength=S<<1,R.triangles=G,R.regionUVs=O,R.updateUVs(),R.hullLength=T<<1,u&&(R.edges=p,R.width=A*c,R.height=d*c),R)}case l.AttachmentType.LinkedMesh:{var m=e.readStringRef(),E=e.readInt32(),U=e.readStringRef(),N=e.readStringRef(),W=e.readBoolean(),A=0,d=0;u&&(A=e.readFloat(),d=e.readFloat()),m==null&&(m=s);var R=this.attachmentLoader.newMeshAttachment(n,s,m);return R==null?null:(R.path=m,l.Color.rgba8888ToColor(R.color,E),u&&(R.width=A*c,R.height=d*c),this.linkedMeshes.push(new o(R,U,h,N,W)),R)}case l.AttachmentType.Path:{for(var Z=e.readBoolean(),Y=e.readBoolean(),S=e.readInt(!0),F=this.readVertices(e,S),X=l.Utils.newArray(S/3,0),j=0,k=X.length;j<k;j++)X[j]=e.readFloat()*c;var E=u?e.readInt32():0,m=this.attachmentLoader.newPathAttachment(n,s);return m==null?null:(m.closed=Z,m.constantSpeed=Y,m.worldVerticesLength=S<<1,m.vertices=F.vertices,m.bones=F.bones,m.lengths=X,u&&l.Color.rgba8888ToColor(m.color,E),m)}case l.AttachmentType.Point:{var y=e.readFloat(),x=e.readFloat(),V=e.readFloat(),E=u?e.readInt32():0,P=this.attachmentLoader.newPointAttachment(n,s);return P==null?null:(P.x=x*c,P.y=V*c,P.rotation=y,u&&l.Color.rgba8888ToColor(P.color,E),P)}case l.AttachmentType.Clipping:{var D=e.readInt(!0),S=e.readInt(!0),F=this.readVertices(e,S),E=u?e.readInt32():0,z=this.attachmentLoader.newClippingAttachment(n,s);return z==null?null:(z.endSlot=a.slots[D],z.worldVerticesLength=S<<1,z.vertices=F.vertices,z.bones=F.bones,u&&l.Color.rgba8888ToColor(z.color,E),z)}}return null},t.prototype.readVertices=function(e,a){var n=a<<1,h=new i,M=this.scale;if(!e.readBoolean())return h.vertices=this.readFloatArray(e,n,M),h;for(var u=new Array,c=new Array,s=0;s<a;s++){var v=e.readInt(!0);c.push(v);for(var f=0;f<v;f++)c.push(e.readInt(!0)),u.push(e.readFloat()*M),u.push(e.readFloat()*M),u.push(e.readFloat())}return h.vertices=l.Utils.toFloatArray(u),h.bones=c,h},t.prototype.readFloatArray=function(e,a,n){var h=new Array(a);if(n==1)for(var M=0;M<a;M++)h[M]=e.readFloat();else for(var M=0;M<a;M++)h[M]=e.readFloat()*n;return h},t.prototype.readShortArray=function(e){for(var a=e.readInt(!0),n=new Array(a),h=0;h<a;h++)n[h]=e.readShort();return n},t.prototype.readAnimation=function(e,a,n){for(var h=new Array,M=this.scale,u=0,c=new l.Color,s=new l.Color,v=0,f=e.readInt(!0);v<f;v++)for(var m=e.readInt(!0),y=0,x=e.readInt(!0);y<x;y++){var V=e.readByte(),C=e.readInt(!0);switch(V){case t.SLOT_ATTACHMENT:{var L=new l.AttachmentTimeline(C);L.slotIndex=m;for(var A=0;A<C;A++)L.setFrame(A,e.readFloat(),e.readStringRef());h.push(L),u=Math.max(u,L.frames[C-1]);break}case t.SLOT_COLOR:{var L=new l.ColorTimeline(C);L.slotIndex=m;for(var A=0;A<C;A++){var d=e.readFloat();l.Color.rgba8888ToColor(c,e.readInt32()),L.setFrame(A,d,c.r,c.g,c.b,c.a),A<C-1&&this.readCurve(e,A,L)}h.push(L),u=Math.max(u,L.frames[(C-1)*l.ColorTimeline.ENTRIES]);break}case t.SLOT_TWO_COLOR:{var L=new l.TwoColorTimeline(C);L.slotIndex=m;for(var A=0;A<C;A++){var d=e.readFloat();l.Color.rgba8888ToColor(c,e.readInt32()),l.Color.rgb888ToColor(s,e.readInt32()),L.setFrame(A,d,c.r,c.g,c.b,c.a,s.r,s.g,s.b),A<C-1&&this.readCurve(e,A,L)}h.push(L),u=Math.max(u,L.frames[(C-1)*l.TwoColorTimeline.ENTRIES]);break}}}for(var v=0,f=e.readInt(!0);v<f;v++)for(var E=e.readInt(!0),y=0,x=e.readInt(!0);y<x;y++){var V=e.readByte(),C=e.readInt(!0);switch(V){case t.BONE_ROTATE:{var L=new l.RotateTimeline(C);L.boneIndex=E;for(var A=0;A<C;A++)L.setFrame(A,e.readFloat(),e.readFloat()),A<C-1&&this.readCurve(e,A,L);h.push(L),u=Math.max(u,L.frames[(C-1)*l.RotateTimeline.ENTRIES]);break}case t.BONE_TRANSLATE:case t.BONE_SCALE:case t.BONE_SHEAR:{var L=void 0,g=1;V==t.BONE_SCALE?L=new l.ScaleTimeline(C):V==t.BONE_SHEAR?L=new l.ShearTimeline(C):(L=new l.TranslateTimeline(C),g=M),L.boneIndex=E;for(var A=0;A<C;A++)L.setFrame(A,e.readFloat(),e.readFloat()*g,e.readFloat()*g),A<C-1&&this.readCurve(e,A,L);h.push(L),u=Math.max(u,L.frames[(C-1)*l.TranslateTimeline.ENTRIES]);break}}}for(var v=0,f=e.readInt(!0);v<f;v++){var S=e.readInt(!0),C=e.readInt(!0),L=new l.IkConstraintTimeline(C);L.ikConstraintIndex=S;for(var A=0;A<C;A++)L.setFrame(A,e.readFloat(),e.readFloat(),e.readFloat()*M,e.readByte(),e.readBoolean(),e.readBoolean()),A<C-1&&this.readCurve(e,A,L);h.push(L),u=Math.max(u,L.frames[(C-1)*l.IkConstraintTimeline.ENTRIES])}for(var v=0,f=e.readInt(!0);v<f;v++){var S=e.readInt(!0),C=e.readInt(!0),L=new l.TransformConstraintTimeline(C);L.transformConstraintIndex=S;for(var A=0;A<C;A++)L.setFrame(A,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat()),A<C-1&&this.readCurve(e,A,L);h.push(L),u=Math.max(u,L.frames[(C-1)*l.TransformConstraintTimeline.ENTRIES])}for(var v=0,f=e.readInt(!0);v<f;v++)for(var S=e.readInt(!0),F=n.pathConstraints[S],y=0,x=e.readInt(!0);y<x;y++){var V=e.readByte(),C=e.readInt(!0);switch(V){case t.PATH_POSITION:case t.PATH_SPACING:{var L=void 0,g=1;V==t.PATH_SPACING?(L=new l.PathConstraintSpacingTimeline(C),(F.spacingMode==l.SpacingMode.Length||F.spacingMode==l.SpacingMode.Fixed)&&(g=M)):(L=new l.PathConstraintPositionTimeline(C),F.positionMode==l.PositionMode.Fixed&&(g=M)),L.pathConstraintIndex=S;for(var A=0;A<C;A++)L.setFrame(A,e.readFloat(),e.readFloat()*g),A<C-1&&this.readCurve(e,A,L);h.push(L),u=Math.max(u,L.frames[(C-1)*l.PathConstraintPositionTimeline.ENTRIES]);break}case t.PATH_MIX:{var L=new l.PathConstraintMixTimeline(C);L.pathConstraintIndex=S;for(var A=0;A<C;A++)L.setFrame(A,e.readFloat(),e.readFloat(),e.readFloat()),A<C-1&&this.readCurve(e,A,L);h.push(L),u=Math.max(u,L.frames[(C-1)*l.PathConstraintMixTimeline.ENTRIES]);break}}}for(var v=0,f=e.readInt(!0);v<f;v++)for(var I=n.skins[e.readInt(!0)],y=0,x=e.readInt(!0);y<x;y++)for(var m=e.readInt(!0),O=0,G=e.readInt(!0);O<G;O++){var T=I.getAttachment(m,e.readStringRef()),p=T.bones!=null,R=T.vertices,U=p?R.length/3*2:R.length,C=e.readInt(!0),L=new l.DeformTimeline(C);L.slotIndex=m,L.attachment=T;for(var A=0;A<C;A++){var d=e.readFloat(),N=void 0,W=e.readInt(!0);if(W==0)N=p?l.Utils.newFloatArray(U):R;else{N=l.Utils.newFloatArray(U);var Z=e.readInt(!0);if(W+=Z,M==1)for(var Y=Z;Y<W;Y++)N[Y]=e.readFloat();else for(var Y=Z;Y<W;Y++)N[Y]=e.readFloat()*M;if(!p)for(var Y=0,X=N.length;Y<X;Y++)N[Y]+=R[Y]}L.setFrame(A,d,N),A<C-1&&this.readCurve(e,A,L)}h.push(L),u=Math.max(u,L.frames[C-1])}var j=e.readInt(!0);if(j>0){for(var L=new l.DrawOrderTimeline(j),k=n.slots.length,v=0;v<j;v++){for(var d=e.readFloat(),P=e.readInt(!0),D=l.Utils.newArray(k,0),y=k-1;y>=0;y--)D[y]=-1;for(var z=l.Utils.newArray(k-P,0),w=0,H=0,y=0;y<P;y++){for(var m=e.readInt(!0);w!=m;)z[H++]=w++;D[w+e.readInt(!0)]=w++}for(;w<k;)z[H++]=w++;for(var y=k-1;y>=0;y--)D[y]==-1&&(D[y]=z[--H]);L.setFrame(v,d,D)}h.push(L),u=Math.max(u,L.frames[j-1])}var Q=e.readInt(!0);if(Q>0){for(var L=new l.EventTimeline(Q),v=0;v<Q;v++){var d=e.readFloat(),_=n.events[e.readInt(!0)],J=new l.Event(d,_);J.intValue=e.readInt(!1),J.floatValue=e.readFloat(),J.stringValue=e.readBoolean()?e.readString():_.stringValue,J.data.audioPath!=null&&(J.volume=e.readFloat(),J.balance=e.readFloat()),L.setFrame(v,J)}h.push(L),u=Math.max(u,L.frames[Q-1])}return new l.Animation(a,h,u)},t.prototype.readCurve=function(e,a,n){switch(e.readByte()){case t.CURVE_STEPPED:n.setStepped(a);break;case t.CURVE_BEZIER:this.setCurve(n,a,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat());break}},t.prototype.setCurve=function(e,a,n,h,M,u){e.setCurve(a,n,h,M,u)},t.AttachmentTypeValues=[0,1,2,3,4,5,6],t.TransformModeValues=[l.TransformMode.Normal,l.TransformMode.OnlyTranslation,l.TransformMode.NoRotationOrReflection,l.TransformMode.NoScale,l.TransformMode.NoScaleOrReflection],t.PositionModeValues=[l.PositionMode.Fixed,l.PositionMode.Percent],t.SpacingModeValues=[l.SpacingMode.Length,l.SpacingMode.Fixed,l.SpacingMode.Percent],t.RotateModeValues=[l.RotateMode.Tangent,l.RotateMode.Chain,l.RotateMode.ChainScale],t.BlendModeValues=[l.BlendMode.Normal,l.BlendMode.Additive,l.BlendMode.Multiply,l.BlendMode.Screen],t.BONE_ROTATE=0,t.BONE_TRANSLATE=1,t.BONE_SCALE=2,t.BONE_SHEAR=3,t.SLOT_ATTACHMENT=0,t.SLOT_COLOR=1,t.SLOT_TWO_COLOR=2,t.PATH_POSITION=0,t.PATH_SPACING=1,t.PATH_MIX=2,t.CURVE_LINEAR=0,t.CURVE_STEPPED=1,t.CURVE_BEZIER=2,t}();l.SkeletonBinary=B;var r=function(){function t(e,a,n,h){a===void 0&&(a=new Array),n===void 0&&(n=0),h===void 0&&(h=new DataView(e.buffer)),this.strings=a,this.index=n,this.buffer=h}return t.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},t.prototype.readShort=function(){var e=this.buffer.getInt16(this.index);return this.index+=2,e},t.prototype.readInt32=function(){var e=this.buffer.getInt32(this.index);return this.index+=4,e},t.prototype.readInt=function(e){var a=this.readByte(),n=a&127;return(a&128)!=0&&(a=this.readByte(),n|=(a&127)<<7,(a&128)!=0&&(a=this.readByte(),n|=(a&127)<<14,(a&128)!=0&&(a=this.readByte(),n|=(a&127)<<21,(a&128)!=0&&(a=this.readByte(),n|=(a&127)<<28)))),e?n:n>>>1^-(n&1)},t.prototype.readStringRef=function(){var e=this.readInt(!0);return e==0?null:this.strings[e-1]},t.prototype.readString=function(){var e=this.readInt(!0);switch(e){case 0:return null;case 1:return""}e--;for(var a="",n=0,h=0;h<e;){var M=this.readByte();switch(M>>4){case 12:case 13:a+=String.fromCharCode((M&31)<<6|this.readByte()&63),h+=2;break;case 14:a+=String.fromCharCode((M&15)<<12|(this.readByte()&63)<<6|this.readByte()&63),h+=3;break;default:a+=String.fromCharCode(M),h++}}return a},t.prototype.readFloat=function(){var e=this.buffer.getFloat32(this.index);return this.index+=4,e},t.prototype.readBoolean=function(){return this.readByte()!=0},t}(),o=function(){function t(e,a,n,h,M){this.mesh=e,this.skin=a,this.slotIndex=n,this.parent=h,this.inheritDeform=M}return t}(),i=function(){function t(e,a){e===void 0&&(e=null),a===void 0&&(a=null),this.bones=e,this.vertices=a}return t}()})(spine||(spine={}));var spine;(function(l){var B=function(){function r(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new l.Pool(function(){return l.Utils.newFloatArray(16)})}return r.prototype.update=function(o,i){if(o==null)throw new Error("skeleton cannot be null.");var t=this.boundingBoxes,e=this.polygons,a=this.polygonPool,n=o.slots,h=n.length;t.length=0,a.freeAll(e),e.length=0;for(var M=0;M<h;M++){var u=n[M];if(!!u.bone.active){var c=u.getAttachment();if(c instanceof l.BoundingBoxAttachment){var s=c;t.push(s);var v=a.obtain();v.length!=s.worldVerticesLength&&(v=l.Utils.newFloatArray(s.worldVerticesLength)),e.push(v),s.computeWorldVertices(u,0,s.worldVerticesLength,v,0,2)}}}i?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},r.prototype.aabbCompute=function(){for(var o=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,t=Number.NEGATIVE_INFINITY,e=Number.NEGATIVE_INFINITY,a=this.polygons,n=0,h=a.length;n<h;n++)for(var M=a[n],u=M,c=0,s=M.length;c<s;c+=2){var v=u[c],f=u[c+1];o=Math.min(o,v),i=Math.min(i,f),t=Math.max(t,v),e=Math.max(e,f)}this.minX=o,this.minY=i,this.maxX=t,this.maxY=e},r.prototype.aabbContainsPoint=function(o,i){return o>=this.minX&&o<=this.maxX&&i>=this.minY&&i<=this.maxY},r.prototype.aabbIntersectsSegment=function(o,i,t,e){var a=this.minX,n=this.minY,h=this.maxX,M=this.maxY;if(o<=a&&t<=a||i<=n&&e<=n||o>=h&&t>=h||i>=M&&e>=M)return!1;var u=(e-i)/(t-o),c=u*(a-o)+i;if(c>n&&c<M||(c=u*(h-o)+i,c>n&&c<M))return!0;var s=(n-i)/u+o;return!!(s>a&&s<h||(s=(M-i)/u+o,s>a&&s<h))},r.prototype.aabbIntersectsSkeleton=function(o){return this.minX<o.maxX&&this.maxX>o.minX&&this.minY<o.maxY&&this.maxY>o.minY},r.prototype.containsPoint=function(o,i){for(var t=this.polygons,e=0,a=t.length;e<a;e++)if(this.containsPointPolygon(t[e],o,i))return this.boundingBoxes[e];return null},r.prototype.containsPointPolygon=function(o,i,t){for(var e=o,a=o.length,n=a-2,h=!1,M=0;M<a;M+=2){var u=e[M+1],c=e[n+1];if(u<t&&c>=t||c<t&&u>=t){var s=e[M];s+(t-u)/(c-u)*(e[n]-s)<i&&(h=!h)}n=M}return h},r.prototype.intersectsSegment=function(o,i,t,e){for(var a=this.polygons,n=0,h=a.length;n<h;n++)if(this.intersectsSegmentPolygon(a[n],o,i,t,e))return this.boundingBoxes[n];return null},r.prototype.intersectsSegmentPolygon=function(o,i,t,e,a){for(var n=o,h=o.length,M=i-e,u=t-a,c=i*a-t*e,s=n[h-2],v=n[h-1],f=0;f<h;f+=2){var m=n[f],y=n[f+1],x=s*y-v*m,V=s-m,C=v-y,L=M*C-u*V,A=(c*V-M*x)/L;if((A>=s&&A<=m||A>=m&&A<=s)&&(A>=i&&A<=e||A>=e&&A<=i)){var d=(c*C-u*x)/L;if((d>=v&&d<=y||d>=y&&d<=v)&&(d>=t&&d<=a||d>=a&&d<=t))return!0}s=m,v=y}return!1},r.prototype.getPolygon=function(o){if(o==null)throw new Error("boundingBox cannot be null.");var i=this.boundingBoxes.indexOf(o);return i==-1?null:this.polygons[i]},r.prototype.getWidth=function(){return this.maxX-this.minX},r.prototype.getHeight=function(){return this.maxY-this.minY},r}();l.SkeletonBounds=B})(spine||(spine={}));var spine;(function(l){var B=function(){function r(){this.triangulator=new l.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array}return r.prototype.clipStart=function(o,i){if(this.clipAttachment!=null)return 0;this.clipAttachment=i;var t=i.worldVerticesLength,e=l.Utils.setArraySize(this.clippingPolygon,t);i.computeWorldVertices(o,0,t,e,0,2);var a=this.clippingPolygon;r.makeClockwise(a);for(var n=this.clippingPolygons=this.triangulator.decompose(a,this.triangulator.triangulate(a)),h=0,M=n.length;h<M;h++){var u=n[h];r.makeClockwise(u),u.push(u[0]),u.push(u[1])}return n.length},r.prototype.clipEndWithSlot=function(o){this.clipAttachment!=null&&this.clipAttachment.endSlot==o.data&&this.clipEnd()},r.prototype.clipEnd=function(){this.clipAttachment!=null&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)},r.prototype.isClipping=function(){return this.clipAttachment!=null},r.prototype.clipTriangles=function(o,i,t,e,a,n,h,M){var u=this.clipOutput,c=this.clippedVertices,s=this.clippedTriangles,v=this.clippingPolygons,f=this.clippingPolygons.length,m=M?12:8,y=0;c.length=0,s.length=0;t:for(var x=0;x<e;x+=3){var V=t[x]<<1,C=o[V],L=o[V+1],A=a[V],d=a[V+1];V=t[x+1]<<1;var E=o[V],g=o[V+1],S=a[V],F=a[V+1];V=t[x+2]<<1;for(var I=o[V],O=o[V+1],G=a[V],T=a[V+1],p=0;p<f;p++){var R=c.length;if(this.clip(C,L,E,g,I,O,v[p],u)){var U=u.length;if(U==0)continue;for(var N=g-O,W=I-E,Z=C-I,Y=O-L,X=1/(N*Z+W*(L-O)),j=U>>1,k=this.clipOutput,P=l.Utils.setArraySize(c,R+j*m),D=0;D<U;D+=2){var z=k[D],w=k[D+1];P[R]=z,P[R+1]=w,P[R+2]=n.r,P[R+3]=n.g,P[R+4]=n.b,P[R+5]=n.a;var H=z-I,Q=w-O,_=(N*H+W*Q)*X,J=(Y*H+Z*Q)*X,$=1-_-J;P[R+6]=A*_+S*J+G*$,P[R+7]=d*_+F*J+T*$,M&&(P[R+8]=h.r,P[R+9]=h.g,P[R+10]=h.b,P[R+11]=h.a),R+=m}R=s.length;var K=l.Utils.setArraySize(s,R+3*(j-2));j--;for(var D=1;D<j;D++)K[R]=y,K[R+1]=y+D,K[R+2]=y+D+1,R+=3;y+=j+1}else{var P=l.Utils.setArraySize(c,R+3*m);P[R]=C,P[R+1]=L,P[R+2]=n.r,P[R+3]=n.g,P[R+4]=n.b,P[R+5]=n.a,M?(P[R+6]=A,P[R+7]=d,P[R+8]=h.r,P[R+9]=h.g,P[R+10]=h.b,P[R+11]=h.a,P[R+12]=E,P[R+13]=g,P[R+14]=n.r,P[R+15]=n.g,P[R+16]=n.b,P[R+17]=n.a,P[R+18]=S,P[R+19]=F,P[R+20]=h.r,P[R+21]=h.g,P[R+22]=h.b,P[R+23]=h.a,P[R+24]=I,P[R+25]=O,P[R+26]=n.r,P[R+27]=n.g,P[R+28]=n.b,P[R+29]=n.a,P[R+30]=G,P[R+31]=T,P[R+32]=h.r,P[R+33]=h.g,P[R+34]=h.b,P[R+35]=h.a):(P[R+6]=A,P[R+7]=d,P[R+8]=E,P[R+9]=g,P[R+10]=n.r,P[R+11]=n.g,P[R+12]=n.b,P[R+13]=n.a,P[R+14]=S,P[R+15]=F,P[R+16]=I,P[R+17]=O,P[R+18]=n.r,P[R+19]=n.g,P[R+20]=n.b,P[R+21]=n.a,P[R+22]=G,P[R+23]=T),R=s.length;var K=l.Utils.setArraySize(s,R+3);K[R]=y,K[R+1]=y+1,K[R+2]=y+2,y+=3;continue t}}}},r.prototype.clip=function(o,i,t,e,a,n,h,M){var u=M,c=!1,s=null;h.length%4>=2?(s=M,M=this.scratch):s=this.scratch,s.length=0,s.push(o),s.push(i),s.push(t),s.push(e),s.push(a),s.push(n),s.push(o),s.push(i),M.length=0;for(var v=h,f=h.length-4,m=0;;m+=2){for(var y=v[m],x=v[m+1],V=v[m+2],C=v[m+3],L=y-V,A=x-C,d=s,E=s.length-2,g=M.length,S=0;S<E;S+=2){var F=d[S],I=d[S+1],O=d[S+2],G=d[S+3],T=L*(G-C)-A*(O-V)>0;if(L*(I-C)-A*(F-V)>0){if(T){M.push(O),M.push(G);continue}var p=G-I,R=O-F,U=p*(V-y)-R*(C-x);if(Math.abs(U)>1e-6){var N=(R*(x-I)-p*(y-F))/U;M.push(y+(V-y)*N),M.push(x+(C-x)*N)}else M.push(y),M.push(x)}else if(T){var p=G-I,R=O-F,U=p*(V-y)-R*(C-x);if(Math.abs(U)>1e-6){var N=(R*(x-I)-p*(y-F))/U;M.push(y+(V-y)*N),M.push(x+(C-x)*N)}else M.push(y),M.push(x);M.push(O),M.push(G)}c=!0}if(g==M.length)return u.length=0,!0;if(M.push(M[0]),M.push(M[1]),m==f)break;var W=M;M=s,M.length=0,s=W}if(u!=M){u.length=0;for(var m=0,Z=M.length-2;m<Z;m++)u[m]=M[m]}else u.length=u.length-2;return c},r.makeClockwise=function(o){for(var i=o,t=o.length,e=i[t-2]*i[1]-i[0]*i[t-1],a=0,n=0,h=0,M=0,u=0,c=t-3;u<c;u+=2)a=i[u],n=i[u+1],h=i[u+2],M=i[u+3],e+=a*M-h*n;if(!(e<0))for(var u=0,s=t-2,c=t>>1;u<c;u+=2){var v=i[u],f=i[u+1],m=s-u;i[u]=i[m],i[u+1]=i[m+1],i[m]=v,i[m+1]=f}},r}();l.SkeletonClipping=B})(spine||(spine={}));var spine;(function(l){var B=function(){function r(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return r.prototype.findBone=function(o){if(o==null)throw new Error("boneName cannot be null.");for(var i=this.bones,t=0,e=i.length;t<e;t++){var a=i[t];if(a.name==o)return a}return null},r.prototype.findBoneIndex=function(o){if(o==null)throw new Error("boneName cannot be null.");for(var i=this.bones,t=0,e=i.length;t<e;t++)if(i[t].name==o)return t;return-1},r.prototype.findSlot=function(o){if(o==null)throw new Error("slotName cannot be null.");for(var i=this.slots,t=0,e=i.length;t<e;t++){var a=i[t];if(a.name==o)return a}return null},r.prototype.findSlotIndex=function(o){if(o==null)throw new Error("slotName cannot be null.");for(var i=this.slots,t=0,e=i.length;t<e;t++)if(i[t].name==o)return t;return-1},r.prototype.findSkin=function(o){if(o==null)throw new Error("skinName cannot be null.");for(var i=this.skins,t=0,e=i.length;t<e;t++){var a=i[t];if(a.name==o)return a}return null},r.prototype.findEvent=function(o){if(o==null)throw new Error("eventDataName cannot be null.");for(var i=this.events,t=0,e=i.length;t<e;t++){var a=i[t];if(a.name==o)return a}return null},r.prototype.findAnimation=function(o){if(o==null)throw new Error("animationName cannot be null.");for(var i=this.animations,t=0,e=i.length;t<e;t++){var a=i[t];if(a.name==o)return a}return null},r.prototype.findIkConstraint=function(o){if(o==null)throw new Error("constraintName cannot be null.");for(var i=this.ikConstraints,t=0,e=i.length;t<e;t++){var a=i[t];if(a.name==o)return a}return null},r.prototype.findTransformConstraint=function(o){if(o==null)throw new Error("constraintName cannot be null.");for(var i=this.transformConstraints,t=0,e=i.length;t<e;t++){var a=i[t];if(a.name==o)return a}return null},r.prototype.findPathConstraint=function(o){if(o==null)throw new Error("constraintName cannot be null.");for(var i=this.pathConstraints,t=0,e=i.length;t<e;t++){var a=i[t];if(a.name==o)return a}return null},r.prototype.findPathConstraintIndex=function(o){if(o==null)throw new Error("pathConstraintName cannot be null.");for(var i=this.pathConstraints,t=0,e=i.length;t<e;t++)if(i[t].name==o)return t;return-1},r}();l.SkeletonData=B})(spine||(spine={}));var spine;(function(l){var B=function(){function o(i){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=i}return o.prototype.readSkeletonData=function(i){var t=this.scale,e=new l.SkeletonData,a=typeof i=="string"?JSON.parse(i):i,n=a.skeleton;if(n!=null){if(e.hash=n.hash,e.version=n.spine,e.version=="3.8.75")throw new Error("Unsupported skeleton data, please export with a newer version of Spine.");e.x=n.x,e.y=n.y,e.width=n.width,e.height=n.height,e.fps=n.fps,e.imagesPath=n.images}if(a.bones)for(var h=0;h<a.bones.length;h++){var M=a.bones[h],u=null,c=this.getValue(M,"parent",null);if(c!=null&&(u=e.findBone(c),u==null))throw new Error("Parent bone not found: "+c);var s=new l.BoneData(e.bones.length,M.name,u);s.length=this.getValue(M,"length",0)*t,s.x=this.getValue(M,"x",0)*t,s.y=this.getValue(M,"y",0)*t,s.rotation=this.getValue(M,"rotation",0),s.scaleX=this.getValue(M,"scaleX",1),s.scaleY=this.getValue(M,"scaleY",1),s.shearX=this.getValue(M,"shearX",0),s.shearY=this.getValue(M,"shearY",0),s.transformMode=o.transformModeFromString(this.getValue(M,"transform","normal")),s.skinRequired=this.getValue(M,"skin",!1),e.bones.push(s)}if(a.slots)for(var h=0;h<a.slots.length;h++){var v=a.slots[h],f=v.name,m=v.bone,y=e.findBone(m);if(y==null)throw new Error("Slot bone not found: "+m);var s=new l.SlotData(e.slots.length,f,y),x=this.getValue(v,"color",null);x!=null&&s.color.setFromString(x);var V=this.getValue(v,"dark",null);V!=null&&(s.darkColor=new l.Color(1,1,1,1),s.darkColor.setFromString(V)),s.attachmentName=this.getValue(v,"attachment",null),s.blendMode=o.blendModeFromString(this.getValue(v,"blend","normal")),e.slots.push(s)}if(a.ik)for(var h=0;h<a.ik.length;h++){var C=a.ik[h],s=new l.IkConstraintData(C.name);s.order=this.getValue(C,"order",0),s.skinRequired=this.getValue(C,"skin",!1);for(var L=0;L<C.bones.length;L++){var m=C.bones[L],A=e.findBone(m);if(A==null)throw new Error("IK bone not found: "+m);s.bones.push(A)}var d=C.target;if(s.target=e.findBone(d),s.target==null)throw new Error("IK target bone not found: "+d);s.mix=this.getValue(C,"mix",1),s.softness=this.getValue(C,"softness",0)*t,s.bendDirection=this.getValue(C,"bendPositive",!0)?1:-1,s.compress=this.getValue(C,"compress",!1),s.stretch=this.getValue(C,"stretch",!1),s.uniform=this.getValue(C,"uniform",!1),e.ikConstraints.push(s)}if(a.transform)for(var h=0;h<a.transform.length;h++){var C=a.transform[h],s=new l.TransformConstraintData(C.name);s.order=this.getValue(C,"order",0),s.skinRequired=this.getValue(C,"skin",!1);for(var L=0;L<C.bones.length;L++){var m=C.bones[L],A=e.findBone(m);if(A==null)throw new Error("Transform constraint bone not found: "+m);s.bones.push(A)}var d=C.target;if(s.target=e.findBone(d),s.target==null)throw new Error("Transform constraint target bone not found: "+d);s.local=this.getValue(C,"local",!1),s.relative=this.getValue(C,"relative",!1),s.offsetRotation=this.getValue(C,"rotation",0),s.offsetX=this.getValue(C,"x",0)*t,s.offsetY=this.getValue(C,"y",0)*t,s.offsetScaleX=this.getValue(C,"scaleX",0),s.offsetScaleY=this.getValue(C,"scaleY",0),s.offsetShearY=this.getValue(C,"shearY",0),s.rotateMix=this.getValue(C,"rotateMix",1),s.translateMix=this.getValue(C,"translateMix",1),s.scaleMix=this.getValue(C,"scaleMix",1),s.shearMix=this.getValue(C,"shearMix",1),e.transformConstraints.push(s)}if(a.path)for(var h=0;h<a.path.length;h++){var C=a.path[h],s=new l.PathConstraintData(C.name);s.order=this.getValue(C,"order",0),s.skinRequired=this.getValue(C,"skin",!1);for(var L=0;L<C.bones.length;L++){var m=C.bones[L],A=e.findBone(m);if(A==null)throw new Error("Transform constraint bone not found: "+m);s.bones.push(A)}var d=C.target;if(s.target=e.findSlot(d),s.target==null)throw new Error("Path target slot not found: "+d);s.positionMode=o.positionModeFromString(this.getValue(C,"positionMode","percent")),s.spacingMode=o.spacingModeFromString(this.getValue(C,"spacingMode","length")),s.rotateMode=o.rotateModeFromString(this.getValue(C,"rotateMode","tangent")),s.offsetRotation=this.getValue(C,"rotation",0),s.position=this.getValue(C,"position",0),s.positionMode==l.PositionMode.Fixed&&(s.position*=t),s.spacing=this.getValue(C,"spacing",0),(s.spacingMode==l.SpacingMode.Length||s.spacingMode==l.SpacingMode.Fixed)&&(s.spacing*=t),s.rotateMix=this.getValue(C,"rotateMix",1),s.translateMix=this.getValue(C,"translateMix",1),e.pathConstraints.push(s)}if(a.skins)for(var h=0;h<a.skins.length;h++){var E=a.skins[h],g=new l.Skin(E.name);if(E.bones)for(var S=0;S<E.bones.length;S++){var A=e.findBone(E.bones[S]);if(A==null)throw new Error("Skin bone not found: "+E.bones[h]);g.bones.push(A)}if(E.ik)for(var S=0;S<E.ik.length;S++){var F=e.findIkConstraint(E.ik[S]);if(F==null)throw new Error("Skin IK constraint not found: "+E.ik[h]);g.constraints.push(F)}if(E.transform)for(var S=0;S<E.transform.length;S++){var F=e.findTransformConstraint(E.transform[S]);if(F==null)throw new Error("Skin transform constraint not found: "+E.transform[h]);g.constraints.push(F)}if(E.path)for(var S=0;S<E.path.length;S++){var F=e.findPathConstraint(E.path[S]);if(F==null)throw new Error("Skin path constraint not found: "+E.path[h]);g.constraints.push(F)}for(var f in E.attachments){var I=e.findSlot(f);if(I==null)throw new Error("Slot not found: "+f);var v=E.attachments[f];for(var O in v){var G=this.readAttachment(v[O],g,I.index,O,e);G!=null&&g.setAttachment(I.index,O,G)}}e.skins.push(g),g.name=="default"&&(e.defaultSkin=g)}for(var h=0,T=this.linkedMeshes.length;h<T;h++){var p=this.linkedMeshes[h],g=p.skin==null?e.defaultSkin:e.findSkin(p.skin);if(g==null)throw new Error("Skin not found: "+p.skin);var R=g.getAttachment(p.slotIndex,p.parent);if(R==null)throw new Error("Parent mesh not found: "+p.parent);p.mesh.deformAttachment=p.inheritDeform?R:p.mesh,p.mesh.setParentMesh(R),p.mesh.updateUVs()}if(this.linkedMeshes.length=0,a.events)for(var U in a.events){var N=a.events[U],s=new l.EventData(U);s.intValue=this.getValue(N,"int",0),s.floatValue=this.getValue(N,"float",0),s.stringValue=this.getValue(N,"string",""),s.audioPath=this.getValue(N,"audio",null),s.audioPath!=null&&(s.volume=this.getValue(N,"volume",1),s.balance=this.getValue(N,"balance",0)),e.events.push(s)}if(a.animations)for(var W in a.animations){var Z=a.animations[W];this.readAnimation(Z,W,e)}return e},o.prototype.readAttachment=function(i,t,e,a,n){var h=this.scale;a=this.getValue(i,"name",a);var M=this.getValue(i,"type","region");switch(M){case"region":{var u=this.getValue(i,"path",a),c=this.attachmentLoader.newRegionAttachment(t,a,u);if(c==null)return null;c.path=u,c.x=this.getValue(i,"x",0)*h,c.y=this.getValue(i,"y",0)*h,c.scaleX=this.getValue(i,"scaleX",1),c.scaleY=this.getValue(i,"scaleY",1),c.rotation=this.getValue(i,"rotation",0),c.width=i.width*h,c.height=i.height*h;var s=this.getValue(i,"color",null);return s!=null&&c.color.setFromString(s),c.updateOffset(),c}case"boundingbox":{var v=this.attachmentLoader.newBoundingBoxAttachment(t,a);if(v==null)return null;this.readVertices(i,v,i.vertexCount<<1);var s=this.getValue(i,"color",null);return s!=null&&v.color.setFromString(s),v}case"mesh":case"linkedmesh":{var u=this.getValue(i,"path",a),f=this.attachmentLoader.newMeshAttachment(t,a,u);if(f==null)return null;f.path=u;var s=this.getValue(i,"color",null);s!=null&&f.color.setFromString(s),f.width=this.getValue(i,"width",0)*h,f.height=this.getValue(i,"height",0)*h;var m=this.getValue(i,"parent",null);if(m!=null)return this.linkedMeshes.push(new r(f,this.getValue(i,"skin",null),e,m,this.getValue(i,"deform",!0))),f;var y=i.uvs;return this.readVertices(i,f,y.length),f.triangles=i.triangles,f.regionUVs=y,f.updateUVs(),f.edges=this.getValue(i,"edges",null),f.hullLength=this.getValue(i,"hull",0)*2,f}case"path":{var u=this.attachmentLoader.newPathAttachment(t,a);if(u==null)return null;u.closed=this.getValue(i,"closed",!1),u.constantSpeed=this.getValue(i,"constantSpeed",!0);var x=i.vertexCount;this.readVertices(i,u,x<<1);for(var V=l.Utils.newArray(x/3,0),C=0;C<i.lengths.length;C++)V[C]=i.lengths[C]*h;u.lengths=V;var s=this.getValue(i,"color",null);return s!=null&&u.color.setFromString(s),u}case"point":{var L=this.attachmentLoader.newPointAttachment(t,a);if(L==null)return null;L.x=this.getValue(i,"x",0)*h,L.y=this.getValue(i,"y",0)*h,L.rotation=this.getValue(i,"rotation",0);var s=this.getValue(i,"color",null);return s!=null&&L.color.setFromString(s),L}case"clipping":{var A=this.attachmentLoader.newClippingAttachment(t,a);if(A==null)return null;var d=this.getValue(i,"end",null);if(d!=null){var E=n.findSlot(d);if(E==null)throw new Error("Clipping end slot not found: "+d);A.endSlot=E}var x=i.vertexCount;this.readVertices(i,A,x<<1);var s=this.getValue(i,"color",null);return s!=null&&A.color.setFromString(s),A}}return null},o.prototype.readVertices=function(i,t,e){var a=this.scale;t.worldVerticesLength=e;var n=i.vertices;if(e==n.length){var h=l.Utils.toFloatArray(n);if(a!=1)for(var M=0,u=n.length;M<u;M++)h[M]*=a;t.vertices=h;return}for(var c=new Array,s=new Array,M=0,u=n.length;M<u;){var v=n[M++];s.push(v);for(var f=M+v*4;M<f;M+=4)s.push(n[M]),c.push(n[M+1]*a),c.push(n[M+2]*a),c.push(n[M+3])}t.bones=s,t.vertices=l.Utils.toFloatArray(c)},o.prototype.readAnimation=function(i,t,e){var a=this.scale,n=new Array,h=0;if(i.slots)for(var M in i.slots){var u=i.slots[M],c=e.findSlotIndex(M);if(c==-1)throw new Error("Slot not found: "+M);for(var s in u){var v=u[s];if(s=="attachment"){var f=new l.AttachmentTimeline(v.length);f.slotIndex=c;for(var m=0,y=0;y<v.length;y++){var x=v[y];f.setFrame(m++,this.getValue(x,"time",0),x.name)}n.push(f),h=Math.max(h,f.frames[f.getFrameCount()-1])}else if(s=="color"){var f=new l.ColorTimeline(v.length);f.slotIndex=c;for(var m=0,y=0;y<v.length;y++){var x=v[y],V=new l.Color;V.setFromString(x.color),f.setFrame(m,this.getValue(x,"time",0),V.r,V.g,V.b,V.a),this.readCurve(x,f,m),m++}n.push(f),h=Math.max(h,f.frames[(f.getFrameCount()-1)*l.ColorTimeline.ENTRIES])}else if(s=="twoColor"){var f=new l.TwoColorTimeline(v.length);f.slotIndex=c;for(var m=0,y=0;y<v.length;y++){var x=v[y],C=new l.Color,L=new l.Color;C.setFromString(x.light),L.setFromString(x.dark),f.setFrame(m,this.getValue(x,"time",0),C.r,C.g,C.b,C.a,L.r,L.g,L.b),this.readCurve(x,f,m),m++}n.push(f),h=Math.max(h,f.frames[(f.getFrameCount()-1)*l.TwoColorTimeline.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+s+" ("+M+")")}}if(i.bones)for(var A in i.bones){var d=i.bones[A],E=e.findBoneIndex(A);if(E==-1)throw new Error("Bone not found: "+A);for(var s in d){var v=d[s];if(s==="rotate"){var f=new l.RotateTimeline(v.length);f.boneIndex=E;for(var m=0,y=0;y<v.length;y++){var x=v[y];f.setFrame(m,this.getValue(x,"time",0),this.getValue(x,"angle",0)),this.readCurve(x,f,m),m++}n.push(f),h=Math.max(h,f.frames[(f.getFrameCount()-1)*l.RotateTimeline.ENTRIES])}else if(s==="translate"||s==="scale"||s==="shear"){var f=null,g=1,S=0;s==="scale"?(f=new l.ScaleTimeline(v.length),S=1):s==="shear"?f=new l.ShearTimeline(v.length):(f=new l.TranslateTimeline(v.length),g=a),f.boneIndex=E;for(var m=0,y=0;y<v.length;y++){var x=v[y],F=this.getValue(x,"x",S),I=this.getValue(x,"y",S);f.setFrame(m,this.getValue(x,"time",0),F*g,I*g),this.readCurve(x,f,m),m++}n.push(f),h=Math.max(h,f.frames[(f.getFrameCount()-1)*l.TranslateTimeline.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+s+" ("+A+")")}}if(i.ik)for(var O in i.ik){var G=i.ik[O],T=e.findIkConstraint(O),f=new l.IkConstraintTimeline(G.length);f.ikConstraintIndex=e.ikConstraints.indexOf(T);for(var m=0,y=0;y<G.length;y++){var x=G[y];f.setFrame(m,this.getValue(x,"time",0),this.getValue(x,"mix",1),this.getValue(x,"softness",0)*a,this.getValue(x,"bendPositive",!0)?1:-1,this.getValue(x,"compress",!1),this.getValue(x,"stretch",!1)),this.readCurve(x,f,m),m++}n.push(f),h=Math.max(h,f.frames[(f.getFrameCount()-1)*l.IkConstraintTimeline.ENTRIES])}if(i.transform)for(var O in i.transform){var G=i.transform[O],T=e.findTransformConstraint(O),f=new l.TransformConstraintTimeline(G.length);f.transformConstraintIndex=e.transformConstraints.indexOf(T);for(var m=0,y=0;y<G.length;y++){var x=G[y];f.setFrame(m,this.getValue(x,"time",0),this.getValue(x,"rotateMix",1),this.getValue(x,"translateMix",1),this.getValue(x,"scaleMix",1),this.getValue(x,"shearMix",1)),this.readCurve(x,f,m),m++}n.push(f),h=Math.max(h,f.frames[(f.getFrameCount()-1)*l.TransformConstraintTimeline.ENTRIES])}if(i.path)for(var O in i.path){var G=i.path[O],p=e.findPathConstraintIndex(O);if(p==-1)throw new Error("Path constraint not found: "+O);var R=e.pathConstraints[p];for(var s in G){var v=G[s];if(s==="position"||s==="spacing"){var f=null,g=1;s==="spacing"?(f=new l.PathConstraintSpacingTimeline(v.length),(R.spacingMode==l.SpacingMode.Length||R.spacingMode==l.SpacingMode.Fixed)&&(g=a)):(f=new l.PathConstraintPositionTimeline(v.length),R.positionMode==l.PositionMode.Fixed&&(g=a)),f.pathConstraintIndex=p;for(var m=0,y=0;y<v.length;y++){var x=v[y];f.setFrame(m,this.getValue(x,"time",0),this.getValue(x,s,0)*g),this.readCurve(x,f,m),m++}n.push(f),h=Math.max(h,f.frames[(f.getFrameCount()-1)*l.PathConstraintPositionTimeline.ENTRIES])}else if(s==="mix"){var f=new l.PathConstraintMixTimeline(v.length);f.pathConstraintIndex=p;for(var m=0,y=0;y<v.length;y++){var x=v[y];f.setFrame(m,this.getValue(x,"time",0),this.getValue(x,"rotateMix",1),this.getValue(x,"translateMix",1)),this.readCurve(x,f,m),m++}n.push(f),h=Math.max(h,f.frames[(f.getFrameCount()-1)*l.PathConstraintMixTimeline.ENTRIES])}}}if(i.deform)for(var U in i.deform){var N=i.deform[U],W=e.findSkin(U);if(W==null)throw new Error("Skin not found: "+U);for(var M in N){var u=N[M],c=e.findSlotIndex(M);if(c==-1)throw new Error("Slot not found: "+u.name);for(var s in u){var v=u[s],Z=W.getAttachment(c,s);if(Z==null)throw new Error("Deform attachment not found: "+v.name);var Y=Z.bones!=null,X=Z.vertices,j=Y?X.length/3*2:X.length,f=new l.DeformTimeline(v.length);f.slotIndex=c,f.attachment=Z;for(var m=0,k=0;k<v.length;k++){var x=v[k],P=void 0,D=this.getValue(x,"vertices",null);if(D==null)P=Y?l.Utils.newFloatArray(j):X;else{P=l.Utils.newFloatArray(j);var z=this.getValue(x,"offset",0);if(l.Utils.arrayCopy(D,0,P,z,D.length),a!=1)for(var y=z,w=y+D.length;y<w;y++)P[y]*=a;if(!Y)for(var y=0;y<j;y++)P[y]+=X[y]}f.setFrame(m,this.getValue(x,"time",0),P),this.readCurve(x,f,m),m++}n.push(f),h=Math.max(h,f.frames[f.getFrameCount()-1])}}}var H=i.drawOrder;if(H==null&&(H=i.draworder),H!=null){for(var f=new l.DrawOrderTimeline(H.length),Q=e.slots.length,m=0,k=0;k<H.length;k++){var _=H[k],J=null,$=this.getValue(_,"offsets",null);if($!=null){J=l.Utils.newArray(Q,-1);for(var K=l.Utils.newArray(Q-$.length,0),et=0,at=0,y=0;y<$.length;y++){var b=$[y],c=e.findSlotIndex(b.slot);if(c==-1)throw new Error("Slot not found: "+b.slot);for(;et!=c;)K[at++]=et++;J[et+b.offset]=et++}for(;et<Q;)K[at++]=et++;for(var y=Q-1;y>=0;y--)J[y]==-1&&(J[y]=K[--at])}f.setFrame(m++,this.getValue(_,"time",0),J)}n.push(f),h=Math.max(h,f.frames[f.getFrameCount()-1])}if(i.events){for(var f=new l.EventTimeline(i.events.length),m=0,y=0;y<i.events.length;y++){var it=i.events[y],tt=e.findEvent(it.name);if(tt==null)throw new Error("Event not found: "+it.name);var rt=new l.Event(l.Utils.toSinglePrecision(this.getValue(it,"time",0)),tt);rt.intValue=this.getValue(it,"int",tt.intValue),rt.floatValue=this.getValue(it,"float",tt.floatValue),rt.stringValue=this.getValue(it,"string",tt.stringValue),rt.data.audioPath!=null&&(rt.volume=this.getValue(it,"volume",1),rt.balance=this.getValue(it,"balance",0)),f.setFrame(m++,rt)}n.push(f),h=Math.max(h,f.frames[f.getFrameCount()-1])}if(isNaN(h))throw new Error("Error while parsing animation, duration is NaN");e.animations.push(new l.Animation(t,n,h))},o.prototype.readCurve=function(i,t,e){if(!!i.hasOwnProperty("curve"))if(i.curve=="stepped")t.setStepped(e);else{var a=i.curve;t.setCurve(e,a,this.getValue(i,"c2",0),this.getValue(i,"c3",1),this.getValue(i,"c4",1))}},o.prototype.getValue=function(i,t,e){return i[t]!==void 0?i[t]:e},o.blendModeFromString=function(i){if(i=i.toLowerCase(),i=="normal")return l.BlendMode.Normal;if(i=="additive")return l.BlendMode.Additive;if(i=="multiply")return l.BlendMode.Multiply;if(i=="screen")return l.BlendMode.Screen;throw new Error("Unknown blend mode: "+i)},o.positionModeFromString=function(i){if(i=i.toLowerCase(),i=="fixed")return l.PositionMode.Fixed;if(i=="percent")return l.PositionMode.Percent;throw new Error("Unknown position mode: "+i)},o.spacingModeFromString=function(i){if(i=i.toLowerCase(),i=="length")return l.SpacingMode.Length;if(i=="fixed")return l.SpacingMode.Fixed;if(i=="percent")return l.SpacingMode.Percent;throw new Error("Unknown position mode: "+i)},o.rotateModeFromString=function(i){if(i=i.toLowerCase(),i=="tangent")return l.RotateMode.Tangent;if(i=="chain")return l.RotateMode.Chain;if(i=="chainscale")return l.RotateMode.ChainScale;throw new Error("Unknown rotate mode: "+i)},o.transformModeFromString=function(i){if(i=i.toLowerCase(),i=="normal")return l.TransformMode.Normal;if(i=="onlytranslation")return l.TransformMode.OnlyTranslation;if(i=="norotationorreflection")return l.TransformMode.NoRotationOrReflection;if(i=="noscale")return l.TransformMode.NoScale;if(i=="noscaleorreflection")return l.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: "+i)},o}();l.SkeletonJson=B;var r=function(){function o(i,t,e,a,n){this.mesh=i,this.skin=t,this.slotIndex=e,this.parent=a,this.inheritDeform=n}return o}()})(spine||(spine={}));var spine;(function(l){var B=function(){function o(i,t,e){this.slotIndex=i,this.name=t,this.attachment=e}return o}();l.SkinEntry=B;var r=function(){function o(i){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,i==null)throw new Error("name cannot be null.");this.name=i}return o.prototype.setAttachment=function(i,t,e){if(e==null)throw new Error("attachment cannot be null.");var a=this.attachments;i>=a.length&&(a.length=i+1),a[i]||(a[i]={}),a[i][t]=e},o.prototype.addSkin=function(i){for(var t=0;t<i.bones.length;t++){for(var e=i.bones[t],a=!1,n=0;n<this.bones.length;n++)if(this.bones[n]==e){a=!0;break}a||this.bones.push(e)}for(var t=0;t<i.constraints.length;t++){for(var h=i.constraints[t],a=!1,n=0;n<this.constraints.length;n++)if(this.constraints[n]==h){a=!0;break}a||this.constraints.push(h)}for(var M=i.getAttachments(),t=0;t<M.length;t++){var u=M[t];this.setAttachment(u.slotIndex,u.name,u.attachment)}},o.prototype.copySkin=function(i){for(var t=0;t<i.bones.length;t++){for(var e=i.bones[t],a=!1,n=0;n<this.bones.length;n++)if(this.bones[n]==e){a=!0;break}a||this.bones.push(e)}for(var t=0;t<i.constraints.length;t++){for(var h=i.constraints[t],a=!1,n=0;n<this.constraints.length;n++)if(this.constraints[n]==h){a=!0;break}a||this.constraints.push(h)}for(var M=i.getAttachments(),t=0;t<M.length;t++){var u=M[t];u.attachment!=null&&(u.attachment instanceof l.MeshAttachment?(u.attachment=u.attachment.newLinkedMesh(),this.setAttachment(u.slotIndex,u.name,u.attachment)):(u.attachment=u.attachment.copy(),this.setAttachment(u.slotIndex,u.name,u.attachment)))}},o.prototype.getAttachment=function(i,t){var e=this.attachments[i];return e?e[t]:null},o.prototype.removeAttachment=function(i,t){var e=this.attachments[i];e&&(e[t]=null)},o.prototype.getAttachments=function(){for(var i=new Array,t=0;t<this.attachments.length;t++){var e=this.attachments[t];if(e)for(var a in e){var n=e[a];n&&i.push(new B(t,a,n))}}return i},o.prototype.getAttachmentsForSlot=function(i,t){var e=this.attachments[i];if(e)for(var a in e){var n=e[a];n&&t.push(new B(i,a,n))}},o.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},o.prototype.attachAll=function(i,t){for(var e=0,a=0;a<i.slots.length;a++){var n=i.slots[a],h=n.getAttachment();if(h&&e<t.attachments.length){var M=t.attachments[e];for(var u in M){var c=M[u];if(h==c){var s=this.getAttachment(e,u);s!=null&&n.setAttachment(s);break}}}e++}},o}();l.Skin=r})(spine||(spine={}));var spine;(function(l){var B=function(){function r(o,i){if(this.deform=new Array,o==null)throw new Error("data cannot be null.");if(i==null)throw new Error("bone cannot be null.");this.data=o,this.bone=i,this.color=new l.Color,this.darkColor=o.darkColor==null?null:new l.Color,this.setToSetupPose()}return r.prototype.getSkeleton=function(){return this.bone.skeleton},r.prototype.getAttachment=function(){return this.attachment},r.prototype.setAttachment=function(o){this.attachment!=o&&(this.attachment=o,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},r.prototype.setAttachmentTime=function(o){this.attachmentTime=this.bone.skeleton.time-o},r.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},r.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},r}();l.Slot=B})(spine||(spine={}));var spine;(function(l){var B=function(){function r(o,i,t){if(this.color=new l.Color(1,1,1,1),o<0)throw new Error("index must be >= 0.");if(i==null)throw new Error("name cannot be null.");if(t==null)throw new Error("boneData cannot be null.");this.index=o,this.name=i,this.boneData=t}return r}();l.SlotData=B})(spine||(spine={}));var spine;(function(l){var B=function(){function e(a){this._image=a}return e.prototype.getImage=function(){return this._image},e.filterFromString=function(a){switch(a.toLowerCase()){case"nearest":return r.Nearest;case"linear":return r.Linear;case"mipmap":return r.MipMap;case"mipmapnearestnearest":return r.MipMapNearestNearest;case"mipmaplinearnearest":return r.MipMapLinearNearest;case"mipmapnearestlinear":return r.MipMapNearestLinear;case"mipmaplinearlinear":return r.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+a)}},e.wrapFromString=function(a){switch(a.toLowerCase()){case"mirroredtepeat":return o.MirroredRepeat;case"clamptoedge":return o.ClampToEdge;case"repeat":return o.Repeat;default:throw new Error("Unknown texture wrap "+a)}},e}();l.Texture=B;var r;(function(e){e[e.Nearest=9728]="Nearest",e[e.Linear=9729]="Linear",e[e.MipMap=9987]="MipMap",e[e.MipMapNearestNearest=9984]="MipMapNearestNearest",e[e.MipMapLinearNearest=9985]="MipMapLinearNearest",e[e.MipMapNearestLinear=9986]="MipMapNearestLinear",e[e.MipMapLinearLinear=9987]="MipMapLinearLinear"})(r=l.TextureFilter||(l.TextureFilter={}));var o;(function(e){e[e.MirroredRepeat=33648]="MirroredRepeat",e[e.ClampToEdge=33071]="ClampToEdge",e[e.Repeat=10497]="Repeat"})(o=l.TextureWrap||(l.TextureWrap={}));var i=function(){function e(){this.u=0,this.v=0,this.u2=0,this.v2=0,this.width=0,this.height=0,this.rotate=!1,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0}return e}();l.TextureRegion=i;var t=function(e){__extends(a,e);function a(){return e!==null&&e.apply(this,arguments)||this}return a.prototype.setFilters=function(n,h){},a.prototype.setWraps=function(n,h){},a.prototype.dispose=function(){},a}(B);l.FakeTexture=t})(spine||(spine={}));var spine;(function(l){var B=function(){function t(e,a){this.pages=new Array,this.regions=new Array,this.load(e,a)}return t.prototype.load=function(e,a){if(a==null)throw new Error("textureLoader cannot be null.");for(var n=new r(e),h=new Array(4),M=null;;){var u=n.readLine();if(u==null)break;if(u=u.trim(),u.length==0)M=null;else if(M){var s=new i;s.name=u,s.page=M;var v=n.readValue();v.toLocaleLowerCase()=="true"?s.degrees=90:v.toLocaleLowerCase()=="false"?s.degrees=0:s.degrees=parseFloat(v),s.rotate=s.degrees==90,n.readTuple(h);var f=parseInt(h[0]),m=parseInt(h[1]);n.readTuple(h);var y=parseInt(h[0]),x=parseInt(h[1]);s.u=f/M.width,s.v=m/M.height,s.rotate?(s.u2=(f+x)/M.width,s.v2=(m+y)/M.height):(s.u2=(f+y)/M.width,s.v2=(m+x)/M.height),s.x=f,s.y=m,s.width=Math.abs(y),s.height=Math.abs(x),n.readTuple(h)==4&&n.readTuple(h)==4&&n.readTuple(h),s.originalWidth=parseInt(h[0]),s.originalHeight=parseInt(h[1]),n.readTuple(h),s.offsetX=parseInt(h[0]),s.offsetY=parseInt(h[1]),s.index=parseInt(n.readValue()),s.texture=M.texture,this.regions.push(s)}else{M=new o,M.name=u,n.readTuple(h)==2&&(M.width=parseInt(h[0]),M.height=parseInt(h[1]),n.readTuple(h)),n.readTuple(h),M.minFilter=l.Texture.filterFromString(h[0]),M.magFilter=l.Texture.filterFromString(h[1]);var c=n.readValue();M.uWrap=l.TextureWrap.ClampToEdge,M.vWrap=l.TextureWrap.ClampToEdge,c=="x"?M.uWrap=l.TextureWrap.Repeat:c=="y"?M.vWrap=l.TextureWrap.Repeat:c=="xy"&&(M.uWrap=M.vWrap=l.TextureWrap.Repeat),M.texture=a(u),M.texture.setFilters(M.minFilter,M.magFilter),M.texture.setWraps(M.uWrap,M.vWrap),M.width=M.texture.getImage().width,M.height=M.texture.getImage().height,this.pages.push(M)}}},t.prototype.findRegion=function(e){for(var a=0;a<this.regions.length;a++)if(this.regions[a].name==e)return this.regions[a];return null},t.prototype.dispose=function(){for(var e=0;e<this.pages.length;e++)this.pages[e].texture.dispose()},t}();l.TextureAtlas=B;var r=function(){function t(e){this.index=0,this.lines=e.split(/\r\n|\r|\n/)}return t.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},t.prototype.readValue=function(){var e=this.readLine(),a=e.indexOf(":");if(a==-1)throw new Error("Invalid line: "+e);return e.substring(a+1).trim()},t.prototype.readTuple=function(e){var a=this.readLine(),n=a.indexOf(":");if(n==-1)throw new Error("Invalid line: "+a);for(var h=0,M=n+1;h<3;h++){var u=a.indexOf(",",M);if(u==-1)break;e[h]=a.substr(M,u-M).trim(),M=u+1}return e[h]=a.substring(M).trim(),h+1},t}(),o=function(){function t(){}return t}();l.TextureAtlasPage=o;var i=function(t){__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(l.TextureRegion);l.TextureAtlasRegion=i})(spine||(spine={}));var spine;(function(l){var B=function(){function r(o,i){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new l.Vector2,this.active=!1,o==null)throw new Error("data cannot be null.");if(i==null)throw new Error("skeleton cannot be null.");this.data=o,this.rotateMix=o.rotateMix,this.translateMix=o.translateMix,this.scaleMix=o.scaleMix,this.shearMix=o.shearMix,this.bones=new Array;for(var t=0;t<o.bones.length;t++)this.bones.push(i.findBone(o.bones[t].name));this.target=i.findBone(o.target.name)}return r.prototype.isActive=function(){return this.active},r.prototype.apply=function(){this.update()},r.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},r.prototype.applyAbsoluteWorld=function(){for(var o=this.rotateMix,i=this.translateMix,t=this.scaleMix,e=this.shearMix,a=this.target,n=a.a,h=a.b,M=a.c,u=a.d,c=n*u-h*M>0?l.MathUtils.degRad:-l.MathUtils.degRad,s=this.data.offsetRotation*c,v=this.data.offsetShearY*c,f=this.bones,m=0,y=f.length;m<y;m++){var x=f[m],V=!1;if(o!=0){var C=x.a,L=x.b,A=x.c,d=x.d,E=Math.atan2(M,n)-Math.atan2(A,C)+s;E>l.MathUtils.PI?E-=l.MathUtils.PI2:E<-l.MathUtils.PI&&(E+=l.MathUtils.PI2),E*=o;var g=Math.cos(E),S=Math.sin(E);x.a=g*C-S*A,x.b=g*L-S*d,x.c=S*C+g*A,x.d=S*L+g*d,V=!0}if(i!=0){var F=this.temp;a.localToWorld(F.set(this.data.offsetX,this.data.offsetY)),x.worldX+=(F.x-x.worldX)*i,x.worldY+=(F.y-x.worldY)*i,V=!0}if(t>0){var I=Math.sqrt(x.a*x.a+x.c*x.c),O=Math.sqrt(n*n+M*M);I>1e-5&&(I=(I+(O-I+this.data.offsetScaleX)*t)/I),x.a*=I,x.c*=I,I=Math.sqrt(x.b*x.b+x.d*x.d),O=Math.sqrt(h*h+u*u),I>1e-5&&(I=(I+(O-I+this.data.offsetScaleY)*t)/I),x.b*=I,x.d*=I,V=!0}if(e>0){var L=x.b,d=x.d,G=Math.atan2(d,L),E=Math.atan2(u,h)-Math.atan2(M,n)-(G-Math.atan2(x.c,x.a));E>l.MathUtils.PI?E-=l.MathUtils.PI2:E<-l.MathUtils.PI&&(E+=l.MathUtils.PI2),E=G+(E+v)*e;var I=Math.sqrt(L*L+d*d);x.b=Math.cos(E)*I,x.d=Math.sin(E)*I,V=!0}V&&(x.appliedValid=!1)}},r.prototype.applyRelativeWorld=function(){for(var o=this.rotateMix,i=this.translateMix,t=this.scaleMix,e=this.shearMix,a=this.target,n=a.a,h=a.b,M=a.c,u=a.d,c=n*u-h*M>0?l.MathUtils.degRad:-l.MathUtils.degRad,s=this.data.offsetRotation*c,v=this.data.offsetShearY*c,f=this.bones,m=0,y=f.length;m<y;m++){var x=f[m],V=!1;if(o!=0){var C=x.a,L=x.b,A=x.c,d=x.d,E=Math.atan2(M,n)+s;E>l.MathUtils.PI?E-=l.MathUtils.PI2:E<-l.MathUtils.PI&&(E+=l.MathUtils.PI2),E*=o;var g=Math.cos(E),S=Math.sin(E);x.a=g*C-S*A,x.b=g*L-S*d,x.c=S*C+g*A,x.d=S*L+g*d,V=!0}if(i!=0){var F=this.temp;a.localToWorld(F.set(this.data.offsetX,this.data.offsetY)),x.worldX+=F.x*i,x.worldY+=F.y*i,V=!0}if(t>0){var I=(Math.sqrt(n*n+M*M)-1+this.data.offsetScaleX)*t+1;x.a*=I,x.c*=I,I=(Math.sqrt(h*h+u*u)-1+this.data.offsetScaleY)*t+1,x.b*=I,x.d*=I,V=!0}if(e>0){var E=Math.atan2(u,h)-Math.atan2(M,n);E>l.MathUtils.PI?E-=l.MathUtils.PI2:E<-l.MathUtils.PI&&(E+=l.MathUtils.PI2);var L=x.b,d=x.d;E=Math.atan2(d,L)+(E-l.MathUtils.PI/2+v)*e;var I=Math.sqrt(L*L+d*d);x.b=Math.cos(E)*I,x.d=Math.sin(E)*I,V=!0}V&&(x.appliedValid=!1)}},r.prototype.applyAbsoluteLocal=function(){var o=this.rotateMix,i=this.translateMix,t=this.scaleMix,e=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var n=this.bones,h=0,M=n.length;h<M;h++){var u=n[h];u.appliedValid||u.updateAppliedTransform();var c=u.arotation;if(o!=0){var s=a.arotation-c+this.data.offsetRotation;s-=(16384-(16384.499999999996-s/360|0))*360,c+=s*o}var v=u.ax,f=u.ay;i!=0&&(v+=(a.ax-v+this.data.offsetX)*i,f+=(a.ay-f+this.data.offsetY)*i);var m=u.ascaleX,y=u.ascaleY;t!=0&&(m>1e-5&&(m=(m+(a.ascaleX-m+this.data.offsetScaleX)*t)/m),y>1e-5&&(y=(y+(a.ascaleY-y+this.data.offsetScaleY)*t)/y));var x=u.ashearY;if(e!=0){var s=a.ashearY-x+this.data.offsetShearY;s-=(16384-(16384.499999999996-s/360|0))*360,u.shearY+=s*e}u.updateWorldTransformWith(v,f,c,m,y,u.ashearX,x)}},r.prototype.applyRelativeLocal=function(){var o=this.rotateMix,i=this.translateMix,t=this.scaleMix,e=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var n=this.bones,h=0,M=n.length;h<M;h++){var u=n[h];u.appliedValid||u.updateAppliedTransform();var c=u.arotation;o!=0&&(c+=(a.arotation+this.data.offsetRotation)*o);var s=u.ax,v=u.ay;i!=0&&(s+=(a.ax+this.data.offsetX)*i,v+=(a.ay+this.data.offsetY)*i);var f=u.ascaleX,m=u.ascaleY;t!=0&&(f>1e-5&&(f*=(a.ascaleX-1+this.data.offsetScaleX)*t+1),m>1e-5&&(m*=(a.ascaleY-1+this.data.offsetScaleY)*t+1));var y=u.ashearY;e!=0&&(y+=(a.ashearY+this.data.offsetShearY)*e),u.updateWorldTransformWith(s,v,c,f,m,u.ashearX,y)}},r}();l.TransformConstraint=B})(spine||(spine={}));var spine;(function(l){var B=function(r){__extends(o,r);function o(i){var t=r.call(this,i,0,!1)||this;return t.bones=new Array,t.rotateMix=0,t.translateMix=0,t.scaleMix=0,t.shearMix=0,t.offsetRotation=0,t.offsetX=0,t.offsetY=0,t.offsetScaleX=0,t.offsetScaleY=0,t.offsetShearY=0,t.relative=!1,t.local=!1,t}return o}(l.ConstraintData);l.TransformConstraintData=B})(spine||(spine={}));var spine;(function(l){var B=function(){function r(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new l.Pool(function(){return new Array}),this.polygonIndicesPool=new l.Pool(function(){return new Array})}return r.prototype.triangulate=function(o){var i=o,t=o.length>>1,e=this.indicesArray;e.length=0;for(var a=0;a<t;a++)e[a]=a;var n=this.isConcaveArray;n.length=0;for(var a=0,h=t;a<h;++a)n[a]=r.isConcave(a,t,i,e);var M=this.triangles;for(M.length=0;t>3;){for(var u=t-1,a=0,c=1;;){t:if(!n[a]){for(var s=e[u]<<1,v=e[a]<<1,f=e[c]<<1,m=i[s],y=i[s+1],x=i[v],V=i[v+1],C=i[f],L=i[f+1],A=(c+1)%t;A!=u;A=(A+1)%t)if(!!n[A]){var d=e[A]<<1,E=i[d],g=i[d+1];if(r.positiveArea(C,L,m,y,E,g)&&r.positiveArea(m,y,x,V,E,g)&&r.positiveArea(x,V,C,L,E,g))break t}break}if(c==0){do{if(!n[a])break;a--}while(a>0);break}u=a,a=c,c=(c+1)%t}M.push(e[(t+a-1)%t]),M.push(e[a]),M.push(e[(a+1)%t]),e.splice(a,1),n.splice(a,1),t--;var S=(t+a-1)%t,F=a==t?0:a;n[S]=r.isConcave(S,t,i,e),n[F]=r.isConcave(F,t,i,e)}return t==3&&(M.push(e[2]),M.push(e[0]),M.push(e[1])),M},r.prototype.decompose=function(o,i){var t=o,e=this.convexPolygons;this.polygonPool.freeAll(e),e.length=0;var a=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(a),a.length=0;var n=this.polygonIndicesPool.obtain();n.length=0;var h=this.polygonPool.obtain();h.length=0;for(var M=-1,u=0,c=0,s=i.length;c<s;c+=3){var v=i[c]<<1,f=i[c+1]<<1,m=i[c+2]<<1,y=t[v],x=t[v+1],V=t[f],C=t[f+1],L=t[m],A=t[m+1],d=!1;if(M==v){var E=h.length-4,g=r.winding(h[E],h[E+1],h[E+2],h[E+3],L,A),S=r.winding(L,A,h[0],h[1],h[2],h[3]);g==u&&S==u&&(h.push(L),h.push(A),n.push(m),d=!0)}d||(h.length>0?(e.push(h),a.push(n)):(this.polygonPool.free(h),this.polygonIndicesPool.free(n)),h=this.polygonPool.obtain(),h.length=0,h.push(y),h.push(x),h.push(V),h.push(C),h.push(L),h.push(A),n=this.polygonIndicesPool.obtain(),n.length=0,n.push(v),n.push(f),n.push(m),u=r.winding(y,x,V,C,L,A),M=v)}h.length>0&&(e.push(h),a.push(n));for(var c=0,s=e.length;c<s;c++)if(n=a[c],n.length!=0){var F=n[0],I=n[n.length-1];h=e[c];for(var E=h.length-4,O=h[E],G=h[E+1],T=h[E+2],p=h[E+3],R=h[0],U=h[1],N=h[2],W=h[3],Z=r.winding(O,G,T,p,R,U),Y=0;Y<s;Y++)if(Y!=c){var X=a[Y];if(X.length==3){var j=X[0],k=X[1],P=X[2],D=e[Y],L=D[D.length-2],A=D[D.length-1];if(!(j!=F||k!=I)){var g=r.winding(O,G,T,p,L,A),S=r.winding(L,A,R,U,N,W);g==Z&&S==Z&&(D.length=0,X.length=0,h.push(L),h.push(A),n.push(P),O=T,G=p,T=L,p=A,Y=0)}}}}for(var c=e.length-1;c>=0;c--)h=e[c],h.length==0&&(e.splice(c,1),this.polygonPool.free(h),n=a[c],a.splice(c,1),this.polygonIndicesPool.free(n));return e},r.isConcave=function(o,i,t,e){var a=e[(i+o-1)%i]<<1,n=e[o]<<1,h=e[(o+1)%i]<<1;return!this.positiveArea(t[a],t[a+1],t[n],t[n+1],t[h],t[h+1])},r.positiveArea=function(o,i,t,e,a,n){return o*(n-e)+t*(i-n)+a*(e-i)>=0},r.winding=function(o,i,t,e,a,n){var h=t-o,M=e-i;return a*M-n*h+h*i-o*M>=0?1:-1},r}();l.Triangulator=B})(spine||(spine={}));var spine;(function(l){var B=function(){function s(){this.array=new Array}return s.prototype.add=function(v){var f=this.contains(v);return this.array[v|0]=v|0,!f},s.prototype.contains=function(v){return this.array[v|0]!=null},s.prototype.remove=function(v){this.array[v|0]=void 0},s.prototype.clear=function(){this.array.length=0},s}();l.IntSet=B;var r=function(){function s(v,f,m,y){v===void 0&&(v=0),f===void 0&&(f=0),m===void 0&&(m=0),y===void 0&&(y=0),this.r=v,this.g=f,this.b=m,this.a=y}return s.prototype.set=function(v,f,m,y){return this.r=v,this.g=f,this.b=m,this.a=y,this.clamp(),this},s.prototype.setFromColor=function(v){return this.r=v.r,this.g=v.g,this.b=v.b,this.a=v.a,this},s.prototype.setFromString=function(v){return v=v.charAt(0)=="#"?v.substr(1):v,this.r=parseInt(v.substr(0,2),16)/255,this.g=parseInt(v.substr(2,2),16)/255,this.b=parseInt(v.substr(4,2),16)/255,this.a=(v.length!=8?255:parseInt(v.substr(6,2),16))/255,this},s.prototype.add=function(v,f,m,y){return this.r+=v,this.g+=f,this.b+=m,this.a+=y,this.clamp(),this},s.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},s.rgba8888ToColor=function(v,f){v.r=((f&4278190080)>>>24)/255,v.g=((f&16711680)>>>16)/255,v.b=((f&65280)>>>8)/255,v.a=(f&255)/255},s.rgb888ToColor=function(v,f){v.r=((f&16711680)>>>16)/255,v.g=((f&65280)>>>8)/255,v.b=(f&255)/255},s.WHITE=new s(1,1,1,1),s.RED=new s(1,0,0,1),s.GREEN=new s(0,1,0,1),s.BLUE=new s(0,0,1,1),s.MAGENTA=new s(1,0,1,1),s}();l.Color=r;var o=function(){function s(){}return s.clamp=function(v,f,m){return v<f?f:v>m?m:v},s.cosDeg=function(v){return Math.cos(v*s.degRad)},s.sinDeg=function(v){return Math.sin(v*s.degRad)},s.signum=function(v){return v>0?1:v<0?-1:0},s.toInt=function(v){return v>0?Math.floor(v):Math.ceil(v)},s.cbrt=function(v){var f=Math.pow(Math.abs(v),1/3);return v<0?-f:f},s.randomTriangular=function(v,f){return s.randomTriangularWith(v,f,(v+f)*.5)},s.randomTriangularWith=function(v,f,m){var y=Math.random(),x=f-v;return y<=(m-v)/x?v+Math.sqrt(y*x*(m-v)):f-Math.sqrt((1-y)*x*(f-m))},s.PI=3.1415927,s.PI2=s.PI*2,s.radiansToDegrees=180/s.PI,s.radDeg=s.radiansToDegrees,s.degreesToRadians=s.PI/180,s.degRad=s.degreesToRadians,s}();l.MathUtils=o;var i=function(){function s(){}return s.prototype.apply=function(v,f,m){return v+(f-v)*this.applyInternal(m)},s}();l.Interpolation=i;var t=function(s){__extends(v,s);function v(f){var m=s.call(this)||this;return m.power=2,m.power=f,m}return v.prototype.applyInternal=function(f){return f<=.5?Math.pow(f*2,this.power)/2:Math.pow((f-1)*2,this.power)/(this.power%2==0?-2:2)+1},v}(i);l.Pow=t;var e=function(s){__extends(v,s);function v(f){return s.call(this,f)||this}return v.prototype.applyInternal=function(f){return Math.pow(f-1,this.power)*(this.power%2==0?-1:1)+1},v}(t);l.PowOut=e;var a=function(){function s(){}return s.arrayCopy=function(v,f,m,y,x){for(var V=f,C=y;V<f+x;V++,C++)m[C]=v[V]},s.setArraySize=function(v,f,m){m===void 0&&(m=0);var y=v.length;if(y==f)return v;if(v.length=f,y<f)for(var x=y;x<f;x++)v[x]=m;return v},s.ensureArrayCapacity=function(v,f,m){return m===void 0&&(m=0),v.length>=f?v:s.setArraySize(v,f,m)},s.newArray=function(v,f){for(var m=new Array(v),y=0;y<v;y++)m[y]=f;return m},s.newFloatArray=function(v){if(s.SUPPORTS_TYPED_ARRAYS)return new Float32Array(v);for(var f=new Array(v),m=0;m<f.length;m++)f[m]=0;return f},s.newShortArray=function(v){if(s.SUPPORTS_TYPED_ARRAYS)return new Int16Array(v);for(var f=new Array(v),m=0;m<f.length;m++)f[m]=0;return f},s.toFloatArray=function(v){return s.SUPPORTS_TYPED_ARRAYS?new Float32Array(v):v},s.toSinglePrecision=function(v){return s.SUPPORTS_TYPED_ARRAYS?Math.fround(v):v},s.webkit602BugfixHelper=function(v,f){},s.contains=function(v,f,m){m===void 0&&(m=!0);for(var y=0;y<v.length;y++)if(v[y]==f)return!0;return!1},s.SUPPORTS_TYPED_ARRAYS=typeof Float32Array!="undefined",s}();l.Utils=a;var n=function(){function s(){}return s.logBones=function(v){for(var f=0;f<v.bones.length;f++){var m=v.bones[f];console.log(m.data.name+", "+m.a+", "+m.b+", "+m.c+", "+m.d+", "+m.worldX+", "+m.worldY)}},s}();l.DebugUtils=n;var h=function(){function s(v){this.items=new Array,this.instantiator=v}return s.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},s.prototype.free=function(v){v.reset&&v.reset(),this.items.push(v)},s.prototype.freeAll=function(v){for(var f=0;f<v.length;f++)this.free(v[f])},s.prototype.clear=function(){this.items.length=0},s}();l.Pool=h;var M=function(){function s(v,f){v===void 0&&(v=0),f===void 0&&(f=0),this.x=v,this.y=f}return s.prototype.set=function(v,f){return this.x=v,this.y=f,this},s.prototype.length=function(){var v=this.x,f=this.y;return Math.sqrt(v*v+f*f)},s.prototype.normalize=function(){var v=this.length();return v!=0&&(this.x/=v,this.y/=v),this},s}();l.Vector2=M;var u=function(){function s(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return s.prototype.update=function(){var v=Date.now()/1e3;this.delta=v-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=v,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},s}();l.TimeKeeper=u;var c=function(){function s(v){v===void 0&&(v=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(v)}return s.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length},s.prototype.addValue=function(v){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=v,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},s.prototype.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var v=0,f=0;f<this.values.length;f++)v+=this.values[f];this.mean=v/this.values.length,this.dirty=!1}return this.mean}else return 0},s}();l.WindowedMean=c})(spine||(spine={})),function(){Math.fround||(Math.fround=function(l){return function(B){return l[0]=B,l[0]}}(new Float32Array(1)))}();var spine;(function(l){var B=function(){function o(i){if(i==null)throw new Error("name cannot be null.");this.name=i}return o}();l.Attachment=B;var r=function(o){__extends(i,o);function i(t){var e=o.call(this,t)||this;return e.id=(i.nextID++&65535)<<11,e.worldVerticesLength=0,e.deformAttachment=e,e}return i.prototype.computeWorldVertices=function(t,e,a,n,h,M){a=h+(a>>1)*M;var u=t.bone.skeleton,c=t.deform,s=this.vertices,v=this.bones;if(v==null){c.length>0&&(s=c);for(var f=t.bone,m=f.worldX,y=f.worldY,x=f.a,V=f.b,C=f.c,L=f.d,A=e,d=h;d<a;A+=2,d+=M){var E=s[A],g=s[A+1];n[d]=E*x+g*V+m,n[d+1]=E*C+g*L+y}return}for(var S=0,F=0,I=0;I<e;I+=2){var O=v[S];S+=O+1,F+=O}var G=u.bones;if(c.length==0)for(var d=h,V=F*3;d<a;d+=M){var T=0,p=0,O=v[S++];for(O+=S;S<O;S++,V+=3){var f=G[v[S]],E=s[V],g=s[V+1],R=s[V+2];T+=(E*f.a+g*f.b+f.worldX)*R,p+=(E*f.c+g*f.d+f.worldY)*R}n[d]=T,n[d+1]=p}else for(var U=c,d=h,V=F*3,N=F<<1;d<a;d+=M){var T=0,p=0,O=v[S++];for(O+=S;S<O;S++,V+=3,N+=2){var f=G[v[S]],E=s[V]+U[N],g=s[V+1]+U[N+1],R=s[V+2];T+=(E*f.a+g*f.b+f.worldX)*R,p+=(E*f.c+g*f.d+f.worldY)*R}n[d]=T,n[d+1]=p}},i.prototype.copyTo=function(t){this.bones!=null?(t.bones=new Array(this.bones.length),l.Utils.arrayCopy(this.bones,0,t.bones,0,this.bones.length)):t.bones=null,this.vertices!=null?(t.vertices=l.Utils.newFloatArray(this.vertices.length),l.Utils.arrayCopy(this.vertices,0,t.vertices,0,this.vertices.length)):t.vertices=null,t.worldVerticesLength=this.worldVerticesLength,t.deformAttachment=this.deformAttachment},i.nextID=0,i}(B);l.VertexAttachment=r})(spine||(spine={}));var spine;(function(l){var B;(function(r){r[r.Region=0]="Region",r[r.BoundingBox=1]="BoundingBox",r[r.Mesh=2]="Mesh",r[r.LinkedMesh=3]="LinkedMesh",r[r.Path=4]="Path",r[r.Point=5]="Point",r[r.Clipping=6]="Clipping"})(B=l.AttachmentType||(l.AttachmentType={}))})(spine||(spine={}));var spine;(function(l){var B=function(r){__extends(o,r);function o(i){var t=r.call(this,i)||this;return t.color=new l.Color(1,1,1,1),t}return o.prototype.copy=function(){var i=new o(this.name);return this.copyTo(i),i.color.setFromColor(this.color),i},o}(l.VertexAttachment);l.BoundingBoxAttachment=B})(spine||(spine={}));var spine;(function(l){var B=function(r){__extends(o,r);function o(i){var t=r.call(this,i)||this;return t.color=new l.Color(.2275,.2275,.8078,1),t}return o.prototype.copy=function(){var i=new o(this.name);return this.copyTo(i),i.endSlot=this.endSlot,i.color.setFromColor(this.color),i},o}(l.VertexAttachment);l.ClippingAttachment=B})(spine||(spine={}));var spine;(function(l){var B=function(r){__extends(o,r);function o(i){var t=r.call(this,i)||this;return t.color=new l.Color(1,1,1,1),t.tempColor=new l.Color(0,0,0,0),t}return o.prototype.updateUVs=function(){var i=this.regionUVs;(this.uvs==null||this.uvs.length!=i.length)&&(this.uvs=l.Utils.newFloatArray(i.length));var t=this.uvs,e=this.uvs.length,a=this.region.u,n=this.region.v,h=0,M=0;if(this.region instanceof l.TextureAtlasRegion){var u=this.region,c=u.texture.getImage().width,s=u.texture.getImage().height;switch(u.degrees){case 90:a-=(u.originalHeight-u.offsetY-u.height)/c,n-=(u.originalWidth-u.offsetX-u.width)/s,h=u.originalHeight/c,M=u.originalWidth/s;for(var v=0;v<e;v+=2)t[v]=a+i[v+1]*h,t[v+1]=n+(1-i[v])*M;return;case 180:a-=(u.originalWidth-u.offsetX-u.width)/c,n-=u.offsetY/s,h=u.originalWidth/c,M=u.originalHeight/s;for(var v=0;v<e;v+=2)t[v]=a+(1-i[v])*h,t[v+1]=n+(1-i[v+1])*M;return;case 270:a-=u.offsetY/c,n-=u.offsetX/s,h=u.originalHeight/c,M=u.originalWidth/s;for(var v=0;v<e;v+=2)t[v]=a+(1-i[v+1])*h,t[v+1]=n+i[v]*M;return}a-=u.offsetX/c,n-=(u.originalHeight-u.offsetY-u.height)/s,h=u.originalWidth/c,M=u.originalHeight/s}else this.region==null?(a=n=0,h=M=1):(h=this.region.u2-a,M=this.region.v2-n);for(var v=0;v<e;v+=2)t[v]=a+i[v]*h,t[v+1]=n+i[v+1]*M},o.prototype.getParentMesh=function(){return this.parentMesh},o.prototype.setParentMesh=function(i){this.parentMesh=i,i!=null&&(this.bones=i.bones,this.vertices=i.vertices,this.worldVerticesLength=i.worldVerticesLength,this.regionUVs=i.regionUVs,this.triangles=i.triangles,this.hullLength=i.hullLength,this.worldVerticesLength=i.worldVerticesLength)},o.prototype.copy=function(){if(this.parentMesh!=null)return this.newLinkedMesh();var i=new o(this.name);return i.region=this.region,i.path=this.path,i.color.setFromColor(this.color),this.copyTo(i),i.regionUVs=new Array(this.regionUVs.length),l.Utils.arrayCopy(this.regionUVs,0,i.regionUVs,0,this.regionUVs.length),i.uvs=new Array(this.uvs.length),l.Utils.arrayCopy(this.uvs,0,i.uvs,0,this.uvs.length),i.triangles=new Array(this.triangles.length),l.Utils.arrayCopy(this.triangles,0,i.triangles,0,this.triangles.length),i.hullLength=this.hullLength,this.edges!=null&&(i.edges=new Array(this.edges.length),l.Utils.arrayCopy(this.edges,0,i.edges,0,this.edges.length)),i.width=this.width,i.height=this.height,i},o.prototype.newLinkedMesh=function(){var i=new o(this.name);return i.region=this.region,i.path=this.path,i.color.setFromColor(this.color),i.deformAttachment=this.deformAttachment,i.setParentMesh(this.parentMesh!=null?this.parentMesh:this),i.updateUVs(),i},o}(l.VertexAttachment);l.MeshAttachment=B})(spine||(spine={}));var spine;(function(l){var B=function(r){__extends(o,r);function o(i){var t=r.call(this,i)||this;return t.closed=!1,t.constantSpeed=!1,t.color=new l.Color(1,1,1,1),t}return o.prototype.copy=function(){var i=new o(this.name);return this.copyTo(i),i.lengths=new Array(this.lengths.length),l.Utils.arrayCopy(this.lengths,0,i.lengths,0,this.lengths.length),i.closed=closed,i.constantSpeed=this.constantSpeed,i.color.setFromColor(this.color),i},o}(l.VertexAttachment);l.PathAttachment=B})(spine||(spine={}));var spine;(function(l){var B=function(r){__extends(o,r);function o(i){var t=r.call(this,i)||this;return t.color=new l.Color(.38,.94,0,1),t}return o.prototype.computeWorldPosition=function(i,t){return t.x=this.x*i.a+this.y*i.b+i.worldX,t.y=this.x*i.c+this.y*i.d+i.worldY,t},o.prototype.computeWorldRotation=function(i){var t=l.MathUtils.cosDeg(this.rotation),e=l.MathUtils.sinDeg(this.rotation),a=t*i.a+e*i.b,n=t*i.c+e*i.d;return Math.atan2(n,a)*l.MathUtils.radDeg},o.prototype.copy=function(){var i=new o(this.name);return i.x=this.x,i.y=this.y,i.rotation=this.rotation,i.color.setFromColor(this.color),i},o}(l.VertexAttachment);l.PointAttachment=B})(spine||(spine={}));var spine;(function(l){var B=function(r){__extends(o,r);function o(i){var t=r.call(this,i)||this;return t.x=0,t.y=0,t.scaleX=1,t.scaleY=1,t.rotation=0,t.width=0,t.height=0,t.color=new l.Color(1,1,1,1),t.offset=l.Utils.newFloatArray(8),t.uvs=l.Utils.newFloatArray(8),t.tempColor=new l.Color(1,1,1,1),t}return o.prototype.updateOffset=function(){var i=this.width/this.region.originalWidth*this.scaleX,t=this.height/this.region.originalHeight*this.scaleY,e=-this.width/2*this.scaleX+this.region.offsetX*i,a=-this.height/2*this.scaleY+this.region.offsetY*t,n=e+this.region.width*i,h=a+this.region.height*t,M=this.rotation*Math.PI/180,u=Math.cos(M),c=Math.sin(M),s=e*u+this.x,v=e*c,f=a*u+this.y,m=a*c,y=n*u+this.x,x=n*c,V=h*u+this.y,C=h*c,L=this.offset;L[o.OX1]=s-m,L[o.OY1]=f+v,L[o.OX2]=s-C,L[o.OY2]=V+v,L[o.OX3]=y-C,L[o.OY3]=V+x,L[o.OX4]=y-m,L[o.OY4]=f+x},o.prototype.setRegion=function(i){this.region=i;var t=this.uvs;i.rotate?(t[2]=i.u,t[3]=i.v2,t[4]=i.u,t[5]=i.v,t[6]=i.u2,t[7]=i.v,t[0]=i.u2,t[1]=i.v2):(t[0]=i.u,t[1]=i.v2,t[2]=i.u,t[3]=i.v,t[4]=i.u2,t[5]=i.v,t[6]=i.u2,t[7]=i.v2)},o.prototype.computeWorldVertices=function(i,t,e,a){var n=this.offset,h=i.worldX,M=i.worldY,u=i.a,c=i.b,s=i.c,v=i.d,f=0,m=0;f=n[o.OX1],m=n[o.OY1],t[e]=f*u+m*c+h,t[e+1]=f*s+m*v+M,e+=a,f=n[o.OX2],m=n[o.OY2],t[e]=f*u+m*c+h,t[e+1]=f*s+m*v+M,e+=a,f=n[o.OX3],m=n[o.OY3],t[e]=f*u+m*c+h,t[e+1]=f*s+m*v+M,e+=a,f=n[o.OX4],m=n[o.OY4],t[e]=f*u+m*c+h,t[e+1]=f*s+m*v+M},o.prototype.copy=function(){var i=new o(this.name);return i.region=this.region,i.rendererObject=this.rendererObject,i.path=this.path,i.x=this.x,i.y=this.y,i.scaleX=this.scaleX,i.scaleY=this.scaleY,i.rotation=this.rotation,i.width=this.width,i.height=this.height,l.Utils.arrayCopy(this.uvs,0,i.uvs,0,8),l.Utils.arrayCopy(this.offset,0,i.offset,0,8),i.color.setFromColor(this.color),i},o.OX1=0,o.OY1=1,o.OX2=2,o.OY2=3,o.OX3=4,o.OY3=5,o.OX4=6,o.OY4=7,o.X1=0,o.Y1=1,o.C1R=2,o.C1G=3,o.C1B=4,o.C1A=5,o.U1=6,o.V1=7,o.X2=8,o.Y2=9,o.C2R=10,o.C2G=11,o.C2B=12,o.C2A=13,o.U2=14,o.V2=15,o.X3=16,o.Y3=17,o.C3R=18,o.C3G=19,o.C3B=20,o.C3A=21,o.U3=22,o.V3=23,o.X4=24,o.Y4=25,o.C4R=26,o.C4G=27,o.C4B=28,o.C4A=29,o.U4=30,o.V4=31,o}(l.Attachment);l.RegionAttachment=B})(spine||(spine={}));var spine;(function(l){var B=function(){function r(o,i){this.jitterX=0,this.jitterY=0,this.jitterX=o,this.jitterY=i}return r.prototype.begin=function(o){},r.prototype.transform=function(o,i,t,e){o.x+=l.MathUtils.randomTriangular(-this.jitterX,this.jitterY),o.y+=l.MathUtils.randomTriangular(-this.jitterX,this.jitterY)},r.prototype.end=function(){},r}();l.JitterEffect=B})(spine||(spine={}));var spine;(function(l){var B=function(){function r(o){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=o}return r.prototype.begin=function(o){this.worldX=o.x+this.centerX,this.worldY=o.y+this.centerY},r.prototype.transform=function(o,i,t,e){var a=this.angle*l.MathUtils.degreesToRadians,n=o.x-this.worldX,h=o.y-this.worldY,M=Math.sqrt(n*n+h*h);if(M<this.radius){var u=r.interpolation.apply(0,a,(this.radius-M)/this.radius),c=Math.cos(u),s=Math.sin(u);o.x=c*n-s*h+this.worldX,o.y=s*n+c*h+this.worldY}},r.prototype.end=function(){},r.interpolation=new l.PowOut(2),r}();l.SwirlEffect=B})(spine||(spine={}));var spine;(function(l){var B;(function(r){var o=function(i){__extends(t,i);function t(e,a){return a===void 0&&(a=""),i.call(this,function(n){return new l.webgl.GLTexture(e,n)},a)||this}return t}(l.AssetManager);r.AssetManager=o})(B=l.webgl||(l.webgl={}))})(spine||(spine={}));var spine;(function(l){var B;(function(r){var o=function(){function i(t,e){this.position=new r.Vector3(0,0,0),this.direction=new r.Vector3(0,0,-1),this.up=new r.Vector3(0,1,0),this.near=0,this.far=100,this.zoom=1,this.viewportWidth=0,this.viewportHeight=0,this.projectionView=new r.Matrix4,this.inverseProjectionView=new r.Matrix4,this.projection=new r.Matrix4,this.view=new r.Matrix4,this.tmp=new r.Vector3,this.viewportWidth=t,this.viewportHeight=e,this.update()}return i.prototype.update=function(){var t=this.projection,e=this.view,a=this.projectionView,n=this.inverseProjectionView,h=this.zoom,M=this.viewportWidth,u=this.viewportHeight;t.ortho(h*(-M/2),h*(M/2),h*(-u/2),h*(u/2),this.near,this.far),e.lookAt(this.position,this.direction,this.up),a.set(t.values),a.multiply(e),n.set(a.values).invert()},i.prototype.screenToWorld=function(t,e,a){var n=t.x,h=a-t.y-1,M=this.tmp;return M.x=2*n/e-1,M.y=2*h/a-1,M.z=2*t.z-1,M.project(this.inverseProjectionView),t.set(M.x,M.y,M.z),t},i.prototype.setViewport=function(t,e){this.viewportWidth=t,this.viewportHeight=e},i}();r.OrthoCamera=o})(B=l.webgl||(l.webgl={}))})(spine||(spine={}));var spine;(function(l){var B;(function(r){var o=function(i){__extends(t,i);function t(e,a,n){n===void 0&&(n=!1);var h=i.call(this,a)||this;return h.texture=null,h.boundUnit=0,h.useMipMaps=!1,h.context=e instanceof r.ManagedWebGLRenderingContext?e:new r.ManagedWebGLRenderingContext(e),h.useMipMaps=n,h.restore(),h.context.addRestorable(h),h}return t.prototype.setFilters=function(e,a){var n=this.context.gl;this.bind(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,t.validateMagFilter(a))},t.validateMagFilter=function(e){switch(e){case l.TextureFilter.MipMap:case l.TextureFilter.MipMapLinearLinear:case l.TextureFilter.MipMapLinearNearest:case l.TextureFilter.MipMapNearestLinear:case l.TextureFilter.MipMapNearestNearest:return l.TextureFilter.Linear;default:return e}},t.prototype.setWraps=function(e,a){var n=this.context.gl;this.bind(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,a)},t.prototype.update=function(e){var a=this.context.gl;this.texture||(this.texture=this.context.gl.createTexture()),this.bind(),t.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL&&a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this._image),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,e?a.LINEAR_MIPMAP_LINEAR:a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),e&&a.generateMipmap(a.TEXTURE_2D)},t.prototype.restore=function(){this.texture=null,this.update(this.useMipMaps)},t.prototype.bind=function(e){e===void 0&&(e=0);var a=this.context.gl;this.boundUnit=e,a.activeTexture(a.TEXTURE0+e),a.bindTexture(a.TEXTURE_2D,this.texture)},t.prototype.unbind=function(){var e=this.context.gl;e.activeTexture(e.TEXTURE0+this.boundUnit),e.bindTexture(e.TEXTURE_2D,null)},t.prototype.dispose=function(){this.context.removeRestorable(this);var e=this.context.gl;e.deleteTexture(this.texture)},t.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL=!1,t}(l.Texture);r.GLTexture=o})(B=l.webgl||(l.webgl={}))})(spine||(spine={}));var spine;(function(l){var B;(function(r){var o=function(){function t(e){this.lastX=0,this.lastY=0,this.buttonDown=!1,this.currTouch=null,this.touchesPool=new l.Pool(function(){return new l.webgl.Touch(0,0,0)}),this.listeners=new Array,this.element=e,this.setupCallbacks(e)}return t.prototype.setupCallbacks=function(e){var a=this,n=function(u){if(u instanceof MouseEvent){for(var c=e.getBoundingClientRect(),s=u.clientX-c.left,v=u.clientY-c.top,f=a.listeners,m=0;m<f.length;m++)f[m].down&&f[m].down(s,v);a.lastX=s,a.lastY=v,a.buttonDown=!0,document.addEventListener("mousemove",h),document.addEventListener("mouseup",M)}},h=function(u){if(u instanceof MouseEvent){for(var c=e.getBoundingClientRect(),s=u.clientX-c.left,v=u.clientY-c.top,f=a.listeners,m=0;m<f.length;m++)a.buttonDown?f[m].dragged&&f[m].dragged(s,v):f[m].moved&&f[m].moved(s,v);a.lastX=s,a.lastY=v}},M=function(u){if(u instanceof MouseEvent){for(var c=e.getBoundingClientRect(),s=u.clientX-c.left,v=u.clientY-c.top,f=a.listeners,m=0;m<f.length;m++)f[m].up&&f[m].up(s,v);a.lastX=s,a.lastY=v,a.buttonDown=!1,document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",M)}};e.addEventListener("mousedown",n,!0),e.addEventListener("mousemove",h,!0),e.addEventListener("mouseup",M,!0),e.addEventListener("touchstart",function(u){if(a.currTouch==null){for(var c=u.changedTouches,s=0;s<c.length;s++){var v=c[s],f=e.getBoundingClientRect(),m=v.clientX-f.left,y=v.clientY-f.top;a.currTouch=a.touchesPool.obtain(),a.currTouch.identifier=v.identifier,a.currTouch.x=m,a.currTouch.y=y;break}for(var x=a.listeners,V=0;V<x.length;V++)x[V].down&&x[V].down(a.currTouch.x,a.currTouch.y);a.lastX=a.currTouch.x,a.lastY=a.currTouch.y,a.buttonDown=!0,u.preventDefault()}},!1),e.addEventListener("touchend",function(u){for(var c=u.changedTouches,s=0;s<c.length;s++){var v=c[s];if(a.currTouch.identifier===v.identifier){var f=e.getBoundingClientRect(),m=a.currTouch.x=v.clientX-f.left,y=a.currTouch.y=v.clientY-f.top;a.touchesPool.free(a.currTouch);for(var x=a.listeners,V=0;V<x.length;V++)x[V].up&&x[V].up(m,y);a.lastX=m,a.lastY=y,a.buttonDown=!1,a.currTouch=null;break}}u.preventDefault()},!1),e.addEventListener("touchcancel",function(u){for(var c=u.changedTouches,s=0;s<c.length;s++){var v=c[s];if(a.currTouch.identifier===v.identifier){var f=e.getBoundingClientRect(),m=a.currTouch.x=v.clientX-f.left,y=a.currTouch.y=v.clientY-f.top;a.touchesPool.free(a.currTouch);for(var x=a.listeners,V=0;V<x.length;V++)x[V].up&&x[V].up(m,y);a.lastX=m,a.lastY=y,a.buttonDown=!1,a.currTouch=null;break}}u.preventDefault()},!1),e.addEventListener("touchmove",function(u){if(a.currTouch!=null){for(var c=u.changedTouches,s=0;s<c.length;s++){var v=c[s];if(a.currTouch.identifier===v.identifier){for(var f=e.getBoundingClientRect(),m=v.clientX-f.left,y=v.clientY-f.top,x=a.listeners,V=0;V<x.length;V++)x[V].dragged&&x[V].dragged(m,y);a.lastX=a.currTouch.x=m,a.lastY=a.currTouch.y=y;break}}u.preventDefault()}},!1)},t.prototype.addListener=function(e){this.listeners.push(e)},t.prototype.removeListener=function(e){var a=this.listeners.indexOf(e);a>-1&&this.listeners.splice(a,1)},t}();r.Input=o;var i=function(){function t(e,a,n){this.identifier=e,this.x=a,this.y=n}return t}();r.Touch=i})(B=l.webgl||(l.webgl={}))})(spine||(spine={}));var spine;(function(l){var B;(function(r){var o=function(){function i(t){if(this.logo=null,this.spinner=null,this.angle=0,this.fadeOut=0,this.timeKeeper=new l.TimeKeeper,this.backgroundColor=new l.Color(.135,.135,.135,1),this.tempColor=new l.Color,this.firstDraw=0,this.renderer=t,this.timeKeeper.maxDelta=9,i.logoImg===null){var e=navigator.userAgent.indexOf("Safari")>-1;i.logoImg=new Image,i.logoImg.src=i.SPINE_LOGO_DATA,e||(i.logoImg.crossOrigin="anonymous"),i.logoImg.onload=function(a){i.loaded++},i.spinnerImg=new Image,i.spinnerImg.src=i.SPINNER_DATA,e||(i.spinnerImg.crossOrigin="anonymous"),i.spinnerImg.onload=function(a){i.loaded++}}}return i.prototype.draw=function(t){if(t===void 0&&(t=!1),!(t&&this.fadeOut>i.FADE_SECONDS)){this.timeKeeper.update();var e=Math.abs(Math.sin(this.timeKeeper.totalTime+.75));this.angle-=this.timeKeeper.delta/1.4*360*(1+1.5*Math.pow(e,5));var a=this.renderer,n=a.canvas,h=a.context.gl;a.resize(r.ResizeMode.Stretch);var M=a.camera.position.x,u=a.camera.position.y;if(a.camera.position.set(n.width/2,n.height/2,0),a.camera.viewportWidth=n.width,a.camera.viewportHeight=n.height,!t)h.clearColor(this.backgroundColor.r,this.backgroundColor.g,this.backgroundColor.b,this.backgroundColor.a),h.clear(h.COLOR_BUFFER_BIT),this.tempColor.a=1;else{if(this.fadeOut+=this.timeKeeper.delta*(this.timeKeeper.totalTime<1?2:1),this.fadeOut>i.FADE_SECONDS){a.camera.position.set(M,u,0);return}e=1-this.fadeOut/i.FADE_SECONDS,this.tempColor.setFromColor(this.backgroundColor),this.tempColor.a=1-(e-1)*(e-1),a.begin(),a.quad(!0,0,0,n.width,0,n.width,n.height,0,n.height,this.tempColor,this.tempColor,this.tempColor,this.tempColor),a.end()}if(this.tempColor.set(1,1,1,this.tempColor.a),i.loaded==2){this.logo===null&&(this.logo=new r.GLTexture(a.context,i.logoImg),this.spinner=new r.GLTexture(a.context,i.spinnerImg)),this.logo.update(!1),this.spinner.update(!1);var c=this.logo.getImage().width,s=this.logo.getImage().height,v=this.spinner.getImage().width,f=this.spinner.getImage().height;a.batcher.setBlendMode(h.SRC_ALPHA,h.ONE_MINUS_SRC_ALPHA),a.begin(),a.drawTexture(this.logo,(n.width-c)/2,(n.height-s)/2,c,s,this.tempColor),a.drawTextureRotated(this.spinner,(n.width-v)/2,(n.height-f)/2,v,f,v/2,f/2,this.angle,this.tempColor),a.end(),a.camera.position.set(M,u,0)}}},i.FADE_SECONDS=1,i.loaded=0,i.spinnerImg=null,i.logoImg=null,i.SPINNER_DATA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKMAAACjCAYAAADmbK6AAAAACXBIWXMAAAsTAAALEwEAmpwYAAALB2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNS41IChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTYtMDktMDhUMTQ6MjU6MTIrMDI6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTgtMTEtMTVUMTY6NDA6NTkrMDE6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE4LTExLTE1VDE2OjQwOjU5KzAxOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpmZDhlNTljMC02NGJjLTIxNGQtODAyZi1jZDlhODJjM2ZjMGMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpmYmNmZWJlYS03MjY2LWE0NGQtOTI4NS0wOTJmNGNhYzk4ZWEiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2UiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHRpZmY6T3JpZW50YXRpb249IjEiIHRpZmY6WFJlc29sdXRpb249IjcyMDAwMC8xMDAwMCIgdGlmZjpZUmVzb2x1dGlvbj0iNzIwMDAwLzEwMDAwIiB0aWZmOlJlc29sdXRpb25Vbml0PSIyIiBleGlmOkNvbG9yU3BhY2U9IjY1NTM1IiBleGlmOlBpeGVsWERpbWVuc2lvbj0iMjk3IiBleGlmOlBpeGVsWURpbWVuc2lvbj0iMjQyIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2UiIHN0RXZ0OndoZW49IjIwMTYtMDktMDhUMTQ6MjU6MTIrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1LjUgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpiNThlMTlkNi0xYTRjLTQyNDEtODU0ZC01MDVlZjYxMjRhODQiIHN0RXZ0OndoZW49IjIwMTgtMTEtMTVUMTY6NDA6MjMrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ3YzYzYzIwLWJkYjgtYzM0YS1hYzMyLWQ5MDdjOWEyOTA0MCIgc3RFdnQ6d2hlbj0iMjAxOC0xMS0xNVQxNjo0MDo1OSswMTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252ZXJ0ZWQgZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZmQ4ZTU5YzAtNjRiYy0yMTRkLTgwMmYtY2Q5YTgyYzNmYzBjIiBzdEV2dDp3aGVuPSIyMDE4LTExLTE1VDE2OjQwOjU5KzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0N2M2M2MyMC1iZGI4LWMzNGEtYWMzMi1kOTA3YzlhMjkwNDAiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo2OWRmZjljYy01YzFiLWE5NDctOTc3OS03ODgxZjM0ODk3MDMiIHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2UiLz4gPHBob3Rvc2hvcDpEb2N1bWVudEFu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",i.SPINE_LOGO_DATA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKUAAABsCAYAAAALzHKmAAAACXBIWXMAAAsTAAALEwEAmpwYAAALB2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNS41IChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTYtMDktMDhUMTQ6MjU6MTIrMDI6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTgtMTEtMTVUMTY6NDA6NTkrMDE6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE4LTExLTE1VDE2OjQwOjU5KzAxOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowMTdhZGQ3Ni04OTZlLThlNGUtYmM5MS00ZjEyNjI1YjA3MjgiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDplMTViNGE2ZS1hMDg3LWEzNDktODdhOS1mNDYzYjE2MzQ0Y2MiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2UiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHRpZmY6T3JpZW50YXRpb249IjEiIHRpZmY6WFJlc29sdXRpb249IjcyMDAwMC8xMDAwMCIgdGlmZjpZUmVzb2x1dGlvbj0iNzIwMDAwLzEwMDAwIiB0aWZmOlJlc29sdXRpb25Vbml0PSIyIiBleGlmOkNvbG9yU3BhY2U9IjY1NTM1IiBleGlmOlBpeGVsWERpbWVuc2lvbj0iMjk3IiBleGlmOlBpeGVsWURpbWVuc2lvbj0iMjQyIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2UiIHN0RXZ0OndoZW49IjIwMTYtMDktMDhUMTQ6MjU6MTIrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1LjUgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpiNThlMTlkNi0xYTRjLTQyNDEtODU0ZC01MDVlZjYxMjRhODQiIHN0RXZ0OndoZW49IjIwMTgtMTEtMTVUMTY6NDA6MjMrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjJlNjJiMWM2LWIxYzQtNDk0MC04MDMxLWU4ZDkyNTBmODJjNSIgc3RFdnQ6d2hlbj0iMjAxOC0xMS0xNVQxNjo0MDo1OSswMTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252ZXJ0ZWQgZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MDE3YWRkNzYtODk2ZS04ZTRlLWJjOTEtNGYxMjYyNWIwNzI4IiBzdEV2dDp3aGVuPSIyMDE4LTExLTE1VDE2OjQwOjU5KzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyZTYyYjFjNi1iMWM0LTQ5NDAtODAzMS1lOGQ5MjUwZjgyYzUiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo2OWRmZjljYy01YzFiLWE5NDctOTc3OS03ODgxZjM0ODk3MDMiIHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2UiLz4gPHBob3Rvc2hvcDpEb2N1bWVudEFu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",i}();r.LoadingScreen=o})(B=l.webgl||(l.webgl={}))})(spine||(spine={}));var spine;(function(l){var B;(function(r){r.M00=0,r.M01=4,r.M02=8,r.M03=12,r.M10=1,r.M11=5,r.M12=9,r.M13=13,r.M20=2,r.M21=6,r.M22=10,r.M23=14,r.M30=3,r.M31=7,r.M32=11,r.M33=15;var o=function(){function i(){this.temp=new Float32Array(16),this.values=new Float32Array(16);var t=this.values;t[r.M00]=1,t[r.M11]=1,t[r.M22]=1,t[r.M33]=1}return i.prototype.set=function(t){return this.values.set(t),this},i.prototype.transpose=function(){var t=this.temp,e=this.values;return t[r.M00]=e[r.M00],t[r.M01]=e[r.M10],t[r.M02]=e[r.M20],t[r.M03]=e[r.M30],t[r.M10]=e[r.M01],t[r.M11]=e[r.M11],t[r.M12]=e[r.M21],t[r.M13]=e[r.M31],t[r.M20]=e[r.M02],t[r.M21]=e[r.M12],t[r.M22]=e[r.M22],t[r.M23]=e[r.M32],t[r.M30]=e[r.M03],t[r.M31]=e[r.M13],t[r.M32]=e[r.M23],t[r.M33]=e[r.M33],this.set(t)},i.prototype.identity=function(){var t=this.values;return t[r.M00]=1,t[r.M01]=0,t[r.M02]=0,t[r.M03]=0,t[r.M10]=0,t[r.M11]=1,t[r.M12]=0,t[r.M13]=0,t[r.M20]=0,t[r.M21]=0,t[r.M22]=1,t[r.M23]=0,t[r.M30]=0,t[r.M31]=0,t[r.M32]=0,t[r.M33]=1,this},i.prototype.invert=function(){var t=this.values,e=this.temp,a=t[r.M30]*t[r.M21]*t[r.M12]*t[r.M03]-t[r.M20]*t[r.M31]*t[r.M12]*t[r.M03]-t[r.M30]*t[r.M11]*t[r.M22]*t[r.M03]+t[r.M10]*t[r.M31]*t[r.M22]*t[r.M03]+t[r.M20]*t[r.M11]*t[r.M32]*t[r.M03]-t[r.M10]*t[r.M21]*t[r.M32]*t[r.M03]-t[r.M30]*t[r.M21]*t[r.M02]*t[r.M13]+t[r.M20]*t[r.M31]*t[r.M02]*t[r.M13]+t[r.M30]*t[r.M01]*t[r.M22]*t[r.M13]-t[r.M00]*t[r.M31]*t[r.M22]*t[r.M13]-t[r.M20]*t[r.M01]*t[r.M32]*t[r.M13]+t[r.M00]*t[r.M21]*t[r.M32]*t[r.M13]+t[r.M30]*t[r.M11]*t[r.M02]*t[r.M23]-t[r.M10]*t[r.M31]*t[r.M02]*t[r.M23]-t[r.M30]*t[r.M01]*t[r.M12]*t[r.M23]+t[r.M00]*t[r.M31]*t[r.M12]*t[r.M23]+t[r.M10]*t[r.M01]*t[r.M32]*t[r.M23]-t[r.M00]*t[r.M11]*t[r.M32]*t[r.M23]-t[r.M20]*t[r.M11]*t[r.M02]*t[r.M33]+t[r.M10]*t[r.M21]*t[r.M02]*t[r.M33]+t[r.M20]*t[r.M01]*t[r.M12]*t[r.M33]-t[r.M00]*t[r.M21]*t[r.M12]*t[r.M33]-t[r.M10]*t[r.M01]*t[r.M22]*t[r.M33]+t[r.M00]*t[r.M11]*t[r.M22]*t[r.M33];if(a==0)throw new Error("non-invertible matrix");var n=1/a;return e[r.M00]=t[r.M12]*t[r.M23]*t[r.M31]-t[r.M13]*t[r.M22]*t[r.M31]+t[r.M13]*t[r.M21]*t[r.M32]-t[r.M11]*t[r.M23]*t[r.M32]-t[r.M12]*t[r.M21]*t[r.M33]+t[r.M11]*t[r.M22]*t[r.M33],e[r.M01]=t[r.M03]*t[r.M22]*t[r.M31]-t[r.M02]*t[r.M23]*t[r.M31]-t[r.M03]*t[r.M21]*t[r.M32]+t[r.M01]*t[r.M23]*t[r.M32]+t[r.M02]*t[r.M21]*t[r.M33]-t[r.M01]*t[r.M22]*t[r.M33],e[r.M02]=t[r.M02]*t[r.M13]*t[r.M31]-t[r.M03]*t[r.M12]*t[r.M31]+t[r.M03]*t[r.M11]*t[r.M32]-t[r.M01]*t[r.M13]*t[r.M32]-t[r.M02]*t[r.M11]*t[r.M33]+t[r.M01]*t[r.M12]*t[r.M33],e[r.M03]=t[r.M03]*t[r.M12]*t[r.M21]-t[r.M02]*t[r.M13]*t[r.M21]-t[r.M03]*t[r.M11]*t[r.M22]+t[r.M01]*t[r.M13]*t[r.M22]+t[r.M02]*t[r.M11]*t[r.M23]-t[r.M01]*t[r.M12]*t[r.M23],e[r.M10]=t[r.M13]*t[r.M22]*t[r.M30]-t[r.M12]*t[r.M23]*t[r.M30]-t[r.M13]*t[r.M20]*t[r.M32]+t[r.M10]*t[r.M23]*t[r.M32]+t[r.M12]*t[r.M20]*t[r.M33]-t[r.M10]*t[r.M22]*t[r.M33],e[r.M11]=t[r.M02]*t[r.M23]*t[r.M30]-t[r.M03]*t[r.M22]*t[r.M30]+t[r.M03]*t[r.M20]*t[r.M32]-t[r.M00]*t[r.M23]*t[r.M32]-t[r.M02]*t[r.M20]*t[r.M33]+t[r.M00]*t[r.M22]*t[r.M33],e[r.M12]=t[r.M03]*t[r.M12]*t[r.M30]-t[r.M02]*t[r.M13]*t[r.M30]-t[r.M03]*t[r.M10]*t[r.M32]+t[r.M00]*t[r.M13]*t[r.M32]+t[r.M02]*t[r.M10]*t[r.M33]-t[r.M00]*t[r.M12]*t[r.M33],e[r.M13]=t[r.M02]*t[r.M13]*t[r.M20]-t[r.M03]*t[r.M12]*t[r.M20]+t[r.M03]*t[r.M10]*t[r.M22]-t[r.M00]*t[r.M13]*t[r.M22]-t[r.M02]*t[r.M10]*t[r.M23]+t[r.M00]*t[r.M12]*t[r.M23],e[r.M20]=t[r.M11]*t[r.M23]*t[r.M30]-t[r.M13]*t[r.M21]*t[r.M30]+t[r.M13]*t[r.M20]*t[r.M31]-t[r.M10]*t[r.M23]*t[r.M31]-t[r.M11]*t[r.M20]*t[r.M33]+t[r.M10]*t[r.M21]*t[r.M33],e[r.M21]=t[r.M03]*t[r.M21]*t[r.M30]-t[r.M01]*t[r.M23]*t[r.M30]-t[r.M03]*t[r.M20]*t[r.M31]+t[r.M00]*t[r.M23]*t[r.M31]+t[r.M01]*t[r.M20]*t[r.M33]-t[r.M00]*t[r.M21]*t[r.M33],e[r.M22]=t[r.M01]*t[r.M13]*t[r.M30]-t[r.M03]*t[r.M11]*t[r.M30]+t[r.M03]*t[r.M10]*t[r.M31]-t[r.M00]*t[r.M13]*t[r.M31]-t[r.M01]*t[r.M10]*t[r.M33]+t[r.M00]*t[r.M11]*t[r.M33],e[r.M23]=t[r.M03]*t[r.M11]*t[r.M20]-t[r.M01]*t[r.M13]*t[r.M20]-t[r.M03]*t[r.M10]*t[r.M21]+t[r.M00]*t[r.M13]*t[r.M21]+t[r.M01]*t[r.M10]*t[r.M23]-t[r.M00]*t[r.M11]*t[r.M23],e[r.M30]=t[r.M12]*t[r.M21]*t[r.M30]-t[r.M11]*t[r.M22]*t[r.M30]-t[r.M12]*t[r.M20]*t[r.M31]+t[r.M10]*t[r.M22]*t[r.M31]+t[r.M11]*t[r.M20]*t[r.M32]-t[r.M10]*t[r.M21]*t[r.M32],e[r.M31]=t[r.M01]*t[r.M22]*t[r.M30]-t[r.M02]*t[r.M21]*t[r.M30]+t[r.M02]*t[r.M20]*t[r.M31]-t[r.M00]*t[r.M22]*t[r.M31]-t[r.M01]*t[r.M20]*t[r.M32]+t[r.M00]*t[r.M21]*t[r.M32],e[r.M32]=t[r.M02]*t[r.M11]*t[r.M30]-t[r.M01]*t[r.M12]*t[r.M30]-t[r.M02]*t[r.M10]*t[r.M31]+t[r.M00]*t[r.M12]*t[r.M31]+t[r.M01]*t[r.M10]*t[r.M32]-t[r.M00]*t[r.M11]*t[r.M32],e[r.M33]=t[r.M01]*t[r.M12]*t[r.M20]-t[r.M02]*t[r.M11]*t[r.M20]+t[r.M02]*t[r.M10]*t[r.M21]-t[r.M00]*t[r.M12]*t[r.M21]-t[r.M01]*t[r.M10]*t[r.M22]+t[r.M00]*t[r.M11]*t[r.M22],t[r.M00]=e[r.M00]*n,t[r.M01]=e[r.M01]*n,t[r.M02]=e[r.M02]*n,t[r.M03]=e[r.M03]*n,t[r.M10]=e[r.M10]*n,t[r.M11]=e[r.M11]*n,t[r.M12]=e[r.M12]*n,t[r.M13]=e[r.M13]*n,t[r.M20]=e[r.M20]*n,t[r.M21]=e[r.M21]*n,t[r.M22]=e[r.M22]*n,t[r.M23]=e[r.M23]*n,t[r.M30]=e[r.M30]*n,t[r.M31]=e[r.M31]*n,t[r.M32]=e[r.M32]*n,t[r.M33]=e[r.M33]*n,this},i.prototype.determinant=function(){var t=this.values;return t[r.M30]*t[r.M21]*t[r.M12]*t[r.M03]-t[r.M20]*t[r.M31]*t[r.M12]*t[r.M03]-t[r.M30]*t[r.M11]*t[r.M22]*t[r.M03]+t[r.M10]*t[r.M31]*t[r.M22]*t[r.M03]+t[r.M20]*t[r.M11]*t[r.M32]*t[r.M03]-t[r.M10]*t[r.M21]*t[r.M32]*t[r.M03]-t[r.M30]*t[r.M21]*t[r.M02]*t[r.M13]+t[r.M20]*t[r.M31]*t[r.M02]*t[r.M13]+t[r.M30]*t[r.M01]*t[r.M22]*t[r.M13]-t[r.M00]*t[r.M31]*t[r.M22]*t[r.M13]-t[r.M20]*t[r.M01]*t[r.M32]*t[r.M13]+t[r.M00]*t[r.M21]*t[r.M32]*t[r.M13]+t[r.M30]*t[r.M11]*t[r.M02]*t[r.M23]-t[r.M10]*t[r.M31]*t[r.M02]*t[r.M23]-t[r.M30]*t[r.M01]*t[r.M12]*t[r.M23]+t[r.M00]*t[r.M31]*t[r.M12]*t[r.M23]+t[r.M10]*t[r.M01]*t[r.M32]*t[r.M23]-t[r.M00]*t[r.M11]*t[r.M32]*t[r.M23]-t[r.M20]*t[r.M11]*t[r.M02]*t[r.M33]+t[r.M10]*t[r.M21]*t[r.M02]*t[r.M33]+t[r.M20]*t[r.M01]*t[r.M12]*t[r.M33]-t[r.M00]*t[r.M21]*t[r.M12]*t[r.M33]-t[r.M10]*t[r.M01]*t[r.M22]*t[r.M33]+t[r.M00]*t[r.M11]*t[r.M22]*t[r.M33]},i.prototype.translate=function(t,e,a){var n=this.values;return n[r.M03]+=t,n[r.M13]+=e,n[r.M23]+=a,this},i.prototype.copy=function(){return new i().set(this.values)},i.prototype.projection=function(t,e,a,n){this.identity();var h=1/Math.tan(a*(Math.PI/180)/2),M=(e+t)/(t-e),u=2*e*t/(t-e),c=this.values;return c[r.M00]=h/n,c[r.M10]=0,c[r.M20]=0,c[r.M30]=0,c[r.M01]=0,c[r.M11]=h,c[r.M21]=0,c[r.M31]=0,c[r.M02]=0,c[r.M12]=0,c[r.M22]=M,c[r.M32]=-1,c[r.M03]=0,c[r.M13]=0,c[r.M23]=u,c[r.M33]=0,this},i.prototype.ortho2d=function(t,e,a,n){return this.ortho(t,t+a,e,e+n,0,1)},i.prototype.ortho=function(t,e,a,n,h,M){this.identity();var u=2/(e-t),c=2/(n-a),s=-2/(M-h),v=-(e+t)/(e-t),f=-(n+a)/(n-a),m=-(M+h)/(M-h),y=this.values;return y[r.M00]=u,y[r.M10]=0,y[r.M20]=0,y[r.M30]=0,y[r.M01]=0,y[r.M11]=c,y[r.M21]=0,y[r.M31]=0,y[r.M02]=0,y[r.M12]=0,y[r.M22]=s,y[r.M32]=0,y[r.M03]=v,y[r.M13]=f,y[r.M23]=m,y[r.M33]=1,this},i.prototype.multiply=function(t){var e=this.temp,a=this.values,n=t.values;return e[r.M00]=a[r.M00]*n[r.M00]+a[r.M01]*n[r.M10]+a[r.M02]*n[r.M20]+a[r.M03]*n[r.M30],e[r.M01]=a[r.M00]*n[r.M01]+a[r.M01]*n[r.M11]+a[r.M02]*n[r.M21]+a[r.M03]*n[r.M31],e[r.M02]=a[r.M00]*n[r.M02]+a[r.M01]*n[r.M12]+a[r.M02]*n[r.M22]+a[r.M03]*n[r.M32],e[r.M03]=a[r.M00]*n[r.M03]+a[r.M01]*n[r.M13]+a[r.M02]*n[r.M23]+a[r.M03]*n[r.M33],e[r.M10]=a[r.M10]*n[r.M00]+a[r.M11]*n[r.M10]+a[r.M12]*n[r.M20]+a[r.M13]*n[r.M30],e[r.M11]=a[r.M10]*n[r.M01]+a[r.M11]*n[r.M11]+a[r.M12]*n[r.M21]+a[r.M13]*n[r.M31],e[r.M12]=a[r.M10]*n[r.M02]+a[r.M11]*n[r.M12]+a[r.M12]*n[r.M22]+a[r.M13]*n[r.M32],e[r.M13]=a[r.M10]*n[r.M03]+a[r.M11]*n[r.M13]+a[r.M12]*n[r.M23]+a[r.M13]*n[r.M33],e[r.M20]=a[r.M20]*n[r.M00]+a[r.M21]*n[r.M10]+a[r.M22]*n[r.M20]+a[r.M23]*n[r.M30],e[r.M21]=a[r.M20]*n[r.M01]+a[r.M21]*n[r.M11]+a[r.M22]*n[r.M21]+a[r.M23]*n[r.M31],e[r.M22]=a[r.M20]*n[r.M02]+a[r.M21]*n[r.M12]+a[r.M22]*n[r.M22]+a[r.M23]*n[r.M32],e[r.M23]=a[r.M20]*n[r.M03]+a[r.M21]*n[r.M13]+a[r.M22]*n[r.M23]+a[r.M23]*n[r.M33],e[r.M30]=a[r.M30]*n[r.M00]+a[r.M31]*n[r.M10]+a[r.M32]*n[r.M20]+a[r.M33]*n[r.M30],e[r.M31]=a[r.M30]*n[r.M01]+a[r.M31]*n[r.M11]+a[r.M32]*n[r.M21]+a[r.M33]*n[r.M31],e[r.M32]=a[r.M30]*n[r.M02]+a[r.M31]*n[r.M12]+a[r.M32]*n[r.M22]+a[r.M33]*n[r.M32],e[r.M33]=a[r.M30]*n[r.M03]+a[r.M31]*n[r.M13]+a[r.M32]*n[r.M23]+a[r.M33]*n[r.M33],this.set(this.temp)},i.prototype.multiplyLeft=function(t){var e=this.temp,a=this.values,n=t.values;return e[r.M00]=n[r.M00]*a[r.M00]+n[r.M01]*a[r.M10]+n[r.M02]*a[r.M20]+n[r.M03]*a[r.M30],e[r.M01]=n[r.M00]*a[r.M01]+n[r.M01]*a[r.M11]+n[r.M02]*a[r.M21]+n[r.M03]*a[r.M31],e[r.M02]=n[r.M00]*a[r.M02]+n[r.M01]*a[r.M12]+n[r.M02]*a[r.M22]+n[r.M03]*a[r.M32],e[r.M03]=n[r.M00]*a[r.M03]+n[r.M01]*a[r.M13]+n[r.M02]*a[r.M23]+n[r.M03]*a[r.M33],e[r.M10]=n[r.M10]*a[r.M00]+n[r.M11]*a[r.M10]+n[r.M12]*a[r.M20]+n[r.M13]*a[r.M30],e[r.M11]=n[r.M10]*a[r.M01]+n[r.M11]*a[r.M11]+n[r.M12]*a[r.M21]+n[r.M13]*a[r.M31],e[r.M12]=n[r.M10]*a[r.M02]+n[r.M11]*a[r.M12]+n[r.M12]*a[r.M22]+n[r.M13]*a[r.M32],e[r.M13]=n[r.M10]*a[r.M03]+n[r.M11]*a[r.M13]+n[r.M12]*a[r.M23]+n[r.M13]*a[r.M33],e[r.M20]=n[r.M20]*a[r.M00]+n[r.M21]*a[r.M10]+n[r.M22]*a[r.M20]+n[r.M23]*a[r.M30],e[r.M21]=n[r.M20]*a[r.M01]+n[r.M21]*a[r.M11]+n[r.M22]*a[r.M21]+n[r.M23]*a[r.M31],e[r.M22]=n[r.M20]*a[r.M02]+n[r.M21]*a[r.M12]+n[r.M22]*a[r.M22]+n[r.M23]*a[r.M32],e[r.M23]=n[r.M20]*a[r.M03]+n[r.M21]*a[r.M13]+n[r.M22]*a[r.M23]+n[r.M23]*a[r.M33],e[r.M30]=n[r.M30]*a[r.M00]+n[r.M31]*a[r.M10]+n[r.M32]*a[r.M20]+n[r.M33]*a[r.M30],e[r.M31]=n[r.M30]*a[r.M01]+n[r.M31]*a[r.M11]+n[r.M32]*a[r.M21]+n[r.M33]*a[r.M31],e[r.M32]=n[r.M30]*a[r.M02]+n[r.M31]*a[r.M12]+n[r.M32]*a[r.M22]+n[r.M33]*a[r.M32],e[r.M33]=n[r.M30]*a[r.M03]+n[r.M31]*a[r.M13]+n[r.M32]*a[r.M23]+n[r.M33]*a[r.M33],this.set(this.temp)},i.prototype.lookAt=function(t,e,a){i.initTemps();var n=i.xAxis,h=i.yAxis,M=i.zAxis;M.setFrom(e).normalize(),n.setFrom(e).normalize(),n.cross(a).normalize(),h.setFrom(n).cross(M).normalize(),this.identity();var u=this.values;return u[r.M00]=n.x,u[r.M01]=n.y,u[r.M02]=n.z,u[r.M10]=h.x,u[r.M11]=h.y,u[r.M12]=h.z,u[r.M20]=-M.x,u[r.M21]=-M.y,u[r.M22]=-M.z,i.tmpMatrix.identity(),i.tmpMatrix.values[r.M03]=-t.x,i.tmpMatrix.values[r.M13]=-t.y,i.tmpMatrix.values[r.M23]=-t.z,this.multiply(i.tmpMatrix),this},i.initTemps=function(){i.xAxis===null&&(i.xAxis=new r.Vector3),i.yAxis===null&&(i.yAxis=new r.Vector3),i.zAxis===null&&(i.zAxis=new r.Vector3)},i.xAxis=null,i.yAxis=null,i.zAxis=null,i.tmpMatrix=new i,i}();r.Matrix4=o})(B=l.webgl||(l.webgl={}))})(spine||(spine={}));var spine;(function(l){var B;(function(r){var o=function(){function u(c,s,v,f){this.attributes=s,this.verticesLength=0,this.dirtyVertices=!1,this.indicesLength=0,this.dirtyIndices=!1,this.elementsPerVertex=0,this.context=c instanceof r.ManagedWebGLRenderingContext?c:new r.ManagedWebGLRenderingContext(c),this.elementsPerVertex=0;for(var m=0;m<s.length;m++)this.elementsPerVertex+=s[m].numElements;this.vertices=new Float32Array(v*this.elementsPerVertex),this.indices=new Uint16Array(f),this.context.addRestorable(this)}return u.prototype.getAttributes=function(){return this.attributes},u.prototype.maxVertices=function(){return this.vertices.length/this.elementsPerVertex},u.prototype.numVertices=function(){return this.verticesLength/this.elementsPerVertex},u.prototype.setVerticesLength=function(c){this.dirtyVertices=!0,this.verticesLength=c},u.prototype.getVertices=function(){return this.vertices},u.prototype.maxIndices=function(){return this.indices.length},u.prototype.numIndices=function(){return this.indicesLength},u.prototype.setIndicesLength=function(c){this.dirtyIndices=!0,this.indicesLength=c},u.prototype.getIndices=function(){return this.indices},u.prototype.getVertexSizeInFloats=function(){for(var c=0,s=0;s<this.attributes.length;s++){var v=this.attributes[s];c+=v.numElements}return c},u.prototype.setVertices=function(c){if(this.dirtyVertices=!0,c.length>this.vertices.length)throw Error("Mesh can't store more than "+this.maxVertices()+" vertices");this.vertices.set(c,0),this.verticesLength=c.length},u.prototype.setIndices=function(c){if(this.dirtyIndices=!0,c.length>this.indices.length)throw Error("Mesh can't store more than "+this.maxIndices()+" indices");this.indices.set(c,0),this.indicesLength=c.length},u.prototype.draw=function(c,s){this.drawWithOffset(c,s,0,this.indicesLength>0?this.indicesLength:this.verticesLength/this.elementsPerVertex)},u.prototype.drawWithOffset=function(c,s,v,f){var m=this.context.gl;(this.dirtyVertices||this.dirtyIndices)&&this.update(),this.bind(c),this.indicesLength>0?m.drawElements(s,f,m.UNSIGNED_SHORT,v*2):m.drawArrays(s,v,f),this.unbind(c)},u.prototype.bind=function(c){var s=this.context.gl;s.bindBuffer(s.ARRAY_BUFFER,this.verticesBuffer);for(var v=0,f=0;f<this.attributes.length;f++){var m=this.attributes[f],y=c.getAttributeLocation(m.name);s.enableVertexAttribArray(y),s.vertexAttribPointer(y,m.numElements,s.FLOAT,!1,this.elementsPerVertex*4,v*4),v+=m.numElements}this.indicesLength>0&&s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,this.indicesBuffer)},u.prototype.unbind=function(c){for(var s=this.context.gl,v=0;v<this.attributes.length;v++){var f=this.attributes[v],m=c.getAttributeLocation(f.name);s.disableVertexAttribArray(m)}s.bindBuffer(s.ARRAY_BUFFER,null),this.indicesLength>0&&s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,null)},u.prototype.update=function(){var c=this.context.gl;this.dirtyVertices&&(this.verticesBuffer||(this.verticesBuffer=c.createBuffer()),c.bindBuffer(c.ARRAY_BUFFER,this.verticesBuffer),c.bufferData(c.ARRAY_BUFFER,this.vertices.subarray(0,this.verticesLength),c.DYNAMIC_DRAW),this.dirtyVertices=!1),this.dirtyIndices&&(this.indicesBuffer||(this.indicesBuffer=c.createBuffer()),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),c.bufferData(c.ELEMENT_ARRAY_BUFFER,this.indices.subarray(0,this.indicesLength),c.DYNAMIC_DRAW),this.dirtyIndices=!1)},u.prototype.restore=function(){this.verticesBuffer=null,this.indicesBuffer=null,this.update()},u.prototype.dispose=function(){this.context.removeRestorable(this);var c=this.context.gl;c.deleteBuffer(this.verticesBuffer),c.deleteBuffer(this.indicesBuffer)},u}();r.Mesh=o;var i=function(){function u(c,s,v){this.name=c,this.type=s,this.numElements=v}return u}();r.VertexAttribute=i;var t=function(u){__extends(c,u);function c(){return u.call(this,r.Shader.POSITION,M.Float,2)||this}return c}(i);r.Position2Attribute=t;var e=function(u){__extends(c,u);function c(){return u.call(this,r.Shader.POSITION,M.Float,3)||this}return c}(i);r.Position3Attribute=e;var a=function(u){__extends(c,u);function c(s){return s===void 0&&(s=0),u.call(this,r.Shader.TEXCOORDS+(s==0?"":s),M.Float,2)||this}return c}(i);r.TexCoordAttribute=a;var n=function(u){__extends(c,u);function c(){return u.call(this,r.Shader.COLOR,M.Float,4)||this}return c}(i);r.ColorAttribute=n;var h=function(u){__extends(c,u);function c(){return u.call(this,r.Shader.COLOR2,M.Float,4)||this}return c}(i);r.Color2Attribute=h;var M;(function(u){u[u.Float=0]="Float"})(M=r.VertexAttributeType||(r.VertexAttributeType={}))})(B=l.webgl||(l.webgl={}))})(spine||(spine={}));var spine;(function(l){var B;(function(r){var o=function(){function i(t,e,a){if(e===void 0&&(e=!0),a===void 0&&(a=10920),this.isDrawing=!1,this.shader=null,this.lastTexture=null,this.verticesLength=0,this.indicesLength=0,a>10920)throw new Error("Can't have more than 10920 triangles per batch: "+a);this.context=t instanceof r.ManagedWebGLRenderingContext?t:new r.ManagedWebGLRenderingContext(t);var n=e?[new r.Position2Attribute,new r.ColorAttribute,new r.TexCoordAttribute,new r.Color2Attribute]:[new r.Position2Attribute,new r.ColorAttribute,new r.TexCoordAttribute];this.mesh=new r.Mesh(t,n,a,a*3),this.srcBlend=this.context.gl.SRC_ALPHA,this.dstBlend=this.context.gl.ONE_MINUS_SRC_ALPHA}return i.prototype.begin=function(t){var e=this.context.gl;if(this.isDrawing)throw new Error("PolygonBatch is already drawing. Call PolygonBatch.end() before calling PolygonBatch.begin()");this.drawCalls=0,this.shader=t,this.lastTexture=null,this.isDrawing=!0,e.enable(e.BLEND),e.blendFunc(this.srcBlend,this.dstBlend)},i.prototype.setBlendMode=function(t,e){var a=this.context.gl;this.srcBlend=t,this.dstBlend=e,this.isDrawing&&(this.flush(),a.blendFunc(this.srcBlend,this.dstBlend))},i.prototype.draw=function(t,e,a){t!=this.lastTexture?(this.flush(),this.lastTexture=t):(this.verticesLength+e.length>this.mesh.getVertices().length||this.indicesLength+a.length>this.mesh.getIndices().length)&&this.flush();var n=this.mesh.numVertices();this.mesh.getVertices().set(e,this.verticesLength),this.verticesLength+=e.length,this.mesh.setVerticesLength(this.verticesLength);for(var h=this.mesh.getIndices(),M=this.indicesLength,u=0;u<a.length;M++,u++)h[M]=a[u]+n;this.indicesLength+=a.length,this.mesh.setIndicesLength(this.indicesLength)},i.prototype.flush=function(){var t=this.context.gl;this.verticesLength!=0&&(this.lastTexture.bind(),this.mesh.draw(this.shader,t.TRIANGLES),this.verticesLength=0,this.indicesLength=0,this.mesh.setVerticesLength(0),this.mesh.setIndicesLength(0),this.drawCalls++)},i.prototype.end=function(){var t=this.context.gl;if(!this.isDrawing)throw new Error("PolygonBatch is not drawing. Call PolygonBatch.begin() before calling PolygonBatch.end()");(this.verticesLength>0||this.indicesLength>0)&&this.flush(),this.shader=null,this.lastTexture=null,this.isDrawing=!1,t.disable(t.BLEND)},i.prototype.getDrawCalls=function(){return this.drawCalls},i.prototype.dispose=function(){this.mesh.dispose()},i}();r.PolygonBatcher=o})(B=l.webgl||(l.webgl={}))})(spine||(spine={}));var spine;(function(l){var B;(function(r){var o=function(){function t(e,a,n){n===void 0&&(n=!0),this.twoColorTint=!1,this.activeRenderer=null,this.QUAD=[0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0],this.QUAD_TRIANGLES=[0,1,2,2,3,0],this.WHITE=new l.Color(1,1,1,1),this.canvas=e,this.context=a instanceof r.ManagedWebGLRenderingContext?a:new r.ManagedWebGLRenderingContext(a),this.twoColorTint=n,this.camera=new r.OrthoCamera(e.width,e.height),this.batcherShader=n?r.Shader.newTwoColoredTextured(this.context):r.Shader.newColoredTextured(this.context),this.batcher=new r.PolygonBatcher(this.context,n),this.shapesShader=r.Shader.newColored(this.context),this.shapes=new r.ShapeRenderer(this.context),this.skeletonRenderer=new r.SkeletonRenderer(this.context,n),this.skeletonDebugRenderer=new r.SkeletonDebugRenderer(this.context)}return t.prototype.begin=function(){this.camera.update(),this.enableRenderer(this.batcher)},t.prototype.drawSkeleton=function(e,a,n,h){a===void 0&&(a=!1),n===void 0&&(n=-1),h===void 0&&(h=-1),this.enableRenderer(this.batcher),this.skeletonRenderer.premultipliedAlpha=a,this.skeletonRenderer.draw(this.batcher,e,n,h)},t.prototype.drawSkeletonDebug=function(e,a,n){a===void 0&&(a=!1),n===void 0&&(n=null),this.enableRenderer(this.shapes),this.skeletonDebugRenderer.premultipliedAlpha=a,this.skeletonDebugRenderer.draw(this.shapes,e,n)},t.prototype.drawTexture=function(e,a,n,h,M,u){u===void 0&&(u=null),this.enableRenderer(this.batcher),u===null&&(u=this.WHITE);var c=this.QUAD,s=0;c[s++]=a,c[s++]=n,c[s++]=u.r,c[s++]=u.g,c[s++]=u.b,c[s++]=u.a,c[s++]=0,c[s++]=1,this.twoColorTint&&(c[s++]=0,c[s++]=0,c[s++]=0,c[s++]=0),c[s++]=a+h,c[s++]=n,c[s++]=u.r,c[s++]=u.g,c[s++]=u.b,c[s++]=u.a,c[s++]=1,c[s++]=1,this.twoColorTint&&(c[s++]=0,c[s++]=0,c[s++]=0,c[s++]=0),c[s++]=a+h,c[s++]=n+M,c[s++]=u.r,c[s++]=u.g,c[s++]=u.b,c[s++]=u.a,c[s++]=1,c[s++]=0,this.twoColorTint&&(c[s++]=0,c[s++]=0,c[s++]=0,c[s++]=0),c[s++]=a,c[s++]=n+M,c[s++]=u.r,c[s++]=u.g,c[s++]=u.b,c[s++]=u.a,c[s++]=0,c[s++]=0,this.twoColorTint&&(c[s++]=0,c[s++]=0,c[s++]=0,c[s++]=0),this.batcher.draw(e,c,this.QUAD_TRIANGLES)},t.prototype.drawTextureUV=function(e,a,n,h,M,u,c,s,v,f){f===void 0&&(f=null),this.enableRenderer(this.batcher),f===null&&(f=this.WHITE);var m=this.QUAD,y=0;m[y++]=a,m[y++]=n,m[y++]=f.r,m[y++]=f.g,m[y++]=f.b,m[y++]=f.a,m[y++]=u,m[y++]=c,this.twoColorTint&&(m[y++]=0,m[y++]=0,m[y++]=0,m[y++]=0),m[y++]=a+h,m[y++]=n,m[y++]=f.r,m[y++]=f.g,m[y++]=f.b,m[y++]=f.a,m[y++]=s,m[y++]=c,this.twoColorTint&&(m[y++]=0,m[y++]=0,m[y++]=0,m[y++]=0),m[y++]=a+h,m[y++]=n+M,m[y++]=f.r,m[y++]=f.g,m[y++]=f.b,m[y++]=f.a,m[y++]=s,m[y++]=v,this.twoColorTint&&(m[y++]=0,m[y++]=0,m[y++]=0,m[y++]=0),m[y++]=a,m[y++]=n+M,m[y++]=f.r,m[y++]=f.g,m[y++]=f.b,m[y++]=f.a,m[y++]=u,m[y++]=v,this.twoColorTint&&(m[y++]=0,m[y++]=0,m[y++]=0,m[y++]=0),this.batcher.draw(e,m,this.QUAD_TRIANGLES)},t.prototype.drawTextureRotated=function(e,a,n,h,M,u,c,s,v,f){v===void 0&&(v=null),f===void 0&&(f=!1),this.enableRenderer(this.batcher),v===null&&(v=this.WHITE);var m=this.QUAD,y=a+u,x=n+c,V=-u,C=-c,L=h-u,A=M-c,d=V,E=C,g=V,S=A,F=L,I=A,O=L,G=C,T=0,p=0,R=0,U=0,N=0,W=0,Z=0,Y=0;if(s!=0){var X=l.MathUtils.cosDeg(s),j=l.MathUtils.sinDeg(s);T=X*d-j*E,p=j*d+X*E,Z=X*g-j*S,Y=j*g+X*S,N=X*F-j*I,W=j*F+X*I,R=N+(T-Z),U=W+(p-Y)}else T=d,p=E,Z=g,Y=S,N=F,W=I,R=O,U=G;T+=y,p+=x,R+=y,U+=x,N+=y,W+=x,Z+=y,Y+=x;var k=0;m[k++]=T,m[k++]=p,m[k++]=v.r,m[k++]=v.g,m[k++]=v.b,m[k++]=v.a,m[k++]=0,m[k++]=1,this.twoColorTint&&(m[k++]=0,m[k++]=0,m[k++]=0,m[k++]=0),m[k++]=R,m[k++]=U,m[k++]=v.r,m[k++]=v.g,m[k++]=v.b,m[k++]=v.a,m[k++]=1,m[k++]=1,this.twoColorTint&&(m[k++]=0,m[k++]=0,m[k++]=0,m[k++]=0),m[k++]=N,m[k++]=W,m[k++]=v.r,m[k++]=v.g,m[k++]=v.b,m[k++]=v.a,m[k++]=1,m[k++]=0,this.twoColorTint&&(m[k++]=0,m[k++]=0,m[k++]=0,m[k++]=0),m[k++]=Z,m[k++]=Y,m[k++]=v.r,m[k++]=v.g,m[k++]=v.b,m[k++]=v.a,m[k++]=0,m[k++]=0,this.twoColorTint&&(m[k++]=0,m[k++]=0,m[k++]=0,m[k++]=0),this.batcher.draw(e,m,this.QUAD_TRIANGLES)},t.prototype.drawRegion=function(e,a,n,h,M,u,c){u===void 0&&(u=null),c===void 0&&(c=!1),this.enableRenderer(this.batcher),u===null&&(u=this.WHITE);var s=this.QUAD,v=0;s[v++]=a,s[v++]=n,s[v++]=u.r,s[v++]=u.g,s[v++]=u.b,s[v++]=u.a,s[v++]=e.u,s[v++]=e.v2,this.twoColorTint&&(s[v++]=0,s[v++]=0,s[v++]=0,s[v++]=0),s[v++]=a+h,s[v++]=n,s[v++]=u.r,s[v++]=u.g,s[v++]=u.b,s[v++]=u.a,s[v++]=e.u2,s[v++]=e.v2,this.twoColorTint&&(s[v++]=0,s[v++]=0,s[v++]=0,s[v++]=0),s[v++]=a+h,s[v++]=n+M,s[v++]=u.r,s[v++]=u.g,s[v++]=u.b,s[v++]=u.a,s[v++]=e.u2,s[v++]=e.v,this.twoColorTint&&(s[v++]=0,s[v++]=0,s[v++]=0,s[v++]=0),s[v++]=a,s[v++]=n+M,s[v++]=u.r,s[v++]=u.g,s[v++]=u.b,s[v++]=u.a,s[v++]=e.u,s[v++]=e.v,this.twoColorTint&&(s[v++]=0,s[v++]=0,s[v++]=0,s[v++]=0),this.batcher.draw(e.texture,s,this.QUAD_TRIANGLES)},t.prototype.line=function(e,a,n,h,M,u){M===void 0&&(M=null),u===void 0&&(u=null),this.enableRenderer(this.shapes),this.shapes.line(e,a,n,h,M)},t.prototype.triangle=function(e,a,n,h,M,u,c,s,v,f){s===void 0&&(s=null),v===void 0&&(v=null),f===void 0&&(f=null),this.enableRenderer(this.shapes),this.shapes.triangle(e,a,n,h,M,u,c,s,v,f)},t.prototype.quad=function(e,a,n,h,M,u,c,s,v,f,m,y,x){f===void 0&&(f=null),m===void 0&&(m=null),y===void 0&&(y=null),x===void 0&&(x=null),this.enableRenderer(this.shapes),this.shapes.quad(e,a,n,h,M,u,c,s,v,f,m,y,x)},t.prototype.rect=function(e,a,n,h,M,u){u===void 0&&(u=null),this.enableRenderer(this.shapes),this.shapes.rect(e,a,n,h,M,u)},t.prototype.rectLine=function(e,a,n,h,M,u,c){c===void 0&&(c=null),this.enableRenderer(this.shapes),this.shapes.rectLine(e,a,n,h,M,u,c)},t.prototype.polygon=function(e,a,n,h){h===void 0&&(h=null),this.enableRenderer(this.shapes),this.shapes.polygon(e,a,n,h)},t.prototype.circle=function(e,a,n,h,M,u){M===void 0&&(M=null),u===void 0&&(u=0),this.enableRenderer(this.shapes),this.shapes.circle(e,a,n,h,M,u)},t.prototype.curve=function(e,a,n,h,M,u,c,s,v,f){f===void 0&&(f=null),this.enableRenderer(this.shapes),this.shapes.curve(e,a,n,h,M,u,c,s,v,f)},t.prototype.end=function(){this.activeRenderer===this.batcher?this.batcher.end():this.activeRenderer===this.shapes&&this.shapes.end(),this.activeRenderer=null},t.prototype.resize=function(e){var a=this.canvas,n=a.clientWidth,h=a.clientHeight;if((a.width!=n||a.height!=h)&&(a.width=n,a.height=h),this.context.gl.viewport(0,0,a.width,a.height),e!==i.Stretch){if(e===i.Expand)this.camera.setViewport(n,h);else if(e===i.Fit){var M=a.width,u=a.height,c=this.camera.viewportWidth,s=this.camera.viewportHeight,v=s/c,f=u/M,m=v<f?c/M:s/u;this.camera.viewportWidth=M*m,this.camera.viewportHeight=u*m}}this.camera.update()},t.prototype.enableRenderer=function(e){this.activeRenderer!==e&&(this.end(),e instanceof r.PolygonBatcher?(this.batcherShader.bind(),this.batcherShader.setUniform4x4f(r.Shader.MVP_MATRIX,this.camera.projectionView.values),this.batcherShader.setUniformi("u_texture",0),this.batcher.begin(this.batcherShader),this.activeRenderer=this.batcher):e instanceof r.ShapeRenderer?(this.shapesShader.bind(),this.shapesShader.setUniform4x4f(r.Shader.MVP_MATRIX,this.camera.projectionView.values),this.shapes.begin(this.shapesShader),this.activeRenderer=this.shapes):this.activeRenderer=this.skeletonDebugRenderer)},t.prototype.dispose=function(){this.batcher.dispose(),this.batcherShader.dispose(),this.shapes.dispose(),this.shapesShader.dispose(),this.skeletonDebugRenderer.dispose()},t}();r.SceneRenderer=o;var i;(function(t){t[t.Stretch=0]="Stretch",t[t.Expand=1]="Expand",t[t.Fit=2]="Fit"})(i=r.ResizeMode||(r.ResizeMode={}))})(B=l.webgl||(l.webgl={}))})(spine||(spine={}));var spine;(function(l){var B;(function(r){var o=function(){function i(t,e,a){this.vertexShader=e,this.fragmentShader=a,this.vs=null,this.fs=null,this.program=null,this.tmp2x2=new Float32Array(2*2),this.tmp3x3=new Float32Array(3*3),this.tmp4x4=new Float32Array(4*4),this.vsSource=e,this.fsSource=a,this.context=t instanceof r.ManagedWebGLRenderingContext?t:new r.ManagedWebGLRenderingContext(t),this.context.addRestorable(this),this.compile()}return i.prototype.getProgram=function(){return this.program},i.prototype.getVertexShader=function(){return this.vertexShader},i.prototype.getFragmentShader=function(){return this.fragmentShader},i.prototype.getVertexShaderSource=function(){return this.vsSource},i.prototype.getFragmentSource=function(){return this.fsSource},i.prototype.compile=function(){var t=this.context.gl;try{this.vs=this.compileShader(t.VERTEX_SHADER,this.vertexShader),this.fs=this.compileShader(t.FRAGMENT_SHADER,this.fragmentShader),this.program=this.compileProgram(this.vs,this.fs)}catch(e){throw this.dispose(),e}},i.prototype.compileShader=function(t,e){var a=this.context.gl,n=a.createShader(t);if(a.shaderSource(n,e),a.compileShader(n),!a.getShaderParameter(n,a.COMPILE_STATUS)){var h="Couldn't compile shader: "+a.getShaderInfoLog(n);if(a.deleteShader(n),!a.isContextLost())throw new Error(h)}return n},i.prototype.compileProgram=function(t,e){var a=this.context.gl,n=a.createProgram();if(a.attachShader(n,t),a.attachShader(n,e),a.linkProgram(n),!a.getProgramParameter(n,a.LINK_STATUS)){var h="Couldn't compile shader program: "+a.getProgramInfoLog(n);if(a.deleteProgram(n),!a.isContextLost())throw new Error(h)}return n},i.prototype.restore=function(){this.compile()},i.prototype.bind=function(){this.context.gl.useProgram(this.program)},i.prototype.unbind=function(){this.context.gl.useProgram(null)},i.prototype.setUniformi=function(t,e){this.context.gl.uniform1i(this.getUniformLocation(t),e)},i.prototype.setUniformf=function(t,e){this.context.gl.uniform1f(this.getUniformLocation(t),e)},i.prototype.setUniform2f=function(t,e,a){this.context.gl.uniform2f(this.getUniformLocation(t),e,a)},i.prototype.setUniform3f=function(t,e,a,n){this.context.gl.uniform3f(this.getUniformLocation(t),e,a,n)},i.prototype.setUniform4f=function(t,e,a,n,h){this.context.gl.uniform4f(this.getUniformLocation(t),e,a,n,h)},i.prototype.setUniform2x2f=function(t,e){var a=this.context.gl;this.tmp2x2.set(e),a.uniformMatrix2fv(this.getUniformLocation(t),!1,this.tmp2x2)},i.prototype.setUniform3x3f=function(t,e){var a=this.context.gl;this.tmp3x3.set(e),a.uniformMatrix3fv(this.getUniformLocation(t),!1,this.tmp3x3)},i.prototype.setUniform4x4f=function(t,e){var a=this.context.gl;this.tmp4x4.set(e),a.uniformMatrix4fv(this.getUniformLocation(t),!1,this.tmp4x4)},i.prototype.getUniformLocation=function(t){var e=this.context.gl,a=e.getUniformLocation(this.program,t);if(!a&&!e.isContextLost())throw new Error("Couldn't find location for uniform "+t);return a},i.prototype.getAttributeLocation=function(t){var e=this.context.gl,a=e.getAttribLocation(this.program,t);if(a==-1&&!e.isContextLost())throw new Error("Couldn't find location for attribute "+t);return a},i.prototype.dispose=function(){this.context.removeRestorable(this);var t=this.context.gl;this.vs&&(t.deleteShader(this.vs),this.vs=null),this.fs&&(t.deleteShader(this.fs),this.fs=null),this.program&&(t.deleteProgram(this.program),this.program=null)},i.newColoredTextured=function(t){var e=`
				attribute vec4 `+i.POSITION+`;
				attribute vec4 `+i.COLOR+`;
				attribute vec2 `+i.TEXCOORDS+`;
				uniform mat4 `+i.MVP_MATRIX+`;
				varying vec4 v_color;
				varying vec2 v_texCoords;

				void main () {
					v_color = `+i.COLOR+`;
					v_texCoords = `+i.TEXCOORDS+`;
					gl_Position = `+i.MVP_MATRIX+" * "+i.POSITION+`;
				}
			`,a=`
				#ifdef GL_ES
					#define LOWP lowp
					precision mediump float;
				#else
					#define LOWP
				#endif
				varying LOWP vec4 v_color;
				varying vec2 v_texCoords;
				uniform sampler2D u_texture;

				void main () {
					gl_FragColor = v_color * texture2D(u_texture, v_texCoords);
				}
			`;return new i(t,e,a)},i.newTwoColoredTextured=function(t){var e=`
				attribute vec4 `+i.POSITION+`;
				attribute vec4 `+i.COLOR+`;
				attribute vec4 `+i.COLOR2+`;
				attribute vec2 `+i.TEXCOORDS+`;
				uniform mat4 `+i.MVP_MATRIX+`;
				varying vec4 v_light;
				varying vec4 v_dark;
				varying vec2 v_texCoords;

				void main () {
					v_light = `+i.COLOR+`;
					v_dark = `+i.COLOR2+`;
					v_texCoords = `+i.TEXCOORDS+`;
					gl_Position = `+i.MVP_MATRIX+" * "+i.POSITION+`;
				}
			`,a=`
				#ifdef GL_ES
					#define LOWP lowp
					precision mediump float;
				#else
					#define LOWP
				#endif
				varying LOWP vec4 v_light;
				varying LOWP vec4 v_dark;
				varying vec2 v_texCoords;
				uniform sampler2D u_texture;

				void main () {
					vec4 texColor = texture2D(u_texture, v_texCoords);
					gl_FragColor.a = texColor.a * v_light.a;
					gl_FragColor.rgb = ((texColor.a - 1.0) * v_dark.a + 1.0 - texColor.rgb) * v_dark.rgb + texColor.rgb * v_light.rgb;
				}
			`;return new i(t,e,a)},i.newColored=function(t){var e=`
				attribute vec4 `+i.POSITION+`;
				attribute vec4 `+i.COLOR+`;
				uniform mat4 `+i.MVP_MATRIX+`;
				varying vec4 v_color;

				void main () {
					v_color = `+i.COLOR+`;
					gl_Position = `+i.MVP_MATRIX+" * "+i.POSITION+`;
				}
			`,a=`
				#ifdef GL_ES
					#define LOWP lowp
					precision mediump float;
				#else
					#define LOWP
				#endif
				varying LOWP vec4 v_color;

				void main () {
					gl_FragColor = v_color;
				}
			`;return new i(t,e,a)},i.MVP_MATRIX="u_projTrans",i.POSITION="a_position",i.COLOR="a_color",i.COLOR2="a_color2",i.TEXCOORDS="a_texCoords",i.SAMPLER="u_texture",i}();r.Shader=o})(B=l.webgl||(l.webgl={}))})(spine||(spine={}));var spine;(function(l){var B;(function(r){var o=function(){function t(e,a){if(a===void 0&&(a=10920),this.isDrawing=!1,this.shapeType=i.Filled,this.color=new l.Color(1,1,1,1),this.vertexIndex=0,this.tmp=new l.Vector2,a>10920)throw new Error("Can't have more than 10920 triangles per batch: "+a);this.context=e instanceof r.ManagedWebGLRenderingContext?e:new r.ManagedWebGLRenderingContext(e),this.mesh=new r.Mesh(e,[new r.Position2Attribute,new r.ColorAttribute],a,0),this.srcBlend=this.context.gl.SRC_ALPHA,this.dstBlend=this.context.gl.ONE_MINUS_SRC_ALPHA}return t.prototype.begin=function(e){if(this.isDrawing)throw new Error("ShapeRenderer.begin() has already been called");this.shader=e,this.vertexIndex=0,this.isDrawing=!0;var a=this.context.gl;a.enable(a.BLEND),a.blendFunc(this.srcBlend,this.dstBlend)},t.prototype.setBlendMode=function(e,a){var n=this.context.gl;this.srcBlend=e,this.dstBlend=a,this.isDrawing&&(this.flush(),n.blendFunc(this.srcBlend,this.dstBlend))},t.prototype.setColor=function(e){this.color.setFromColor(e)},t.prototype.setColorWith=function(e,a,n,h){this.color.set(e,a,n,h)},t.prototype.point=function(e,a,n){n===void 0&&(n=null),this.check(i.Point,1),n===null&&(n=this.color),this.vertex(e,a,n)},t.prototype.line=function(e,a,n,h,M){M===void 0&&(M=null),this.check(i.Line,2);var u=this.mesh.getVertices(),c=this.vertexIndex;M===null&&(M=this.color),this.vertex(e,a,M),this.vertex(n,h,M)},t.prototype.triangle=function(e,a,n,h,M,u,c,s,v,f){s===void 0&&(s=null),v===void 0&&(v=null),f===void 0&&(f=null),this.check(e?i.Filled:i.Line,3);var m=this.mesh.getVertices(),y=this.vertexIndex;s===null&&(s=this.color),v===null&&(v=this.color),f===null&&(f=this.color),e?(this.vertex(a,n,s),this.vertex(h,M,v),this.vertex(u,c,f)):(this.vertex(a,n,s),this.vertex(h,M,v),this.vertex(h,M,s),this.vertex(u,c,v),this.vertex(u,c,s),this.vertex(a,n,v))},t.prototype.quad=function(e,a,n,h,M,u,c,s,v,f,m,y,x){f===void 0&&(f=null),m===void 0&&(m=null),y===void 0&&(y=null),x===void 0&&(x=null),this.check(e?i.Filled:i.Line,3);var V=this.mesh.getVertices(),C=this.vertexIndex;f===null&&(f=this.color),m===null&&(m=this.color),y===null&&(y=this.color),x===null&&(x=this.color),e?(this.vertex(a,n,f),this.vertex(h,M,m),this.vertex(u,c,y),this.vertex(u,c,y),this.vertex(s,v,x),this.vertex(a,n,f)):(this.vertex(a,n,f),this.vertex(h,M,m),this.vertex(h,M,m),this.vertex(u,c,y),this.vertex(u,c,y),this.vertex(s,v,x),this.vertex(s,v,x),this.vertex(a,n,f))},t.prototype.rect=function(e,a,n,h,M,u){u===void 0&&(u=null),this.quad(e,a,n,a+h,n,a+h,n+M,a,n+M,u,u,u,u)},t.prototype.rectLine=function(e,a,n,h,M,u,c){c===void 0&&(c=null),this.check(e?i.Filled:i.Line,8),c===null&&(c=this.color);var s=this.tmp.set(M-n,a-h);s.normalize(),u*=.5;var v=s.x*u,f=s.y*u;e?(this.vertex(a+v,n+f,c),this.vertex(a-v,n-f,c),this.vertex(h+v,M+f,c),this.vertex(h-v,M-f,c),this.vertex(h+v,M+f,c),this.vertex(a-v,n-f,c)):(this.vertex(a+v,n+f,c),this.vertex(a-v,n-f,c),this.vertex(h+v,M+f,c),this.vertex(h-v,M-f,c),this.vertex(h+v,M+f,c),this.vertex(a+v,n+f,c),this.vertex(h-v,M-f,c),this.vertex(a-v,n-f,c))},t.prototype.x=function(e,a,n){this.line(e-n,a-n,e+n,a+n),this.line(e-n,a+n,e+n,a-n)},t.prototype.polygon=function(e,a,n,h){if(h===void 0&&(h=null),n<3)throw new Error("Polygon must contain at least 3 vertices");this.check(i.Line,n*2),h===null&&(h=this.color);var M=this.mesh.getVertices(),u=this.vertexIndex;a<<=1,n<<=1;for(var c=e[a],s=e[a+1],v=a+n,f=a,m=a+n-2;f<m;f+=2){var y=e[f],x=e[f+1],V=0,C=0;f+2>=v?(V=c,C=s):(V=e[f+2],C=e[f+3]),this.vertex(y,x,h),this.vertex(V,C,h)}},t.prototype.circle=function(e,a,n,h,M,u){if(M===void 0&&(M=null),u===void 0&&(u=0),u===0&&(u=Math.max(1,6*l.MathUtils.cbrt(h)|0)),u<=0)throw new Error("segments must be > 0.");M===null&&(M=this.color);var c=2*l.MathUtils.PI/u,s=Math.cos(c),v=Math.sin(c),f=h,m=0;if(e){this.check(i.Filled,u*3+3),u--;for(var y=0;y<u;y++){this.vertex(a,n,M),this.vertex(a+f,n+m,M);var V=f;f=s*f-v*m,m=v*V+s*m,this.vertex(a+f,n+m,M)}this.vertex(a,n,M),this.vertex(a+f,n+m,M)}else{this.check(i.Line,u*2+2);for(var y=0;y<u;y++){this.vertex(a+f,n+m,M);var x=f;f=s*f-v*m,m=v*x+s*m,this.vertex(a+f,n+m,M)}this.vertex(a+f,n+m,M)}var C=f;f=h,m=0,this.vertex(a+f,n+m,M)},t.prototype.curve=function(e,a,n,h,M,u,c,s,v,f){f===void 0&&(f=null),this.check(i.Line,v*2+2),f===null&&(f=this.color);for(var m=1/v,y=m*m,x=m*m*m,V=3*m,C=3*y,L=6*y,A=6*x,d=e-n*2+M,E=a-h*2+u,g=(n-M)*3-e+c,S=(h-u)*3-a+s,F=e,I=a,O=(n-e)*V+d*C+g*x,G=(h-a)*V+E*C+S*x,T=d*L+g*A,p=E*L+S*A,R=g*A,U=S*A;v-- >0;)this.vertex(F,I,f),F+=O,I+=G,O+=T,G+=p,T+=R,p+=U,this.vertex(F,I,f);this.vertex(F,I,f),this.vertex(c,s,f)},t.prototype.vertex=function(e,a,n){var h=this.vertexIndex,M=this.mesh.getVertices();M[h++]=e,M[h++]=a,M[h++]=n.r,M[h++]=n.g,M[h++]=n.b,M[h++]=n.a,this.vertexIndex=h},t.prototype.end=function(){if(!this.isDrawing)throw new Error("ShapeRenderer.begin() has not been called");this.flush(),this.context.gl.disable(this.context.gl.BLEND),this.isDrawing=!1},t.prototype.flush=function(){this.vertexIndex!=0&&(this.mesh.setVerticesLength(this.vertexIndex),this.mesh.draw(this.shader,this.shapeType),this.vertexIndex=0)},t.prototype.check=function(e,a){if(!this.isDrawing)throw new Error("ShapeRenderer.begin() has not been called");if(this.shapeType==e)if(this.mesh.maxVertices()-this.mesh.numVertices()<a)this.flush();else return;else this.flush(),this.shapeType=e},t.prototype.dispose=function(){this.mesh.dispose()},t}();r.ShapeRenderer=o;var i;(function(t){t[t.Point=0]="Point",t[t.Line=1]="Line",t[t.Filled=4]="Filled"})(i=r.ShapeType||(r.ShapeType={}))})(B=l.webgl||(l.webgl={}))})(spine||(spine={}));var spine;(function(l){var B;(function(r){var o=function(){function i(t){this.boneLineColor=new l.Color(1,0,0,1),this.boneOriginColor=new l.Color(0,1,0,1),this.attachmentLineColor=new l.Color(0,0,1,.5),this.triangleLineColor=new l.Color(1,.64,0,.5),this.pathColor=new l.Color().setFromString("FF7F00"),this.clipColor=new l.Color(.8,0,0,2),this.aabbColor=new l.Color(0,1,0,.5),this.drawBones=!0,this.drawRegionAttachments=!0,this.drawBoundingBoxes=!0,this.drawMeshHull=!0,this.drawMeshTriangles=!0,this.drawPaths=!0,this.drawSkeletonXY=!1,this.drawClipping=!0,this.premultipliedAlpha=!1,this.scale=1,this.boneWidth=2,this.bounds=new l.SkeletonBounds,this.temp=new Array,this.vertices=l.Utils.newFloatArray(2*1024),this.context=t instanceof r.ManagedWebGLRenderingContext?t:new r.ManagedWebGLRenderingContext(t)}return i.prototype.draw=function(t,e,a){a===void 0&&(a=null);var n=e.x,h=e.y,M=this.context.gl,u=this.premultipliedAlpha?M.ONE:M.SRC_ALPHA;t.setBlendMode(u,M.ONE_MINUS_SRC_ALPHA);var c=e.bones;if(this.drawBones){t.setColor(this.boneLineColor);for(var s=0,v=c.length;s<v;s++){var f=c[s];if(!(a&&a.indexOf(f.data.name)>-1)&&f.parent!=null){var m=n+f.data.length*f.a+f.worldX,y=h+f.data.length*f.c+f.worldY;t.rectLine(!0,n+f.worldX,h+f.worldY,m,y,this.boneWidth*this.scale)}}this.drawSkeletonXY&&t.x(n,h,4*this.scale)}if(this.drawRegionAttachments){t.setColor(this.attachmentLineColor);for(var x=e.slots,s=0,v=x.length;s<v;s++){var V=x[s],C=V.getAttachment();if(C instanceof l.RegionAttachment){var L=C,A=this.vertices;L.computeWorldVertices(V.bone,A,0,2),t.line(A[0],A[1],A[2],A[3]),t.line(A[2],A[3],A[4],A[5]),t.line(A[4],A[5],A[6],A[7]),t.line(A[6],A[7],A[0],A[1])}}}if(this.drawMeshHull||this.drawMeshTriangles)for(var x=e.slots,s=0,v=x.length;s<v;s++){var V=x[s];if(!!V.bone.active){var C=V.getAttachment();if(C instanceof l.MeshAttachment){var d=C,A=this.vertices;d.computeWorldVertices(V,0,d.worldVerticesLength,A,0,2);var E=d.triangles,g=d.hullLength;if(this.drawMeshTriangles){t.setColor(this.triangleLineColor);for(var S=0,F=E.length;S<F;S+=3){var I=E[S]*2,O=E[S+1]*2,G=E[S+2]*2;t.triangle(!1,A[I],A[I+1],A[O],A[O+1],A[G],A[G+1])}}if(this.drawMeshHull&&g>0){t.setColor(this.attachmentLineColor),g=(g>>1)*2;for(var T=A[g-2],p=A[g-1],S=0,F=g;S<F;S+=2){var m=A[S],y=A[S+1];t.line(m,y,T,p),T=m,p=y}}}}}if(this.drawBoundingBoxes){var R=this.bounds;R.update(e,!0),t.setColor(this.aabbColor),t.rect(!1,R.minX,R.minY,R.getWidth(),R.getHeight());for(var U=R.polygons,N=R.boundingBoxes,s=0,v=U.length;s<v;s++){var W=U[s];t.setColor(N[s].color),t.polygon(W,0,W.length)}}if(this.drawPaths)for(var x=e.slots,s=0,v=x.length;s<v;s++){var V=x[s];if(!!V.bone.active){var C=V.getAttachment();if(C instanceof l.PathAttachment){var Z=C,F=Z.worldVerticesLength,Y=this.temp=l.Utils.setArraySize(this.temp,F,0);Z.computeWorldVertices(V,0,F,Y,0,2);var X=this.pathColor,j=Y[2],k=Y[3],P=0,D=0;if(Z.closed){t.setColor(X);var z=Y[0],w=Y[1],H=Y[F-2],Q=Y[F-1];P=Y[F-4],D=Y[F-3],t.curve(j,k,z,w,H,Q,P,D,32),t.setColor(i.LIGHT_GRAY),t.line(j,k,z,w),t.line(P,D,H,Q)}F-=4;for(var S=4;S<F;S+=6){var z=Y[S],w=Y[S+1],H=Y[S+2],Q=Y[S+3];P=Y[S+4],D=Y[S+5],t.setColor(X),t.curve(j,k,z,w,H,Q,P,D,32),t.setColor(i.LIGHT_GRAY),t.line(j,k,z,w),t.line(P,D,H,Q),j=P,k=D}}}}if(this.drawBones){t.setColor(this.boneOriginColor);for(var s=0,v=c.length;s<v;s++){var f=c[s];a&&a.indexOf(f.data.name)>-1||t.circle(!0,n+f.worldX,h+f.worldY,3*this.scale,i.GREEN,8)}}if(this.drawClipping){var x=e.slots;t.setColor(this.clipColor);for(var s=0,v=x.length;s<v;s++){var V=x[s];if(!!V.bone.active){var C=V.getAttachment();if(C instanceof l.ClippingAttachment){var _=C,F=_.worldVerticesLength,Y=this.temp=l.Utils.setArraySize(this.temp,F,0);_.computeWorldVertices(V,0,F,Y,0,2);for(var J=0,$=Y.length;J<$;J+=2){var m=Y[J],y=Y[J+1],P=Y[(J+2)%Y.length],D=Y[(J+3)%Y.length];t.line(m,y,P,D)}}}}}},i.prototype.dispose=function(){},i.LIGHT_GRAY=new l.Color(192/255,192/255,192/255,1),i.GREEN=new l.Color(0,1,0,1),i}();r.SkeletonDebugRenderer=o})(B=l.webgl||(l.webgl={}))})(spine||(spine={}));var spine;(function(l){var B;(function(r){var o=function(){function t(e,a,n){this.vertices=e,this.numVertices=a,this.numFloats=n}return t}(),i=function(){function t(e,a){a===void 0&&(a=!0),this.premultipliedAlpha=!1,this.vertexEffect=null,this.tempColor=new l.Color,this.tempColor2=new l.Color,this.vertexSize=2+2+4,this.twoColorTint=!1,this.renderable=new o(null,0,0),this.clipper=new l.SkeletonClipping,this.temp=new l.Vector2,this.temp2=new l.Vector2,this.temp3=new l.Color,this.temp4=new l.Color,this.twoColorTint=a,a&&(this.vertexSize+=4),this.vertices=l.Utils.newFloatArray(this.vertexSize*1024)}return t.prototype.draw=function(e,a,n,h){n===void 0&&(n=-1),h===void 0&&(h=-1);var M=this.clipper,u=this.premultipliedAlpha,c=this.twoColorTint,s=null,v=this.temp,f=this.temp2,m=this.temp3,y=this.temp4,x=this.renderable,V=null,C=null,L=a.drawOrder,A=null,d=a.color,E=c?12:8,g=!1;n==-1&&(g=!0);for(var S=0,F=L.length;S<F;S++){var I=M.isClipping()?2:E,O=L[S];if(!O.bone.active){M.clipEndWithSlot(O);continue}if(n>=0&&n==O.data.index&&(g=!0),!g){M.clipEndWithSlot(O);continue}h>=0&&h==O.data.index&&(g=!1);var G=O.getAttachment(),T=null;if(G instanceof l.RegionAttachment){var p=G;x.vertices=this.vertices,x.numVertices=4,x.numFloats=I<<2,p.computeWorldVertices(O.bone,x.vertices,0,I),C=t.QUAD_TRIANGLES,V=p.uvs,T=p.region.renderObject.texture,A=p.color}else if(G instanceof l.MeshAttachment){var R=G;x.vertices=this.vertices,x.numVertices=R.worldVerticesLength>>1,x.numFloats=x.numVertices*I,x.numFloats>x.vertices.length&&(x.vertices=this.vertices=l.Utils.newFloatArray(x.numFloats)),R.computeWorldVertices(O,0,R.worldVerticesLength,x.vertices,0,I),C=R.triangles,T=R.region.renderObject.texture,V=R.uvs,A=R.color}else if(G instanceof l.ClippingAttachment){var U=G;M.clipStart(O,U);continue}else{M.clipEndWithSlot(O);continue}if(T!=null){var N=O.color,W=this.tempColor;W.r=d.r*N.r*A.r,W.g=d.g*N.g*A.g,W.b=d.b*N.b*A.b,W.a=d.a*N.a*A.a,u&&(W.r*=W.a,W.g*=W.a,W.b*=W.a);var Z=this.tempColor2;O.darkColor==null?Z.set(0,0,0,1):(u?(Z.r=O.darkColor.r*W.a,Z.g=O.darkColor.g*W.a,Z.b=O.darkColor.b*W.a):Z.setFromColor(O.darkColor),Z.a=u?1:0);var Y=O.data.blendMode;if(Y!=s&&(s=Y,e.setBlendMode(r.WebGLBlendModeConverter.getSourceGLBlendMode(s,u),r.WebGLBlendModeConverter.getDestGLBlendMode(s))),M.isClipping()){M.clipTriangles(x.vertices,x.numFloats,C,C.length,V,W,Z,c);var X=new Float32Array(M.clippedVertices),j=M.clippedTriangles;if(this.vertexEffect!=null){var k=this.vertexEffect,P=X;if(c)for(var D=0,w=X.length;D<w;D+=E)v.x=P[D],v.y=P[D+1],m.set(P[D+2],P[D+3],P[D+4],P[D+5]),f.x=P[D+6],f.y=P[D+7],y.set(P[D+8],P[D+9],P[D+10],P[D+11]),k.transform(v,f,m,y),P[D]=v.x,P[D+1]=v.y,P[D+2]=m.r,P[D+3]=m.g,P[D+4]=m.b,P[D+5]=m.a,P[D+6]=f.x,P[D+7]=f.y,P[D+8]=y.r,P[D+9]=y.g,P[D+10]=y.b,P[D+11]=y.a;else for(var D=0,z=X.length;D<z;D+=E)v.x=P[D],v.y=P[D+1],m.set(P[D+2],P[D+3],P[D+4],P[D+5]),f.x=P[D+6],f.y=P[D+7],y.set(0,0,0,0),k.transform(v,f,m,y),P[D]=v.x,P[D+1]=v.y,P[D+2]=m.r,P[D+3]=m.g,P[D+4]=m.b,P[D+5]=m.a,P[D+6]=f.x,P[D+7]=f.y}e.draw(T,X,j)}else{var P=x.vertices;if(this.vertexEffect!=null){var k=this.vertexEffect;if(c)for(var D=0,H=0,_=x.numFloats;D<_;D+=E,H+=2)v.x=P[D],v.y=P[D+1],f.x=V[H],f.y=V[H+1],m.setFromColor(W),y.setFromColor(Z),k.transform(v,f,m,y),P[D]=v.x,P[D+1]=v.y,P[D+2]=m.r,P[D+3]=m.g,P[D+4]=m.b,P[D+5]=m.a,P[D+6]=f.x,P[D+7]=f.y,P[D+8]=y.r,P[D+9]=y.g,P[D+10]=y.b,P[D+11]=y.a;else for(var D=0,H=0,Q=x.numFloats;D<Q;D+=E,H+=2)v.x=P[D],v.y=P[D+1],f.x=V[H],f.y=V[H+1],m.setFromColor(W),y.set(0,0,0,0),k.transform(v,f,m,y),P[D]=v.x,P[D+1]=v.y,P[D+2]=m.r,P[D+3]=m.g,P[D+4]=m.b,P[D+5]=m.a,P[D+6]=f.x,P[D+7]=f.y}else if(c)for(var D=2,H=0,$=x.numFloats;D<$;D+=E,H+=2)P[D]=W.r,P[D+1]=W.g,P[D+2]=W.b,P[D+3]=W.a,P[D+4]=V[H],P[D+5]=V[H+1],P[D+6]=Z.r,P[D+7]=Z.g,P[D+8]=Z.b,P[D+9]=Z.a;else for(var D=2,H=0,J=x.numFloats;D<J;D+=E,H+=2)P[D]=W.r,P[D+1]=W.g,P[D+2]=W.b,P[D+3]=W.a,P[D+4]=V[H],P[D+5]=V[H+1];var K=x.vertices.subarray(0,x.numFloats);e.draw(T,K,C)}}M.clipEndWithSlot(O)}M.clipEnd()},t.QUAD_TRIANGLES=[0,1,2,2,3,0],t}();r.SkeletonRenderer=i})(B=l.webgl||(l.webgl={}))})(spine||(spine={}));var spine;(function(l){var B;(function(r){var o=function(){function i(t,e,a){t===void 0&&(t=0),e===void 0&&(e=0),a===void 0&&(a=0),this.x=0,this.y=0,this.z=0,this.x=t,this.y=e,this.z=a}return i.prototype.setFrom=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},i.prototype.set=function(t,e,a){return this.x=t,this.y=e,this.z=a,this},i.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this},i.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this},i.prototype.scale=function(t){return this.x*=t,this.y*=t,this.z*=t,this},i.prototype.normalize=function(){var t=this.length();return t==0?this:(t=1/t,this.x*=t,this.y*=t,this.z*=t,this)},i.prototype.cross=function(t){return this.set(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)},i.prototype.multiply=function(t){var e=t.values;return this.set(this.x*e[r.M00]+this.y*e[r.M01]+this.z*e[r.M02]+e[r.M03],this.x*e[r.M10]+this.y*e[r.M11]+this.z*e[r.M12]+e[r.M13],this.x*e[r.M20]+this.y*e[r.M21]+this.z*e[r.M22]+e[r.M23])},i.prototype.project=function(t){var e=t.values,a=1/(this.x*e[r.M30]+this.y*e[r.M31]+this.z*e[r.M32]+e[r.M33]);return this.set((this.x*e[r.M00]+this.y*e[r.M01]+this.z*e[r.M02]+e[r.M03])*a,(this.x*e[r.M10]+this.y*e[r.M11]+this.z*e[r.M12]+e[r.M13])*a,(this.x*e[r.M20]+this.y*e[r.M21]+this.z*e[r.M22]+e[r.M23])*a)},i.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},i.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},i.prototype.distance=function(t){var e=t.x-this.x,a=t.y-this.y,n=t.z-this.z;return Math.sqrt(e*e+a*a+n*n)},i}();r.Vector3=o})(B=l.webgl||(l.webgl={}))})(spine||(spine={}));var spine;(function(l){var B;(function(r){var o=function(){function t(e,a){a===void 0&&(a={alpha:"true"}),this.restorables=new Array,e instanceof WebGLRenderingContext||e instanceof WebGL2RenderingContext?(this.gl=e,this.canvas=this.gl.canvas):this.setupCanvas(e,a)}return t.prototype.setupCanvas=function(e,a){var n=this;this.gl=e.getContext("webgl2",a)||e.getContext("webgl",a),this.canvas=e,e.addEventListener("webglcontextlost",function(h){var M=h;h&&h.preventDefault()}),e.addEventListener("webglcontextrestored",function(h){for(var M=0,u=n.restorables.length;M<u;M++)n.restorables[M].restore()})},t.prototype.addRestorable=function(e){this.restorables.push(e)},t.prototype.removeRestorable=function(e){var a=this.restorables.indexOf(e);a>-1&&this.restorables.splice(a,1)},t}();r.ManagedWebGLRenderingContext=o;var i=function(){function t(){}return t.getDestGLBlendMode=function(e){switch(e){case l.BlendMode.Normal:return t.ONE_MINUS_SRC_ALPHA;case l.BlendMode.Additive:return t.ONE;case l.BlendMode.Multiply:return t.ONE_MINUS_SRC_ALPHA;case l.BlendMode.Screen:return t.ONE_MINUS_SRC_ALPHA;default:throw new Error("Unknown blend mode: "+e)}},t.getSourceGLBlendMode=function(e,a){switch(a===void 0&&(a=!1),e){case l.BlendMode.Normal:return a?t.ONE:t.SRC_ALPHA;case l.BlendMode.Additive:return a?t.ONE:t.SRC_ALPHA;case l.BlendMode.Multiply:return t.DST_COLOR;case l.BlendMode.Screen:return t.ONE;default:throw new Error("Unknown blend mode: "+e)}},t.ZERO=0,t.ONE=1,t.SRC_COLOR=768,t.ONE_MINUS_SRC_COLOR=769,t.SRC_ALPHA=770,t.ONE_MINUS_SRC_ALPHA=771,t.DST_ALPHA=772,t.ONE_MINUS_DST_ALPHA=773,t.DST_COLOR=774,t}();r.WebGLBlendModeConverter=i})(B=l.webgl||(l.webgl={}))})(spine||(spine={}));
