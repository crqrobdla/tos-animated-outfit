var __extends=this&&this.__extends||function(){var o=function(L,m){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])},o(L,m)};return function(L,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");o(L,m);function e(){this.constructor=L}L.prototype=m===null?Object.create(m):(e.prototype=m.prototype,new e)}}(),spine;(function(o){var L=function(){function w(s,E,C){if(s==null)throw new Error("name cannot be null.");if(E==null)throw new Error("timelines cannot be null.");this.name=s,this.timelines=E,this.timelineIds=[];for(var S=0;S<E.length;S++)this.timelineIds[E[S].getPropertyId()]=!0;this.duration=C}return w.prototype.hasTimeline=function(s){return this.timelineIds[s]==!0},w.prototype.apply=function(s,E,C,S,k,A,V,N){if(s==null)throw new Error("skeleton cannot be null.");S&&this.duration!=0&&(C%=this.duration,E>0&&(E%=this.duration));for(var T=this.timelines,c=0,p=T.length;c<p;c++)T[c].apply(s,E,C,k,A,V,N)},w.binarySearch=function(s,E,C){C===void 0&&(C=1);var S=0,k=s.length/C-2;if(k==0)return C;for(var A=k>>>1;;){if(s[(A+1)*C]<=E?S=A+1:k=A,S==k)return(S+1)*C;A=S+k>>>1}},w.linearSearch=function(s,E,C){for(var S=0,k=s.length-C;S<=k;S+=C)if(s[S]>E)return S;return-1},w}();o.Animation=L;var m;(function(w){w[w.setup=0]="setup",w[w.first=1]="first",w[w.replace=2]="replace",w[w.add=3]="add"})(m=o.MixBlend||(o.MixBlend={}));var e;(function(w){w[w.mixIn=0]="mixIn",w[w.mixOut=1]="mixOut"})(e=o.MixDirection||(o.MixDirection={}));var r;(function(w){w[w.rotate=0]="rotate",w[w.translate=1]="translate",w[w.scale=2]="scale",w[w.shear=3]="shear",w[w.attachment=4]="attachment",w[w.color=5]="color",w[w.deform=6]="deform",w[w.event=7]="event",w[w.drawOrder=8]="drawOrder",w[w.ikConstraint=9]="ikConstraint",w[w.transformConstraint=10]="transformConstraint",w[w.pathConstraintPosition=11]="pathConstraintPosition",w[w.pathConstraintSpacing=12]="pathConstraintSpacing",w[w.pathConstraintMix=13]="pathConstraintMix",w[w.twoColor=14]="twoColor"})(r=o.TimelineType||(o.TimelineType={}));var a=function(){function w(s){if(s<=0)throw new Error("frameCount must be > 0: "+s);this.curves=o.Utils.newFloatArray((s-1)*w.BEZIER_SIZE)}return w.prototype.getFrameCount=function(){return this.curves.length/w.BEZIER_SIZE+1},w.prototype.setLinear=function(s){this.curves[s*w.BEZIER_SIZE]=w.LINEAR},w.prototype.setStepped=function(s){this.curves[s*w.BEZIER_SIZE]=w.STEPPED},w.prototype.getCurveType=function(s){var E=s*w.BEZIER_SIZE;if(E==this.curves.length)return w.LINEAR;var C=this.curves[E];return C==w.LINEAR?w.LINEAR:C==w.STEPPED?w.STEPPED:w.BEZIER},w.prototype.setCurve=function(s,E,C,S,k){var A=(-E*2+S)*.03,V=(-C*2+k)*.03,N=((E-S)*3+1)*.006,T=((C-k)*3+1)*.006,c=A*2+N,p=V*2+T,U=E*.3+A+N*.16666667,b=C*.3+V+T*.16666667,Y=s*w.BEZIER_SIZE,D=this.curves;D[Y++]=w.BEZIER;for(var O=U,B=b,X=Y+w.BEZIER_SIZE-1;Y<X;Y+=2)D[Y]=O,D[Y+1]=B,U+=c,b+=p,c+=N,p+=T,O+=U,B+=b},w.prototype.getCurvePercent=function(s,E){E=o.MathUtils.clamp(E,0,1);var C=this.curves,S=s*w.BEZIER_SIZE,k=C[S];if(k==w.LINEAR)return E;if(k==w.STEPPED)return 0;S++;for(var A=0,V=S,N=S+w.BEZIER_SIZE-1;S<N;S+=2)if(A=C[S],A>=E){var T=void 0,c=void 0;return S==V?(T=0,c=0):(T=C[S-2],c=C[S-1]),c+(C[S+1]-c)*(E-T)/(A-T)}var p=C[S-1];return p+(1-p)*(E-A)/(1-A)},w.LINEAR=0,w.STEPPED=1,w.BEZIER=2,w.BEZIER_SIZE=10*2-1,w}();o.CurveTimeline=a;var t=function(w){__extends(s,w);function s(E){var C=w.call(this,E)||this;return C.frames=o.Utils.newFloatArray(E<<1),C}return s.prototype.getPropertyId=function(){return(r.rotate<<24)+this.boneIndex},s.prototype.setFrame=function(E,C,S){E<<=1,this.frames[E]=C,this.frames[E+s.ROTATION]=S},s.prototype.apply=function(E,C,S,k,A,V,N){var T=this.frames,c=E.bones[this.boneIndex];if(!!c.active){if(S<T[0]){switch(V){case m.setup:c.rotation=c.data.rotation;return;case m.first:var p=c.data.rotation-c.rotation;c.rotation+=(p-(16384-(16384.499999999996-p/360|0))*360)*A}return}if(S>=T[T.length-s.ENTRIES]){var U=T[T.length+s.PREV_ROTATION];switch(V){case m.setup:c.rotation=c.data.rotation+U*A;break;case m.first:case m.replace:U+=c.data.rotation-c.rotation,U-=(16384-(16384.499999999996-U/360|0))*360;case m.add:c.rotation+=U*A}return}var b=L.binarySearch(T,S,s.ENTRIES),Y=T[b+s.PREV_ROTATION],D=T[b],O=this.getCurvePercent((b>>1)-1,1-(S-D)/(T[b+s.PREV_TIME]-D)),B=T[b+s.ROTATION]-Y;switch(B=Y+(B-(16384-(16384.499999999996-B/360|0))*360)*O,V){case m.setup:c.rotation=c.data.rotation+(B-(16384-(16384.499999999996-B/360|0))*360)*A;break;case m.first:case m.replace:B+=c.data.rotation-c.rotation;case m.add:c.rotation+=(B-(16384-(16384.499999999996-B/360|0))*360)*A}}},s.ENTRIES=2,s.PREV_TIME=-2,s.PREV_ROTATION=-1,s.ROTATION=1,s}(a);o.RotateTimeline=t;var n=function(w){__extends(s,w);function s(E){var C=w.call(this,E)||this;return C.frames=o.Utils.newFloatArray(E*s.ENTRIES),C}return s.prototype.getPropertyId=function(){return(r.translate<<24)+this.boneIndex},s.prototype.setFrame=function(E,C,S,k){E*=s.ENTRIES,this.frames[E]=C,this.frames[E+s.X]=S,this.frames[E+s.Y]=k},s.prototype.apply=function(E,C,S,k,A,V,N){var T=this.frames,c=E.bones[this.boneIndex];if(!!c.active){if(S<T[0]){switch(V){case m.setup:c.x=c.data.x,c.y=c.data.y;return;case m.first:c.x+=(c.data.x-c.x)*A,c.y+=(c.data.y-c.y)*A}return}var p=0,U=0;if(S>=T[T.length-s.ENTRIES])p=T[T.length+s.PREV_X],U=T[T.length+s.PREV_Y];else{var b=L.binarySearch(T,S,s.ENTRIES);p=T[b+s.PREV_X],U=T[b+s.PREV_Y];var Y=T[b],D=this.getCurvePercent(b/s.ENTRIES-1,1-(S-Y)/(T[b+s.PREV_TIME]-Y));p+=(T[b+s.X]-p)*D,U+=(T[b+s.Y]-U)*D}switch(V){case m.setup:c.x=c.data.x+p*A,c.y=c.data.y+U*A;break;case m.first:case m.replace:c.x+=(c.data.x+p-c.x)*A,c.y+=(c.data.y+U-c.y)*A;break;case m.add:c.x+=p*A,c.y+=U*A}}},s.ENTRIES=3,s.PREV_TIME=-3,s.PREV_X=-2,s.PREV_Y=-1,s.X=1,s.Y=2,s}(a);o.TranslateTimeline=n;var l=function(w){__extends(s,w);function s(E){return w.call(this,E)||this}return s.prototype.getPropertyId=function(){return(r.scale<<24)+this.boneIndex},s.prototype.apply=function(E,C,S,k,A,V,N){var T=this.frames,c=E.bones[this.boneIndex];if(!!c.active){if(S<T[0]){switch(V){case m.setup:c.scaleX=c.data.scaleX,c.scaleY=c.data.scaleY;return;case m.first:c.scaleX+=(c.data.scaleX-c.scaleX)*A,c.scaleY+=(c.data.scaleY-c.scaleY)*A}return}var p=0,U=0;if(S>=T[T.length-s.ENTRIES])p=T[T.length+s.PREV_X]*c.data.scaleX,U=T[T.length+s.PREV_Y]*c.data.scaleY;else{var b=L.binarySearch(T,S,s.ENTRIES);p=T[b+s.PREV_X],U=T[b+s.PREV_Y];var Y=T[b],D=this.getCurvePercent(b/s.ENTRIES-1,1-(S-Y)/(T[b+s.PREV_TIME]-Y));p=(p+(T[b+s.X]-p)*D)*c.data.scaleX,U=(U+(T[b+s.Y]-U)*D)*c.data.scaleY}if(A==1)V==m.add?(c.scaleX+=p-c.data.scaleX,c.scaleY+=U-c.data.scaleY):(c.scaleX=p,c.scaleY=U);else{var O=0,B=0;if(N==e.mixOut)switch(V){case m.setup:O=c.data.scaleX,B=c.data.scaleY,c.scaleX=O+(Math.abs(p)*o.MathUtils.signum(O)-O)*A,c.scaleY=B+(Math.abs(U)*o.MathUtils.signum(B)-B)*A;break;case m.first:case m.replace:O=c.scaleX,B=c.scaleY,c.scaleX=O+(Math.abs(p)*o.MathUtils.signum(O)-O)*A,c.scaleY=B+(Math.abs(U)*o.MathUtils.signum(B)-B)*A;break;case m.add:O=c.scaleX,B=c.scaleY,c.scaleX=O+(Math.abs(p)*o.MathUtils.signum(O)-c.data.scaleX)*A,c.scaleY=B+(Math.abs(U)*o.MathUtils.signum(B)-c.data.scaleY)*A}else switch(V){case m.setup:O=Math.abs(c.data.scaleX)*o.MathUtils.signum(p),B=Math.abs(c.data.scaleY)*o.MathUtils.signum(U),c.scaleX=O+(p-O)*A,c.scaleY=B+(U-B)*A;break;case m.first:case m.replace:O=Math.abs(c.scaleX)*o.MathUtils.signum(p),B=Math.abs(c.scaleY)*o.MathUtils.signum(U),c.scaleX=O+(p-O)*A,c.scaleY=B+(U-B)*A;break;case m.add:O=o.MathUtils.signum(p),B=o.MathUtils.signum(U),c.scaleX=Math.abs(c.scaleX)*O+(p-Math.abs(c.data.scaleX)*O)*A,c.scaleY=Math.abs(c.scaleY)*B+(U-Math.abs(c.data.scaleY)*B)*A}}}},s}(n);o.ScaleTimeline=l;var i=function(w){__extends(s,w);function s(E){return w.call(this,E)||this}return s.prototype.getPropertyId=function(){return(r.shear<<24)+this.boneIndex},s.prototype.apply=function(E,C,S,k,A,V,N){var T=this.frames,c=E.bones[this.boneIndex];if(!!c.active){if(S<T[0]){switch(V){case m.setup:c.shearX=c.data.shearX,c.shearY=c.data.shearY;return;case m.first:c.shearX+=(c.data.shearX-c.shearX)*A,c.shearY+=(c.data.shearY-c.shearY)*A}return}var p=0,U=0;if(S>=T[T.length-s.ENTRIES])p=T[T.length+s.PREV_X],U=T[T.length+s.PREV_Y];else{var b=L.binarySearch(T,S,s.ENTRIES);p=T[b+s.PREV_X],U=T[b+s.PREV_Y];var Y=T[b],D=this.getCurvePercent(b/s.ENTRIES-1,1-(S-Y)/(T[b+s.PREV_TIME]-Y));p=p+(T[b+s.X]-p)*D,U=U+(T[b+s.Y]-U)*D}switch(V){case m.setup:c.shearX=c.data.shearX+p*A,c.shearY=c.data.shearY+U*A;break;case m.first:case m.replace:c.shearX+=(c.data.shearX+p-c.shearX)*A,c.shearY+=(c.data.shearY+U-c.shearY)*A;break;case m.add:c.shearX+=p*A,c.shearY+=U*A}}},s}(n);o.ShearTimeline=i;var v=function(w){__extends(s,w);function s(E){var C=w.call(this,E)||this;return C.frames=o.Utils.newFloatArray(E*s.ENTRIES),C}return s.prototype.getPropertyId=function(){return(r.color<<24)+this.slotIndex},s.prototype.setFrame=function(E,C,S,k,A,V){E*=s.ENTRIES,this.frames[E]=C,this.frames[E+s.R]=S,this.frames[E+s.G]=k,this.frames[E+s.B]=A,this.frames[E+s.A]=V},s.prototype.apply=function(E,C,S,k,A,V,N){var T=E.slots[this.slotIndex];if(!!T.bone.active){var c=this.frames;if(S<c[0]){switch(V){case m.setup:T.color.setFromColor(T.data.color);return;case m.first:var p=T.color,U=T.data.color;p.add((U.r-p.r)*A,(U.g-p.g)*A,(U.b-p.b)*A,(U.a-p.a)*A)}return}var b=0,Y=0,D=0,O=0;if(S>=c[c.length-s.ENTRIES]){var B=c.length;b=c[B+s.PREV_R],Y=c[B+s.PREV_G],D=c[B+s.PREV_B],O=c[B+s.PREV_A]}else{var X=L.binarySearch(c,S,s.ENTRIES);b=c[X+s.PREV_R],Y=c[X+s.PREV_G],D=c[X+s.PREV_B],O=c[X+s.PREV_A];var W=c[X],F=this.getCurvePercent(X/s.ENTRIES-1,1-(S-W)/(c[X+s.PREV_TIME]-W));b+=(c[X+s.R]-b)*F,Y+=(c[X+s.G]-Y)*F,D+=(c[X+s.B]-D)*F,O+=(c[X+s.A]-O)*F}if(A==1)T.color.set(b,Y,D,O);else{var p=T.color;V==m.setup&&p.setFromColor(T.data.color),p.add((b-p.r)*A,(Y-p.g)*A,(D-p.b)*A,(O-p.a)*A)}}},s.ENTRIES=5,s.PREV_TIME=-5,s.PREV_R=-4,s.PREV_G=-3,s.PREV_B=-2,s.PREV_A=-1,s.R=1,s.G=2,s.B=3,s.A=4,s}(a);o.ColorTimeline=v;var u=function(w){__extends(s,w);function s(E){var C=w.call(this,E)||this;return C.frames=o.Utils.newFloatArray(E*s.ENTRIES),C}return s.prototype.getPropertyId=function(){return(r.twoColor<<24)+this.slotIndex},s.prototype.setFrame=function(E,C,S,k,A,V,N,T,c){E*=s.ENTRIES,this.frames[E]=C,this.frames[E+s.R]=S,this.frames[E+s.G]=k,this.frames[E+s.B]=A,this.frames[E+s.A]=V,this.frames[E+s.R2]=N,this.frames[E+s.G2]=T,this.frames[E+s.B2]=c},s.prototype.apply=function(E,C,S,k,A,V,N){var T=E.slots[this.slotIndex];if(!!T.bone.active){var c=this.frames;if(S<c[0]){switch(V){case m.setup:T.color.setFromColor(T.data.color),T.darkColor.setFromColor(T.data.darkColor);return;case m.first:var p=T.color,U=T.darkColor,b=T.data.color,Y=T.data.darkColor;p.add((b.r-p.r)*A,(b.g-p.g)*A,(b.b-p.b)*A,(b.a-p.a)*A),U.add((Y.r-U.r)*A,(Y.g-U.g)*A,(Y.b-U.b)*A,0)}return}var D=0,O=0,B=0,X=0,W=0,F=0,_=0;if(S>=c[c.length-s.ENTRIES]){var q=c.length;D=c[q+s.PREV_R],O=c[q+s.PREV_G],B=c[q+s.PREV_B],X=c[q+s.PREV_A],W=c[q+s.PREV_R2],F=c[q+s.PREV_G2],_=c[q+s.PREV_B2]}else{var H=L.binarySearch(c,S,s.ENTRIES);D=c[H+s.PREV_R],O=c[H+s.PREV_G],B=c[H+s.PREV_B],X=c[H+s.PREV_A],W=c[H+s.PREV_R2],F=c[H+s.PREV_G2],_=c[H+s.PREV_B2];var Z=c[H],j=this.getCurvePercent(H/s.ENTRIES-1,1-(S-Z)/(c[H+s.PREV_TIME]-Z));D+=(c[H+s.R]-D)*j,O+=(c[H+s.G]-O)*j,B+=(c[H+s.B]-B)*j,X+=(c[H+s.A]-X)*j,W+=(c[H+s.R2]-W)*j,F+=(c[H+s.G2]-F)*j,_+=(c[H+s.B2]-_)*j}if(A==1)T.color.set(D,O,B,X),T.darkColor.set(W,F,_,1);else{var p=T.color,U=T.darkColor;V==m.setup&&(p.setFromColor(T.data.color),U.setFromColor(T.data.darkColor)),p.add((D-p.r)*A,(O-p.g)*A,(B-p.b)*A,(X-p.a)*A),U.add((W-U.r)*A,(F-U.g)*A,(_-U.b)*A,0)}}},s.ENTRIES=8,s.PREV_TIME=-8,s.PREV_R=-7,s.PREV_G=-6,s.PREV_B=-5,s.PREV_A=-4,s.PREV_R2=-3,s.PREV_G2=-2,s.PREV_B2=-1,s.R=1,s.G=2,s.B=3,s.A=4,s.R2=5,s.G2=6,s.B2=7,s}(a);o.TwoColorTimeline=u;var g=function(){function w(s){this.frames=o.Utils.newFloatArray(s),this.attachmentNames=new Array(s)}return w.prototype.getPropertyId=function(){return(r.attachment<<24)+this.slotIndex},w.prototype.getFrameCount=function(){return this.frames.length},w.prototype.setFrame=function(s,E,C){this.frames[s]=E,this.attachmentNames[s]=C},w.prototype.apply=function(s,E,C,S,k,A,V){var N=s.slots[this.slotIndex];if(!!N.bone.active){if(V==e.mixOut){A==m.setup&&this.setAttachment(s,N,N.data.attachmentName);return}var T=this.frames;if(C<T[0]){(A==m.setup||A==m.first)&&this.setAttachment(s,N,N.data.attachmentName);return}var c=0;C>=T[T.length-1]?c=T.length-1:c=L.binarySearch(T,C,1)-1;var p=this.attachmentNames[c];s.slots[this.slotIndex].setAttachment(p==null?null:s.getAttachment(this.slotIndex,p))}},w.prototype.setAttachment=function(s,E,C){E.attachment=C==null?null:s.getAttachment(this.slotIndex,C)},w}();o.AttachmentTimeline=g;var h=null,d=function(w){__extends(s,w);function s(E){var C=w.call(this,E)||this;return C.frames=o.Utils.newFloatArray(E),C.frameVertices=new Array(E),h==null&&(h=o.Utils.newFloatArray(64)),C}return s.prototype.getPropertyId=function(){return(r.deform<<27)+ +this.attachment.id+this.slotIndex},s.prototype.setFrame=function(E,C,S){this.frames[E]=C,this.frameVertices[E]=S},s.prototype.apply=function(E,C,S,k,A,V,N){var T=E.slots[this.slotIndex];if(!!T.bone.active){var c=T.getAttachment();if(!(!(c instanceof o.VertexAttachment)||c.deformAttachment!=this.attachment)){var p=T.deform;p.length==0&&(V=m.setup);var U=this.frameVertices,b=U[0].length,Y=this.frames;if(S<Y[0]){var D=c;switch(V){case m.setup:p.length=0;return;case m.first:if(A==1){p.length=0;break}var O=o.Utils.setArraySize(p,b);if(D.bones==null)for(var B=D.vertices,X=0;X<b;X++)O[X]+=(B[X]-O[X])*A;else{A=1-A;for(var X=0;X<b;X++)O[X]*=A}}return}var W=o.Utils.setArraySize(p,b);if(S>=Y[Y.length-1]){var F=U[Y.length-1];if(A==1)if(V==m.add){var D=c;if(D.bones==null)for(var B=D.vertices,_=0;_<b;_++)W[_]+=F[_]-B[_];else for(var q=0;q<b;q++)W[q]+=F[q]}else o.Utils.arrayCopy(F,0,W,0,b);else switch(V){case m.setup:{var H=c;if(H.bones==null)for(var B=H.vertices,Z=0;Z<b;Z++){var j=B[Z];W[Z]=j+(F[Z]-j)*A}else for(var K=0;K<b;K++)W[K]=F[K]*A;break}case m.first:case m.replace:for(var G=0;G<b;G++)W[G]+=(F[G]-W[G])*A;break;case m.add:var D=c;if(D.bones==null)for(var B=D.vertices,z=0;z<b;z++)W[z]+=(F[z]-B[z])*A;else for(var J=0;J<b;J++)W[J]+=F[J]*A}return}var at=L.binarySearch(Y,S),et=U[at-1],$=U[at],nt=Y[at],tt=this.getCurvePercent(at-1,1-(S-nt)/(Y[at-1]-nt));if(A==1)if(V==m.add){var D=c;if(D.bones==null)for(var B=D.vertices,rt=0;rt<b;rt++){var Q=et[rt];W[rt]+=Q+($[rt]-Q)*tt-B[rt]}else for(var lt=0;lt<b;lt++){var Q=et[lt];W[lt]+=Q+($[lt]-Q)*tt}}else for(var ot=0;ot<b;ot++){var Q=et[ot];W[ot]=Q+($[ot]-Q)*tt}else switch(V){case m.setup:{var ut=c;if(ut.bones==null)for(var B=ut.vertices,st=0;st<b;st++){var Q=et[st],j=B[st];W[st]=j+(Q+($[st]-Q)*tt-j)*A}else for(var ht=0;ht<b;ht++){var Q=et[ht];W[ht]=(Q+($[ht]-Q)*tt)*A}break}case m.first:case m.replace:for(var it=0;it<b;it++){var Q=et[it];W[it]+=(Q+($[it]-Q)*tt-W[it])*A}break;case m.add:var D=c;if(D.bones==null)for(var B=D.vertices,ft=0;ft<b;ft++){var Q=et[ft];W[ft]+=(Q+($[ft]-Q)*tt-B[ft])*A}else for(var ct=0;ct<b;ct++){var Q=et[ct];W[ct]+=(Q+($[ct]-Q)*tt)*A}}}}},s}(a);o.DeformTimeline=d;var f=function(){function w(s){this.frames=o.Utils.newFloatArray(s),this.events=new Array(s)}return w.prototype.getPropertyId=function(){return r.event<<24},w.prototype.getFrameCount=function(){return this.frames.length},w.prototype.setFrame=function(s,E){this.frames[s]=E.time,this.events[s]=E},w.prototype.apply=function(s,E,C,S,k,A,V){if(S!=null){var N=this.frames,T=this.frames.length;if(E>C)this.apply(s,E,Number.MAX_VALUE,S,k,A,V),E=-1;else if(E>=N[T-1])return;if(!(C<N[0])){var c=0;if(E<N[0])c=0;else{c=L.binarySearch(N,E);for(var p=N[c];c>0&&N[c-1]==p;)c--}for(;c<T&&C>=N[c];c++)S.push(this.events[c])}}},w}();o.EventTimeline=f;var y=function(){function w(s){this.frames=o.Utils.newFloatArray(s),this.drawOrders=new Array(s)}return w.prototype.getPropertyId=function(){return r.drawOrder<<24},w.prototype.getFrameCount=function(){return this.frames.length},w.prototype.setFrame=function(s,E,C){this.frames[s]=E,this.drawOrders[s]=C},w.prototype.apply=function(s,E,C,S,k,A,V){var N=s.drawOrder,T=s.slots;if(V==e.mixOut){A==m.setup&&o.Utils.arrayCopy(s.slots,0,s.drawOrder,0,s.slots.length);return}var c=this.frames;if(C<c[0]){(A==m.setup||A==m.first)&&o.Utils.arrayCopy(s.slots,0,s.drawOrder,0,s.slots.length);return}var p=0;C>=c[c.length-1]?p=c.length-1:p=L.binarySearch(c,C)-1;var U=this.drawOrders[p];if(U==null)o.Utils.arrayCopy(T,0,N,0,T.length);else for(var b=0,Y=U.length;b<Y;b++)N[b]=T[U[b]]},w}();o.DrawOrderTimeline=y;var M=function(w){__extends(s,w);function s(E){var C=w.call(this,E)||this;return C.frames=o.Utils.newFloatArray(E*s.ENTRIES),C}return s.prototype.getPropertyId=function(){return(r.ikConstraint<<24)+this.ikConstraintIndex},s.prototype.setFrame=function(E,C,S,k,A,V,N){E*=s.ENTRIES,this.frames[E]=C,this.frames[E+s.MIX]=S,this.frames[E+s.SOFTNESS]=k,this.frames[E+s.BEND_DIRECTION]=A,this.frames[E+s.COMPRESS]=V?1:0,this.frames[E+s.STRETCH]=N?1:0},s.prototype.apply=function(E,C,S,k,A,V,N){var T=this.frames,c=E.ikConstraints[this.ikConstraintIndex];if(!!c.active){if(S<T[0]){switch(V){case m.setup:c.mix=c.data.mix,c.softness=c.data.softness,c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch;return;case m.first:c.mix+=(c.data.mix-c.mix)*A,c.softness+=(c.data.softness-c.softness)*A,c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch}return}if(S>=T[T.length-s.ENTRIES]){V==m.setup?(c.mix=c.data.mix+(T[T.length+s.PREV_MIX]-c.data.mix)*A,c.softness=c.data.softness+(T[T.length+s.PREV_SOFTNESS]-c.data.softness)*A,N==e.mixOut?(c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch):(c.bendDirection=T[T.length+s.PREV_BEND_DIRECTION],c.compress=T[T.length+s.PREV_COMPRESS]!=0,c.stretch=T[T.length+s.PREV_STRETCH]!=0)):(c.mix+=(T[T.length+s.PREV_MIX]-c.mix)*A,c.softness+=(T[T.length+s.PREV_SOFTNESS]-c.softness)*A,N==e.mixIn&&(c.bendDirection=T[T.length+s.PREV_BEND_DIRECTION],c.compress=T[T.length+s.PREV_COMPRESS]!=0,c.stretch=T[T.length+s.PREV_STRETCH]!=0));return}var p=L.binarySearch(T,S,s.ENTRIES),U=T[p+s.PREV_MIX],b=T[p+s.PREV_SOFTNESS],Y=T[p],D=this.getCurvePercent(p/s.ENTRIES-1,1-(S-Y)/(T[p+s.PREV_TIME]-Y));V==m.setup?(c.mix=c.data.mix+(U+(T[p+s.MIX]-U)*D-c.data.mix)*A,c.softness=c.data.softness+(b+(T[p+s.SOFTNESS]-b)*D-c.data.softness)*A,N==e.mixOut?(c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch):(c.bendDirection=T[p+s.PREV_BEND_DIRECTION],c.compress=T[p+s.PREV_COMPRESS]!=0,c.stretch=T[p+s.PREV_STRETCH]!=0)):(c.mix+=(U+(T[p+s.MIX]-U)*D-c.mix)*A,c.softness+=(b+(T[p+s.SOFTNESS]-b)*D-c.softness)*A,N==e.mixIn&&(c.bendDirection=T[p+s.PREV_BEND_DIRECTION],c.compress=T[p+s.PREV_COMPRESS]!=0,c.stretch=T[p+s.PREV_STRETCH]!=0))}},s.ENTRIES=6,s.PREV_TIME=-6,s.PREV_MIX=-5,s.PREV_SOFTNESS=-4,s.PREV_BEND_DIRECTION=-3,s.PREV_COMPRESS=-2,s.PREV_STRETCH=-1,s.MIX=1,s.SOFTNESS=2,s.BEND_DIRECTION=3,s.COMPRESS=4,s.STRETCH=5,s}(a);o.IkConstraintTimeline=M;var x=function(w){__extends(s,w);function s(E){var C=w.call(this,E)||this;return C.frames=o.Utils.newFloatArray(E*s.ENTRIES),C}return s.prototype.getPropertyId=function(){return(r.transformConstraint<<24)+this.transformConstraintIndex},s.prototype.setFrame=function(E,C,S,k,A,V){E*=s.ENTRIES,this.frames[E]=C,this.frames[E+s.ROTATE]=S,this.frames[E+s.TRANSLATE]=k,this.frames[E+s.SCALE]=A,this.frames[E+s.SHEAR]=V},s.prototype.apply=function(E,C,S,k,A,V,N){var T=this.frames,c=E.transformConstraints[this.transformConstraintIndex];if(!!c.active){if(S<T[0]){var p=c.data;switch(V){case m.setup:c.rotateMix=p.rotateMix,c.translateMix=p.translateMix,c.scaleMix=p.scaleMix,c.shearMix=p.shearMix;return;case m.first:c.rotateMix+=(p.rotateMix-c.rotateMix)*A,c.translateMix+=(p.translateMix-c.translateMix)*A,c.scaleMix+=(p.scaleMix-c.scaleMix)*A,c.shearMix+=(p.shearMix-c.shearMix)*A}return}var U=0,b=0,Y=0,D=0;if(S>=T[T.length-s.ENTRIES]){var O=T.length;U=T[O+s.PREV_ROTATE],b=T[O+s.PREV_TRANSLATE],Y=T[O+s.PREV_SCALE],D=T[O+s.PREV_SHEAR]}else{var B=L.binarySearch(T,S,s.ENTRIES);U=T[B+s.PREV_ROTATE],b=T[B+s.PREV_TRANSLATE],Y=T[B+s.PREV_SCALE],D=T[B+s.PREV_SHEAR];var X=T[B],W=this.getCurvePercent(B/s.ENTRIES-1,1-(S-X)/(T[B+s.PREV_TIME]-X));U+=(T[B+s.ROTATE]-U)*W,b+=(T[B+s.TRANSLATE]-b)*W,Y+=(T[B+s.SCALE]-Y)*W,D+=(T[B+s.SHEAR]-D)*W}if(V==m.setup){var p=c.data;c.rotateMix=p.rotateMix+(U-p.rotateMix)*A,c.translateMix=p.translateMix+(b-p.translateMix)*A,c.scaleMix=p.scaleMix+(Y-p.scaleMix)*A,c.shearMix=p.shearMix+(D-p.shearMix)*A}else c.rotateMix+=(U-c.rotateMix)*A,c.translateMix+=(b-c.translateMix)*A,c.scaleMix+=(Y-c.scaleMix)*A,c.shearMix+=(D-c.shearMix)*A}},s.ENTRIES=5,s.PREV_TIME=-5,s.PREV_ROTATE=-4,s.PREV_TRANSLATE=-3,s.PREV_SCALE=-2,s.PREV_SHEAR=-1,s.ROTATE=1,s.TRANSLATE=2,s.SCALE=3,s.SHEAR=4,s}(a);o.TransformConstraintTimeline=x;var P=function(w){__extends(s,w);function s(E){var C=w.call(this,E)||this;return C.frames=o.Utils.newFloatArray(E*s.ENTRIES),C}return s.prototype.getPropertyId=function(){return(r.pathConstraintPosition<<24)+this.pathConstraintIndex},s.prototype.setFrame=function(E,C,S){E*=s.ENTRIES,this.frames[E]=C,this.frames[E+s.VALUE]=S},s.prototype.apply=function(E,C,S,k,A,V,N){var T=this.frames,c=E.pathConstraints[this.pathConstraintIndex];if(!!c.active){if(S<T[0]){switch(V){case m.setup:c.position=c.data.position;return;case m.first:c.position+=(c.data.position-c.position)*A}return}var p=0;if(S>=T[T.length-s.ENTRIES])p=T[T.length+s.PREV_VALUE];else{var U=L.binarySearch(T,S,s.ENTRIES);p=T[U+s.PREV_VALUE];var b=T[U],Y=this.getCurvePercent(U/s.ENTRIES-1,1-(S-b)/(T[U+s.PREV_TIME]-b));p+=(T[U+s.VALUE]-p)*Y}V==m.setup?c.position=c.data.position+(p-c.data.position)*A:c.position+=(p-c.position)*A}},s.ENTRIES=2,s.PREV_TIME=-2,s.PREV_VALUE=-1,s.VALUE=1,s}(a);o.PathConstraintPositionTimeline=P;var R=function(w){__extends(s,w);function s(E){return w.call(this,E)||this}return s.prototype.getPropertyId=function(){return(r.pathConstraintSpacing<<24)+this.pathConstraintIndex},s.prototype.apply=function(E,C,S,k,A,V,N){var T=this.frames,c=E.pathConstraints[this.pathConstraintIndex];if(!!c.active){if(S<T[0]){switch(V){case m.setup:c.spacing=c.data.spacing;return;case m.first:c.spacing+=(c.data.spacing-c.spacing)*A}return}var p=0;if(S>=T[T.length-s.ENTRIES])p=T[T.length+s.PREV_VALUE];else{var U=L.binarySearch(T,S,s.ENTRIES);p=T[U+s.PREV_VALUE];var b=T[U],Y=this.getCurvePercent(U/s.ENTRIES-1,1-(S-b)/(T[U+s.PREV_TIME]-b));p+=(T[U+s.VALUE]-p)*Y}V==m.setup?c.spacing=c.data.spacing+(p-c.data.spacing)*A:c.spacing+=(p-c.spacing)*A}},s}(P);o.PathConstraintSpacingTimeline=R;var I=function(w){__extends(s,w);function s(E){var C=w.call(this,E)||this;return C.frames=o.Utils.newFloatArray(E*s.ENTRIES),C}return s.prototype.getPropertyId=function(){return(r.pathConstraintMix<<24)+this.pathConstraintIndex},s.prototype.setFrame=function(E,C,S,k){E*=s.ENTRIES,this.frames[E]=C,this.frames[E+s.ROTATE]=S,this.frames[E+s.TRANSLATE]=k},s.prototype.apply=function(E,C,S,k,A,V,N){var T=this.frames,c=E.pathConstraints[this.pathConstraintIndex];if(!!c.active){if(S<T[0]){switch(V){case m.setup:c.rotateMix=c.data.rotateMix,c.translateMix=c.data.translateMix;return;case m.first:c.rotateMix+=(c.data.rotateMix-c.rotateMix)*A,c.translateMix+=(c.data.translateMix-c.translateMix)*A}return}var p=0,U=0;if(S>=T[T.length-s.ENTRIES])p=T[T.length+s.PREV_ROTATE],U=T[T.length+s.PREV_TRANSLATE];else{var b=L.binarySearch(T,S,s.ENTRIES);p=T[b+s.PREV_ROTATE],U=T[b+s.PREV_TRANSLATE];var Y=T[b],D=this.getCurvePercent(b/s.ENTRIES-1,1-(S-Y)/(T[b+s.PREV_TIME]-Y));p+=(T[b+s.ROTATE]-p)*D,U+=(T[b+s.TRANSLATE]-U)*D}V==m.setup?(c.rotateMix=c.data.rotateMix+(p-c.data.rotateMix)*A,c.translateMix=c.data.translateMix+(U-c.data.translateMix)*A):(c.rotateMix+=(p-c.rotateMix)*A,c.translateMix+=(U-c.translateMix)*A)}},s.ENTRIES=3,s.PREV_TIME=-3,s.PREV_ROTATE=-2,s.PREV_TRANSLATE=-1,s.ROTATE=1,s.TRANSLATE=2,s}(a);o.PathConstraintMixTimeline=I})(spine||(spine={}));var spine;(function(o){var L=function(){function t(n){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new e(this),this.propertyIDs=new o.IntSet,this.animationsChanged=!1,this.trackEntryPool=new o.Pool(function(){return new m}),this.data=n}return t.prototype.update=function(n){n*=this.timeScale;for(var l=this.tracks,i=0,v=l.length;i<v;i++){var u=l[i];if(u!=null){u.animationLast=u.nextAnimationLast,u.trackLast=u.nextTrackLast;var g=n*u.timeScale;if(u.delay>0){if(u.delay-=g,u.delay>0)continue;g=-u.delay,u.delay=0}var h=u.next;if(h!=null){var d=u.trackLast-h.delay;if(d>=0){for(h.delay=0,h.trackTime+=u.timeScale==0?0:(d/u.timeScale+n)*h.timeScale,u.trackTime+=g,this.setCurrent(i,h,!0);h.mixingFrom!=null;)h.mixTime+=n,h=h.mixingFrom;continue}}else if(u.trackLast>=u.trackEnd&&u.mixingFrom==null){l[i]=null,this.queue.end(u),this.disposeNext(u);continue}if(u.mixingFrom!=null&&this.updateMixingFrom(u,n)){var f=u.mixingFrom;for(u.mixingFrom=null,f!=null&&(f.mixingTo=null);f!=null;)this.queue.end(f),f=f.mixingFrom}u.trackTime+=g}}this.queue.drain()},t.prototype.updateMixingFrom=function(n,l){var i=n.mixingFrom;if(i==null)return!0;var v=this.updateMixingFrom(i,l);return i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast,n.mixTime>0&&n.mixTime>=n.mixDuration?((i.totalAlpha==0||n.mixDuration==0)&&(n.mixingFrom=i.mixingFrom,i.mixingFrom!=null&&(i.mixingFrom.mixingTo=n),n.interruptAlpha=i.interruptAlpha,this.queue.end(i)),v):(i.trackTime+=l*i.timeScale,n.mixTime+=l,!1)},t.prototype.apply=function(n){if(n==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var l=this.events,i=this.tracks,v=!1,u=0,g=i.length;u<g;u++){var h=i[u];if(!(h==null||h.delay>0)){v=!0;var d=u==0?o.MixBlend.first:h.mixBlend,f=h.alpha;h.mixingFrom!=null?f*=this.applyMixingFrom(h,n,d):h.trackTime>=h.trackEnd&&h.next==null&&(f=0);var y=h.animationLast,M=h.getAnimationTime(),x=h.animation.timelines.length,P=h.animation.timelines;if(u==0&&f==1||d==o.MixBlend.add)for(var R=0;R<x;R++){o.Utils.webkit602BugfixHelper(f,d);var I=P[R];I instanceof o.AttachmentTimeline?this.applyAttachmentTimeline(I,n,M,d,!0):I.apply(n,y,M,l,f,d,o.MixDirection.mixIn)}else{var w=h.timelineMode,s=h.timelinesRotation.length==0;s&&o.Utils.setArraySize(h.timelinesRotation,x<<1,null);for(var E=h.timelinesRotation,R=0;R<x;R++){var C=P[R],S=w[R]==t.SUBSEQUENT?d:o.MixBlend.setup;C instanceof o.RotateTimeline?this.applyRotateTimeline(C,n,M,f,S,E,R<<1,s):C instanceof o.AttachmentTimeline?this.applyAttachmentTimeline(C,n,M,d,!0):(o.Utils.webkit602BugfixHelper(f,d),C.apply(n,y,M,l,f,S,o.MixDirection.mixIn))}}this.queueEvents(h,M),l.length=0,h.nextAnimationLast=M,h.nextTrackLast=h.trackTime}}for(var k=this.unkeyedState+t.SETUP,A=n.slots,V=0,N=n.slots.length;V<N;V++){var T=A[V];if(T.attachmentState==k){var c=T.data.attachmentName;T.attachment=c==null?null:n.getAttachment(T.data.index,c)}}return this.unkeyedState+=2,this.queue.drain(),v},t.prototype.applyMixingFrom=function(n,l,i){var v=n.mixingFrom;v.mixingFrom!=null&&this.applyMixingFrom(v,l,i);var u=0;n.mixDuration==0?(u=1,i==o.MixBlend.first&&(i=o.MixBlend.setup)):(u=n.mixTime/n.mixDuration,u>1&&(u=1),i!=o.MixBlend.first&&(i=v.mixBlend));var g=u<v.eventThreshold?this.events:null,h=u<v.attachmentThreshold,d=u<v.drawOrderThreshold,f=v.animationLast,y=v.getAnimationTime(),M=v.animation.timelines.length,x=v.animation.timelines,P=v.alpha*n.interruptAlpha,R=P*(1-u);if(i==o.MixBlend.add)for(var I=0;I<M;I++)x[I].apply(l,f,y,g,R,i,o.MixDirection.mixOut);else{var w=v.timelineMode,s=v.timelineHoldMix,E=v.timelinesRotation.length==0;E&&o.Utils.setArraySize(v.timelinesRotation,M<<1,null);var C=v.timelinesRotation;v.totalAlpha=0;for(var I=0;I<M;I++){var S=x[I],k=o.MixDirection.mixOut,A=void 0,V=0;switch(w[I]){case t.SUBSEQUENT:if(!d&&S instanceof o.DrawOrderTimeline)continue;A=i,V=R;break;case t.FIRST:A=o.MixBlend.setup,V=R;break;case t.HOLD_SUBSEQUENT:A=i,V=P;break;case t.HOLD_FIRST:A=o.MixBlend.setup,V=P;break;default:A=o.MixBlend.setup;var N=s[I];V=P*Math.max(0,1-N.mixTime/N.mixDuration);break}v.totalAlpha+=V,S instanceof o.RotateTimeline?this.applyRotateTimeline(S,l,y,V,A,C,I<<1,E):S instanceof o.AttachmentTimeline?this.applyAttachmentTimeline(S,l,y,A,h):(o.Utils.webkit602BugfixHelper(V,i),d&&S instanceof o.DrawOrderTimeline&&A==o.MixBlend.setup&&(k=o.MixDirection.mixIn),S.apply(l,f,y,g,V,A,k))}}return n.mixDuration>0&&this.queueEvents(v,y),this.events.length=0,v.nextAnimationLast=y,v.nextTrackLast=v.trackTime,u},t.prototype.applyAttachmentTimeline=function(n,l,i,v,u){var g=l.slots[n.slotIndex];if(!!g.bone.active){var h=n.frames;if(i<h[0])(v==o.MixBlend.setup||v==o.MixBlend.first)&&this.setAttachment(l,g,g.data.attachmentName,u);else{var d;i>=h[h.length-1]?d=h.length-1:d=o.Animation.binarySearch(h,i)-1,this.setAttachment(l,g,n.attachmentNames[d],u)}g.attachmentState<=this.unkeyedState&&(g.attachmentState=this.unkeyedState+t.SETUP)}},t.prototype.setAttachment=function(n,l,i,v){l.setAttachment(i==null?null:n.getAttachment(l.data.index,i)),v&&(l.attachmentState=this.unkeyedState+t.CURRENT)},t.prototype.applyRotateTimeline=function(n,l,i,v,u,g,h,d){if(d&&(g[h]=0),v==1){n.apply(l,0,i,null,1,u,o.MixDirection.mixIn);return}var f=n,y=f.frames,M=l.bones[f.boneIndex];if(!!M.active){var x=0,P=0;if(i<y[0])switch(u){case o.MixBlend.setup:M.rotation=M.data.rotation;default:return;case o.MixBlend.first:x=M.rotation,P=M.data.rotation}else if(x=u==o.MixBlend.setup?M.data.rotation:M.rotation,i>=y[y.length-o.RotateTimeline.ENTRIES])P=M.data.rotation+y[y.length+o.RotateTimeline.PREV_ROTATION];else{var R=o.Animation.binarySearch(y,i,o.RotateTimeline.ENTRIES),I=y[R+o.RotateTimeline.PREV_ROTATION],w=y[R],s=f.getCurvePercent((R>>1)-1,1-(i-w)/(y[R+o.RotateTimeline.PREV_TIME]-w));P=y[R+o.RotateTimeline.ROTATION]-I,P-=(16384-(16384.499999999996-P/360|0))*360,P=I+P*s+M.data.rotation,P-=(16384-(16384.499999999996-P/360|0))*360}var E=0,C=P-x;if(C-=(16384-(16384.499999999996-C/360|0))*360,C==0)E=g[h];else{var S=0,k=0;d?(S=0,k=C):(S=g[h],k=g[h+1]);var A=C>0,V=S>=0;o.MathUtils.signum(k)!=o.MathUtils.signum(C)&&Math.abs(k)<=90&&(Math.abs(S)>180&&(S+=360*o.MathUtils.signum(S)),V=A),E=C+S-S%360,V!=A&&(E+=360*o.MathUtils.signum(S)),g[h]=E}g[h+1]=C,x+=E*v,M.rotation=x-(16384-(16384.499999999996-x/360|0))*360}},t.prototype.queueEvents=function(n,l){for(var i=n.animationStart,v=n.animationEnd,u=v-i,g=n.trackLast%u,h=this.events,d=0,f=h.length;d<f;d++){var y=h[d];if(y.time<g)break;y.time>v||this.queue.event(n,y)}var M=!1;for(n.loop?M=u==0||g>n.trackTime%u:M=l>=v&&n.animationLast<v,M&&this.queue.complete(n);d<f;d++){var x=h[d];x.time<i||this.queue.event(n,h[d])}},t.prototype.clearTracks=function(){var n=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var l=0,i=this.tracks.length;l<i;l++)this.clearTrack(l);this.tracks.length=0,this.queue.drainDisabled=n,this.queue.drain()},t.prototype.clearTrack=function(n){if(!(n>=this.tracks.length)){var l=this.tracks[n];if(l!=null){this.queue.end(l),this.disposeNext(l);for(var i=l;;){var v=i.mixingFrom;if(v==null)break;this.queue.end(v),i.mixingFrom=null,i.mixingTo=null,i=v}this.tracks[l.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(n,l,i){var v=this.expandToIndex(n);this.tracks[n]=l,v!=null&&(i&&this.queue.interrupt(v),l.mixingFrom=v,v.mixingTo=l,l.mixTime=0,v.mixingFrom!=null&&v.mixDuration>0&&(l.interruptAlpha*=Math.min(1,v.mixTime/v.mixDuration)),v.timelinesRotation.length=0),this.queue.start(l)},t.prototype.setAnimation=function(n,l,i){var v=this.data.skeletonData.findAnimation(l);if(v==null)throw new Error("Animation not found: "+l);return this.setAnimationWith(n,v,i)},t.prototype.setAnimationWith=function(n,l,i){if(l==null)throw new Error("animation cannot be null.");var v=!0,u=this.expandToIndex(n);u!=null&&(u.nextTrackLast==-1?(this.tracks[n]=u.mixingFrom,this.queue.interrupt(u),this.queue.end(u),this.disposeNext(u),u=u.mixingFrom,v=!1):this.disposeNext(u));var g=this.trackEntry(n,l,i,u);return this.setCurrent(n,g,v),this.queue.drain(),g},t.prototype.addAnimation=function(n,l,i,v){var u=this.data.skeletonData.findAnimation(l);if(u==null)throw new Error("Animation not found: "+l);return this.addAnimationWith(n,u,i,v)},t.prototype.addAnimationWith=function(n,l,i,v){if(l==null)throw new Error("animation cannot be null.");var u=this.expandToIndex(n);if(u!=null)for(;u.next!=null;)u=u.next;var g=this.trackEntry(n,l,i,u);if(u==null)this.setCurrent(n,g,!0),this.queue.drain();else if(u.next=g,v<=0){var h=u.animationEnd-u.animationStart;h!=0?(u.loop?v+=h*(1+(u.trackTime/h|0)):v+=Math.max(h,u.trackTime),v-=this.data.getMix(u.animation,l)):v=u.trackTime}return g.delay=v,g},t.prototype.setEmptyAnimation=function(n,l){var i=this.setAnimationWith(n,t.emptyAnimation,!1);return i.mixDuration=l,i.trackEnd=l,i},t.prototype.addEmptyAnimation=function(n,l,i){i<=0&&(i-=l);var v=this.addAnimationWith(n,t.emptyAnimation,!1,i);return v.mixDuration=l,v.trackEnd=l,v},t.prototype.setEmptyAnimations=function(n){var l=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var i=0,v=this.tracks.length;i<v;i++){var u=this.tracks[i];u!=null&&this.setEmptyAnimation(u.trackIndex,n)}this.queue.drainDisabled=l,this.queue.drain()},t.prototype.expandToIndex=function(n){return n<this.tracks.length?this.tracks[n]:(o.Utils.ensureArrayCapacity(this.tracks,n+1,null),this.tracks.length=n+1,null)},t.prototype.trackEntry=function(n,l,i,v){var u=this.trackEntryPool.obtain();return u.trackIndex=n,u.animation=l,u.loop=i,u.holdPrevious=!1,u.eventThreshold=0,u.attachmentThreshold=0,u.drawOrderThreshold=0,u.animationStart=0,u.animationEnd=l.duration,u.animationLast=-1,u.nextAnimationLast=-1,u.delay=0,u.trackTime=0,u.trackLast=-1,u.nextTrackLast=-1,u.trackEnd=Number.MAX_VALUE,u.timeScale=1,u.alpha=1,u.interruptAlpha=1,u.mixTime=0,u.mixDuration=v==null?0:this.data.getMix(v.animation,l),u.mixBlend=o.MixBlend.replace,u},t.prototype.disposeNext=function(n){for(var l=n.next;l!=null;)this.queue.dispose(l),l=l.next;n.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var n=0,l=this.tracks.length;n<l;n++){var i=this.tracks[n];if(i!=null){for(;i.mixingFrom!=null;)i=i.mixingFrom;do(i.mixingFrom==null||i.mixBlend!=o.MixBlend.add)&&this.computeHold(i),i=i.mixingTo;while(i!=null)}}},t.prototype.computeHold=function(n){var l=n.mixingTo,i=n.animation.timelines,v=n.animation.timelines.length,u=o.Utils.setArraySize(n.timelineMode,v);n.timelineHoldMix.length=0;var g=o.Utils.setArraySize(n.timelineHoldMix,v),h=this.propertyIDs;if(l!=null&&l.holdPrevious){for(var d=0;d<v;d++)u[d]=h.add(i[d].getPropertyId())?t.HOLD_FIRST:t.HOLD_SUBSEQUENT;return}t:for(var d=0;d<v;d++){var f=i[d],y=f.getPropertyId();if(!h.add(y))u[d]=t.SUBSEQUENT;else if(l==null||f instanceof o.AttachmentTimeline||f instanceof o.DrawOrderTimeline||f instanceof o.EventTimeline||!l.animation.hasTimeline(y))u[d]=t.FIRST;else{for(var M=l.mixingTo;M!=null;M=M.mixingTo)if(!M.animation.hasTimeline(y)){if(n.mixDuration>0){u[d]=t.HOLD_MIX,g[d]=M;continue t}break}u[d]=t.HOLD_FIRST}}},t.prototype.getCurrent=function(n){return n>=this.tracks.length?null:this.tracks[n]},t.prototype.addListener=function(n){if(n==null)throw new Error("listener cannot be null.");this.listeners.push(n)},t.prototype.removeListener=function(n){var l=this.listeners.indexOf(n);l>=0&&this.listeners.splice(l,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.emptyAnimation=new o.Animation("<empty>",[],0),t.SUBSEQUENT=0,t.FIRST=1,t.HOLD_SUBSEQUENT=2,t.HOLD_FIRST=3,t.HOLD_MIX=4,t.SETUP=1,t.CURRENT=2,t}();o.AnimationState=L;var m=function(){function t(){this.mixBlend=o.MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var n=this.animationEnd-this.animationStart;return n==0?this.animationStart:this.trackTime%n+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(n){this.animationLast=n,this.nextAnimationLast=n},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},t}();o.TrackEntry=m;var e=function(){function t(n){this.objects=[],this.drainDisabled=!1,this.animState=n}return t.prototype.start=function(n){this.objects.push(r.start),this.objects.push(n),this.animState.animationsChanged=!0},t.prototype.interrupt=function(n){this.objects.push(r.interrupt),this.objects.push(n)},t.prototype.end=function(n){this.objects.push(r.end),this.objects.push(n),this.animState.animationsChanged=!0},t.prototype.dispose=function(n){this.objects.push(r.dispose),this.objects.push(n)},t.prototype.complete=function(n){this.objects.push(r.complete),this.objects.push(n)},t.prototype.event=function(n,l){this.objects.push(r.event),this.objects.push(n),this.objects.push(l)},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var n=this.objects,l=this.animState.listeners,i=0;i<n.length;i+=2){var v=n[i],u=n[i+1];switch(v){case r.start:u.listener!=null&&u.listener.start&&u.listener.start(u);for(var g=0;g<l.length;g++)l[g].start&&l[g].start(u);break;case r.interrupt:u.listener!=null&&u.listener.interrupt&&u.listener.interrupt(u);for(var g=0;g<l.length;g++)l[g].interrupt&&l[g].interrupt(u);break;case r.end:u.listener!=null&&u.listener.end&&u.listener.end(u);for(var g=0;g<l.length;g++)l[g].end&&l[g].end(u);case r.dispose:u.listener!=null&&u.listener.dispose&&u.listener.dispose(u);for(var g=0;g<l.length;g++)l[g].dispose&&l[g].dispose(u);this.animState.trackEntryPool.free(u);break;case r.complete:u.listener!=null&&u.listener.complete&&u.listener.complete(u);for(var g=0;g<l.length;g++)l[g].complete&&l[g].complete(u);break;case r.event:var h=n[i+++2];u.listener!=null&&u.listener.event&&u.listener.event(u,h);for(var g=0;g<l.length;g++)l[g].event&&l[g].event(u,h);break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t}();o.EventQueue=e;var r;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(r=o.EventType||(o.EventType={}));var a=function(){function t(){}return t.prototype.start=function(n){},t.prototype.interrupt=function(n){},t.prototype.end=function(n){},t.prototype.dispose=function(n){},t.prototype.complete=function(n){},t.prototype.event=function(n,l){},t}();o.AnimationStateAdapter=a})(spine||(spine={}));var spine;(function(o){var L=function(){function m(e){if(this.animationToMixTime={},this.defaultMix=0,e==null)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return m.prototype.setMix=function(e,r,a){var t=this.skeletonData.findAnimation(e);if(t==null)throw new Error("Animation not found: "+e);var n=this.skeletonData.findAnimation(r);if(n==null)throw new Error("Animation not found: "+r);this.setMixWith(t,n,a)},m.prototype.setMixWith=function(e,r,a){if(e==null)throw new Error("from cannot be null.");if(r==null)throw new Error("to cannot be null.");var t=e.name+"."+r.name;this.animationToMixTime[t]=a},m.prototype.getMix=function(e,r){var a=e.name+"."+r.name,t=this.animationToMixTime[a];return t===void 0?this.defaultMix:t},m}();o.AnimationStateData=L})(spine||(spine={}));var spine;(function(o){var L=function(){function m(e,r){r===void 0&&(r=""),this.assets={},this.errors={},this.toLoad=0,this.loaded=0,this.rawDataUris={},this.textureLoader=e,this.pathPrefix=r}return m.prototype.downloadText=function(e,r,a){var t=new XMLHttpRequest;t.overrideMimeType("text/html"),this.rawDataUris[e]&&(e=this.rawDataUris[e]),t.open("GET",e,!0),t.onload=function(){t.status==200?r(t.responseText):a(t.status,t.responseText)},t.onerror=function(){a(t.status,t.responseText)},t.send()},m.prototype.downloadBinary=function(e,r,a){var t=new XMLHttpRequest;this.rawDataUris[e]&&(e=this.rawDataUris[e]),t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function(){t.status==200?r(new Uint8Array(t.response)):a(t.status,t.responseText)},t.onerror=function(){a(t.status,t.responseText)},t.send()},m.prototype.setRawDataURI=function(e,r){this.rawDataUris[this.pathPrefix+e]=r},m.prototype.loadBinary=function(e,r,a){var t=this;r===void 0&&(r=null),a===void 0&&(a=null),e=this.pathPrefix+e,this.toLoad++,this.downloadBinary(e,function(n){t.assets[e]=n,r&&r(e,n),t.toLoad--,t.loaded++},function(n,l){t.errors[e]="Couldn't load binary "+e+": status "+status+", "+l,a&&a(e,"Couldn't load binary "+e+": status "+status+", "+l),t.toLoad--,t.loaded++})},m.prototype.loadText=function(e,r,a){var t=this;r===void 0&&(r=null),a===void 0&&(a=null),e=this.pathPrefix+e,this.toLoad++,this.downloadText(e,function(n){t.assets[e]=n,r&&r(e,n),t.toLoad--,t.loaded++},function(n,l){t.errors[e]="Couldn't load text "+e+": status "+status+", "+l,a&&a(e,"Couldn't load text "+e+": status "+status+", "+l),t.toLoad--,t.loaded++})},m.prototype.loadTexture=function(e,r,a){var t=this;r===void 0&&(r=null),a===void 0&&(a=null),e=this.pathPrefix+e;var n=e;this.toLoad++;var l=new Image;l.crossOrigin="anonymous",l.onload=function(i){var v=t.textureLoader(l);t.assets[n]=v,t.toLoad--,t.loaded++,r&&r(e,l)},l.onerror=function(i){t.errors[e]="Couldn't load image "+e,t.toLoad--,t.loaded++,a&&a(e,"Couldn't load image "+e)},this.rawDataUris[e]&&(e=this.rawDataUris[e]),l.src=e},m.prototype.loadTextureAtlas=function(e,r,a){var t=this;r===void 0&&(r=null),a===void 0&&(a=null);var n=e.lastIndexOf("/")>=0?e.substring(0,e.lastIndexOf("/")):"";e=this.pathPrefix+e,this.toLoad++,this.downloadText(e,function(l){var i={count:0},v=new Array;try{var u=new o.TextureAtlas(l,function(M){v.push(n==""?M:n+"/"+M);var x=document.createElement("img");return x.width=16,x.height=16,new o.FakeTexture(x)})}catch(M){var g=M;t.errors[e]="Couldn't load texture atlas "+e+": "+g.message,a&&a(e,"Couldn't load texture atlas "+e+": "+g.message),t.toLoad--,t.loaded++;return}for(var h=function(M){var x=!1;t.loadTexture(M,function(P,R){if(i.count++,i.count==v.length)if(x)t.errors[e]="Couldn't load texture atlas page "+P+"} of atlas "+e,a&&a(e,"Couldn't load texture atlas page "+P+" of atlas "+e),t.toLoad--,t.loaded++;else try{var I=new o.TextureAtlas(l,function(s){return t.get(n==""?s:n+"/"+s)});t.assets[e]=I,r&&r(e,I),t.toLoad--,t.loaded++}catch(s){var w=s;t.errors[e]="Couldn't load texture atlas "+e+": "+w.message,a&&a(e,"Couldn't load texture atlas "+e+": "+w.message),t.toLoad--,t.loaded++}},function(P,R){x=!0,i.count++,i.count==v.length&&(t.errors[e]="Couldn't load texture atlas page "+P+"} of atlas "+e,a&&a(e,"Couldn't load texture atlas page "+P+" of atlas "+e),t.toLoad--,t.loaded++)})},d=0,f=v;d<f.length;d++){var y=f[d];h(y)}},function(l,i){t.errors[e]="Couldn't load texture atlas "+e+": status "+status+", "+i,a&&a(e,"Couldn't load texture atlas "+e+": status "+status+", "+i),t.toLoad--,t.loaded++})},m.prototype.get=function(e){return e=this.pathPrefix+e,this.assets[e]},m.prototype.remove=function(e){e=this.pathPrefix+e;var r=this.assets[e];r.dispose&&r.dispose(),this.assets[e]=null},m.prototype.removeAll=function(){for(var e in this.assets){var r=this.assets[e];r.dispose&&r.dispose()}this.assets={}},m.prototype.isLoadingComplete=function(){return this.toLoad==0},m.prototype.getToLoad=function(){return this.toLoad},m.prototype.getLoaded=function(){return this.loaded},m.prototype.dispose=function(){this.removeAll()},m.prototype.hasErrors=function(){return Object.keys(this.errors).length>0},m.prototype.getErrors=function(){return this.errors},m}();o.AssetManager=L})(spine||(spine={}));var spine;(function(o){var L=function(){function m(e){this.atlas=e}return m.prototype.newRegionAttachment=function(e,r,a){var t=this.atlas.findRegion(a);if(t==null)throw new Error("Region not found in atlas: "+a+" (region attachment: "+r+")");t.renderObject=t;var n=new o.RegionAttachment(r);return n.setRegion(t),n},m.prototype.newMeshAttachment=function(e,r,a){var t=this.atlas.findRegion(a);if(t==null)throw new Error("Region not found in atlas: "+a+" (mesh attachment: "+r+")");t.renderObject=t;var n=new o.MeshAttachment(r);return n.region=t,n},m.prototype.newBoundingBoxAttachment=function(e,r){return new o.BoundingBoxAttachment(r)},m.prototype.newPathAttachment=function(e,r){return new o.PathAttachment(r)},m.prototype.newPointAttachment=function(e,r){return new o.PointAttachment(r)},m.prototype.newClippingAttachment=function(e,r){return new o.ClippingAttachment(r)},m}();o.AtlasAttachmentLoader=L})(spine||(spine={}));var spine;(function(o){var L;(function(m){m[m.Normal=0]="Normal",m[m.Additive=1]="Additive",m[m.Multiply=2]="Multiply",m[m.Screen=3]="Screen"})(L=o.BlendMode||(o.BlendMode={}))})(spine||(spine={}));var spine;(function(o){var L=function(){function m(e,r,a){if(this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.a=0,this.b=0,this.c=0,this.d=0,this.worldY=0,this.worldX=0,this.sorted=!1,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=a,this.setToSetupPose()}return m.prototype.isActive=function(){return this.active},m.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},m.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},m.prototype.updateWorldTransformWith=function(e,r,a,t,n,l,i){this.ax=e,this.ay=r,this.arotation=a,this.ascaleX=t,this.ascaleY=n,this.ashearX=l,this.ashearY=i,this.appliedValid=!0;var v=this.parent;if(v==null){var u=this.skeleton,g=a+90+i,h=u.scaleX,d=u.scaleY;this.a=o.MathUtils.cosDeg(a+l)*t*h,this.b=o.MathUtils.cosDeg(g)*n*h,this.c=o.MathUtils.sinDeg(a+l)*t*d,this.d=o.MathUtils.sinDeg(g)*n*d,this.worldX=e*h+u.x,this.worldY=r*d+u.y;return}var f=v.a,y=v.b,M=v.c,x=v.d;switch(this.worldX=f*e+y*r+v.worldX,this.worldY=M*e+x*r+v.worldY,this.data.transformMode){case o.TransformMode.Normal:{var g=a+90+i,P=o.MathUtils.cosDeg(a+l)*t,R=o.MathUtils.cosDeg(g)*n,I=o.MathUtils.sinDeg(a+l)*t,w=o.MathUtils.sinDeg(g)*n;this.a=f*P+y*I,this.b=f*R+y*w,this.c=M*P+x*I,this.d=M*R+x*w;return}case o.TransformMode.OnlyTranslation:{var g=a+90+i;this.a=o.MathUtils.cosDeg(a+l)*t,this.b=o.MathUtils.cosDeg(g)*n,this.c=o.MathUtils.sinDeg(a+l)*t,this.d=o.MathUtils.sinDeg(g)*n;break}case o.TransformMode.NoRotationOrReflection:{var s=f*f+M*M,E=0;s>1e-4?(s=Math.abs(f*x-y*M)/s,f/=this.skeleton.scaleX,M/=this.skeleton.scaleY,y=M*s,x=f*s,E=Math.atan2(M,f)*o.MathUtils.radDeg):(f=0,M=0,E=90-Math.atan2(x,y)*o.MathUtils.radDeg);var C=a+l-E,S=a+i-E+90,P=o.MathUtils.cosDeg(C)*t,R=o.MathUtils.cosDeg(S)*n,I=o.MathUtils.sinDeg(C)*t,w=o.MathUtils.sinDeg(S)*n;this.a=f*P-y*I,this.b=f*R-y*w,this.c=M*P+x*I,this.d=M*R+x*w;break}case o.TransformMode.NoScale:case o.TransformMode.NoScaleOrReflection:{var k=o.MathUtils.cosDeg(a),A=o.MathUtils.sinDeg(a),V=(f*k+y*A)/this.skeleton.scaleX,N=(M*k+x*A)/this.skeleton.scaleY,s=Math.sqrt(V*V+N*N);s>1e-5&&(s=1/s),V*=s,N*=s,s=Math.sqrt(V*V+N*N),this.data.transformMode==o.TransformMode.NoScale&&f*x-y*M<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(s=-s);var T=Math.PI/2+Math.atan2(N,V),c=Math.cos(T)*s,p=Math.sin(T)*s,P=o.MathUtils.cosDeg(l)*t,R=o.MathUtils.cosDeg(90+i)*n,I=o.MathUtils.sinDeg(l)*t,w=o.MathUtils.sinDeg(90+i)*n;this.a=V*P+c*I,this.b=V*R+c*w,this.c=N*P+p*I,this.d=N*R+p*w;break}}this.a*=this.skeleton.scaleX,this.b*=this.skeleton.scaleX,this.c*=this.skeleton.scaleY,this.d*=this.skeleton.scaleY},m.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},m.prototype.getWorldRotationX=function(){return Math.atan2(this.c,this.a)*o.MathUtils.radDeg},m.prototype.getWorldRotationY=function(){return Math.atan2(this.d,this.b)*o.MathUtils.radDeg},m.prototype.getWorldScaleX=function(){return Math.sqrt(this.a*this.a+this.c*this.c)},m.prototype.getWorldScaleY=function(){return Math.sqrt(this.b*this.b+this.d*this.d)},m.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e=this.parent;if(e==null){this.ax=this.worldX,this.ay=this.worldY,this.arotation=Math.atan2(this.c,this.a)*o.MathUtils.radDeg,this.ascaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.ascaleY=Math.sqrt(this.b*this.b+this.d*this.d),this.ashearX=0,this.ashearY=Math.atan2(this.a*this.b+this.c*this.d,this.a*this.d-this.b*this.c)*o.MathUtils.radDeg;return}var r=e.a,a=e.b,t=e.c,n=e.d,l=1/(r*n-a*t),i=this.worldX-e.worldX,v=this.worldY-e.worldY;this.ax=i*n*l-v*a*l,this.ay=v*r*l-i*t*l;var u=l*n,g=l*r,h=l*a,d=l*t,f=u*this.a-h*this.c,y=u*this.b-h*this.d,M=g*this.c-d*this.a,x=g*this.d-d*this.b;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+M*M),this.ascaleX>1e-4){var P=f*x-y*M;this.ascaleY=P/this.ascaleX,this.ashearY=Math.atan2(f*y+M*x,P)*o.MathUtils.radDeg,this.arotation=Math.atan2(M,f)*o.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(y*y+x*x),this.ashearY=0,this.arotation=90-Math.atan2(x,y)*o.MathUtils.radDeg},m.prototype.worldToLocal=function(e){var r=this.a,a=this.b,t=this.c,n=this.d,l=1/(r*n-a*t),i=e.x-this.worldX,v=e.y-this.worldY;return e.x=i*n*l-v*a*l,e.y=v*r*l-i*t*l,e},m.prototype.localToWorld=function(e){var r=e.x,a=e.y;return e.x=r*this.a+a*this.b+this.worldX,e.y=r*this.c+a*this.d+this.worldY,e},m.prototype.worldToLocalRotation=function(e){var r=o.MathUtils.sinDeg(e),a=o.MathUtils.cosDeg(e);return Math.atan2(this.a*r-this.c*a,this.d*a-this.b*r)*o.MathUtils.radDeg+this.rotation-this.shearX},m.prototype.localToWorldRotation=function(e){e-=this.rotation-this.shearX;var r=o.MathUtils.sinDeg(e),a=o.MathUtils.cosDeg(e);return Math.atan2(a*this.c+r*this.d,a*this.a+r*this.b)*o.MathUtils.radDeg},m.prototype.rotateWorld=function(e){var r=this.a,a=this.b,t=this.c,n=this.d,l=o.MathUtils.cosDeg(e),i=o.MathUtils.sinDeg(e);this.a=l*r-i*t,this.b=l*a-i*n,this.c=i*r+l*t,this.d=i*a+l*n,this.appliedValid=!1},m}();o.Bone=L})(spine||(spine={}));var spine;(function(o){var L=function(){function e(r,a,t){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=m.Normal,this.skinRequired=!1,this.color=new o.Color,r<0)throw new Error("index must be >= 0.");if(a==null)throw new Error("name cannot be null.");this.index=r,this.name=a,this.parent=t}return e}();o.BoneData=L;var m;(function(e){e[e.Normal=0]="Normal",e[e.OnlyTranslation=1]="OnlyTranslation",e[e.NoRotationOrReflection=2]="NoRotationOrReflection",e[e.NoScale=3]="NoScale",e[e.NoScaleOrReflection=4]="NoScaleOrReflection"})(m=o.TransformMode||(o.TransformMode={}))})(spine||(spine={}));var spine;(function(o){var L=function(){function m(e,r,a){this.name=e,this.order=r,this.skinRequired=a}return m}();o.ConstraintData=L})(spine||(spine={}));var spine;(function(o){var L=function(){function m(e,r){if(r==null)throw new Error("data cannot be null.");this.time=e,this.data=r}return m}();o.Event=L})(spine||(spine={}));var spine;(function(o){var L=function(){function m(e){this.name=e}return m}();o.EventData=L})(spine||(spine={}));var spine;(function(o){var L=function(){function m(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var a=0;a<e.bones.length;a++)this.bones.push(r.findBone(e.bones[a].name));this.target=r.findBone(e.target.name)}return m.prototype.isActive=function(){return this.active},m.prototype.apply=function(){this.update()},m.prototype.update=function(){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.softness,this.mix);break}},m.prototype.apply1=function(e,r,a,t,n,l,i){e.appliedValid||e.updateAppliedTransform();var v=e.parent,u=v.a,g=v.b,h=v.c,d=v.d,f=-e.ashearX-e.arotation,y=0,M=0;switch(e.data.transformMode){case o.TransformMode.OnlyTranslation:y=r-e.worldX,M=a-e.worldY;break;case o.TransformMode.NoRotationOrReflection:var x=Math.abs(u*d-g*h)/(u*u+h*h),P=u/e.skeleton.scaleX,R=h/e.skeleton.scaleY;g=-R*x*e.skeleton.scaleX,d=P*x*e.skeleton.scaleY,f+=Math.atan2(R,P)*o.MathUtils.radDeg;default:var I=r-v.worldX,w=a-v.worldY,s=u*d-g*h;y=(I*d-w*g)/s-e.ax,M=(w*u-I*h)/s-e.ay}f+=Math.atan2(M,y)*o.MathUtils.radDeg,e.ascaleX<0&&(f+=180),f>180?f-=360:f<-180&&(f+=360);var E=e.ascaleX,C=e.ascaleY;if(t||n){switch(e.data.transformMode){case o.TransformMode.NoScale:case o.TransformMode.NoScaleOrReflection:y=r-e.worldX,M=a-e.worldY}var S=e.data.length*E,k=Math.sqrt(y*y+M*M);if(t&&k<S||n&&k>S&&S>1e-4){var x=(k/S-1)*i+1;E*=x,l&&(C*=x)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+f*i,E,C,e.ashearX,e.ashearY)},m.prototype.apply2=function(e,r,a,t,n,l,i,v){if(v==0){r.updateWorldTransform();return}e.appliedValid||e.updateAppliedTransform(),r.appliedValid||r.updateAppliedTransform();var u=e.ax,g=e.ay,h=e.ascaleX,d=h,f=e.ascaleY,y=r.ascaleX,M=0,x=0,P=0;h<0?(h=-h,M=180,P=-1):(M=0,P=1),f<0&&(f=-f,P=-P),y<0?(y=-y,x=180):x=0;var R=r.ax,I=0,w=0,s=0,E=e.a,C=e.b,S=e.c,k=e.d,A=Math.abs(h-f)<=1e-4;A?(I=r.ay,w=E*R+C*I+e.worldX,s=S*R+k*I+e.worldY):(I=0,w=E*R+e.worldX,s=S*R+e.worldY);var V=e.parent;E=V.a,C=V.b,S=V.c,k=V.d;var N=1/(E*k-C*S),T=w-V.worldX,c=s-V.worldY,p=(T*k-c*C)*N-u,U=(c*E-T*S)*N-g,b=Math.sqrt(p*p+U*U),Y=r.data.length*y,D,O;if(b<1e-4){this.apply1(e,a,t,!1,l,!1,v),r.updateWorldTransformWith(R,I,0,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY);return}T=a-V.worldX,c=t-V.worldY;var B=(T*k-c*C)*N-u,X=(c*E-T*S)*N-g,W=B*B+X*X;if(i!=0){i*=h*(y+1)/2;var F=Math.sqrt(W),_=F-b-Y*h+i;if(_>0){var q=Math.min(1,_/(i*2))-1;q=(_-i*(1-q*q))/F,B-=q*B,X-=q*X,W=B*B+X*X}}t:if(A){Y*=h;var H=(W-b*b-Y*Y)/(2*b*Y);H<-1?H=-1:H>1&&(H=1,l&&(d*=(Math.sqrt(W)/(b+Y)-1)*v+1)),O=Math.acos(H)*n,E=b+Y*H,C=Y*Math.sin(O),D=Math.atan2(X*E-B*C,B*E+X*C)}else{E=h*Y,C=f*Y;var Z=E*E,j=C*C,K=Math.atan2(X,B);S=j*b*b+Z*W-Z*j;var G=-2*j*b,z=j-Z;if(k=G*G-4*z*S,k>=0){var J=Math.sqrt(k);G<0&&(J=-J),J=-(G+J)/2;var at=J/z,et=S/J,$=Math.abs(at)<Math.abs(et)?at:et;if($*$<=W){c=Math.sqrt(W-$*$)*n,D=K-Math.atan2(c,$),O=Math.atan2(c/f,($-b)/h);break t}}var nt=o.MathUtils.PI,tt=b-E,rt=tt*tt,Q=0,lt=0,ot=b+E,ut=ot*ot,st=0;S=-E*b/(Z-j),S>=-1&&S<=1&&(S=Math.acos(S),T=E*Math.cos(S)+b,c=C*Math.sin(S),k=T*T+c*c,k<rt&&(nt=S,rt=k,tt=T,Q=c),k>ut&&(lt=S,ut=k,ot=T,st=c)),W<=(rt+ut)/2?(D=K-Math.atan2(Q*n,tt),O=nt*n):(D=K-Math.atan2(st*n,ot),O=lt*n)}var ht=Math.atan2(I,R)*P,it=e.arotation;D=(D-ht)*o.MathUtils.radDeg+M-it,D>180?D-=360:D<-180&&(D+=360),e.updateWorldTransformWith(u,g,it+D*v,d,e.ascaleY,0,0),it=r.arotation,O=((O+ht)*o.MathUtils.radDeg-r.ashearX)*P+x-it,O>180?O-=360:O<-180&&(O+=360),r.updateWorldTransformWith(R,I,it+O*v,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},m}();o.IkConstraint=L})(spine||(spine={}));var spine;(function(o){var L=function(m){__extends(e,m);function e(r){var a=m.call(this,r,0,!1)||this;return a.bones=new Array,a.bendDirection=1,a.compress=!1,a.stretch=!1,a.uniform=!1,a.mix=1,a.softness=0,a}return e}(o.ConstraintData);o.IkConstraintData=L})(spine||(spine={}));var spine;(function(o){var L=function(){function m(e,r){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var a=0,t=e.bones.length;a<t;a++)this.bones.push(r.findBone(e.bones[a].name));this.target=r.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return m.prototype.isActive=function(){return this.active},m.prototype.apply=function(){this.update()},m.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof o.PathAttachment){var r=this.rotateMix,a=this.translateMix,t=a>0,n=r>0;if(!(!t&&!n)){var l=this.data,i=l.spacingMode==o.SpacingMode.Percent,v=l.rotateMode,u=v==o.RotateMode.Tangent,g=v==o.RotateMode.ChainScale,h=this.bones.length,d=u?h:h+1,f=this.bones,y=o.Utils.setArraySize(this.spaces,d),M=null,x=this.spacing;if(g||!i){g&&(M=o.Utils.setArraySize(this.lengths,h));for(var P=l.spacingMode==o.SpacingMode.Length,R=0,I=d-1;R<I;){var w=f[R],s=w.data.length;if(s<m.epsilon)g&&(M[R]=0),y[++R]=0;else if(i){if(g){var E=s*w.a,C=s*w.c,S=Math.sqrt(E*E+C*C);M[R]=S}y[++R]=x}else{var E=s*w.a,C=s*w.c,k=Math.sqrt(E*E+C*C);g&&(M[R]=k),y[++R]=(P?s+x:x)*k/s}}}else for(var R=1;R<d;R++)y[R]=x;var A=this.computeWorldPositions(e,d,u,l.positionMode==o.PositionMode.Percent,i),V=A[0],N=A[1],T=l.offsetRotation,c=!1;if(T==0)c=v==o.RotateMode.Chain;else{c=!1;var p=this.target.bone;T*=p.a*p.d-p.b*p.c>0?o.MathUtils.degRad:-o.MathUtils.degRad}for(var R=0,p=3;R<h;R++,p+=3){var w=f[R];w.worldX+=(V-w.worldX)*a,w.worldY+=(N-w.worldY)*a;var E=A[p],C=A[p+1],U=E-V,b=C-N;if(g){var Y=M[R];if(Y!=0){var D=(Math.sqrt(U*U+b*b)/Y-1)*r+1;w.a*=D,w.c*=D}}if(V=E,N=C,n){var O=w.a,B=w.b,X=w.c,W=w.d,F=0,_=0,q=0;if(u?F=A[p-1]:y[R+1]==0?F=A[p+2]:F=Math.atan2(b,U),F-=Math.atan2(X,O),c){_=Math.cos(F),q=Math.sin(F);var H=w.data.length;V+=(H*(_*O-q*X)-U)*r,N+=(H*(q*O+_*X)-b)*r}else F+=T;F>o.MathUtils.PI?F-=o.MathUtils.PI2:F<-o.MathUtils.PI&&(F+=o.MathUtils.PI2),F*=r,_=Math.cos(F),q=Math.sin(F),w.a=_*O-q*X,w.b=_*B-q*W,w.c=q*O+_*X,w.d=q*B+_*W}w.appliedValid=!1}}}},m.prototype.computeWorldPositions=function(e,r,a,t,n){var l=this.target,i=this.position,v=this.spaces,u=o.Utils.setArraySize(this.positions,r*3+2),g=null,h=e.closed,d=e.worldVerticesLength,f=d/6,y=m.NONE;if(!e.constantSpeed){var M=e.lengths;f-=h?1:2;var x=M[f];if(t&&(i*=x),n)for(var P=1;P<r;P++)v[P]*=x;g=o.Utils.setArraySize(this.world,8);for(var P=0,R=0,I=0;P<r;P++,R+=3){var w=v[P];i+=w;var s=i;if(h)s%=x,s<0&&(s+=x),I=0;else if(s<0){y!=m.BEFORE&&(y=m.BEFORE,e.computeWorldVertices(l,2,4,g,0,2)),this.addBeforePosition(s,g,0,u,R);continue}else if(s>x){y!=m.AFTER&&(y=m.AFTER,e.computeWorldVertices(l,d-6,4,g,0,2)),this.addAfterPosition(s-x,g,0,u,R);continue}for(;;I++){var E=M[I];if(!(s>E)){if(I==0)s/=E;else{var C=M[I-1];s=(s-C)/(E-C)}break}}I!=y&&(y=I,h&&I==f?(e.computeWorldVertices(l,d-4,4,g,0,2),e.computeWorldVertices(l,0,4,g,4,2)):e.computeWorldVertices(l,I*6+2,8,g,0,2)),this.addCurvePosition(s,g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],u,R,a||P>0&&w==0)}return u}h?(d+=2,g=o.Utils.setArraySize(this.world,d),e.computeWorldVertices(l,2,d-4,g,0,2),e.computeWorldVertices(l,0,2,g,d-4,2),g[d-2]=g[0],g[d-1]=g[1]):(f--,d-=4,g=o.Utils.setArraySize(this.world,d),e.computeWorldVertices(l,2,d,g,0,2));for(var S=o.Utils.setArraySize(this.curves,f),k=0,A=g[0],V=g[1],N=0,T=0,c=0,p=0,U=0,b=0,Y=0,D=0,O=0,B=0,X=0,W=0,F=0,_=0,P=0,q=2;P<f;P++,q+=6)N=g[q],T=g[q+1],c=g[q+2],p=g[q+3],U=g[q+4],b=g[q+5],Y=(A-N*2+c)*.1875,D=(V-T*2+p)*.1875,O=((N-c)*3-A+U)*.09375,B=((T-p)*3-V+b)*.09375,X=Y*2+O,W=D*2+B,F=(N-A)*.75+Y+O*.16666667,_=(T-V)*.75+D+B*.16666667,k+=Math.sqrt(F*F+_*_),F+=X,_+=W,X+=O,W+=B,k+=Math.sqrt(F*F+_*_),F+=X,_+=W,k+=Math.sqrt(F*F+_*_),F+=X+O,_+=W+B,k+=Math.sqrt(F*F+_*_),S[P]=k,A=U,V=b;if(t?i*=k:i*=k/e.lengths[f-1],n)for(var P=1;P<r;P++)v[P]*=k;for(var H=this.segments,Z=0,P=0,R=0,I=0,j=0;P<r;P++,R+=3){var w=v[P];i+=w;var s=i;if(h)s%=k,s<0&&(s+=k),I=0;else if(s<0){this.addBeforePosition(s,g,0,u,R);continue}else if(s>k){this.addAfterPosition(s-k,g,d-4,u,R);continue}for(;;I++){var K=S[I];if(!(s>K)){if(I==0)s/=K;else{var C=S[I-1];s=(s-C)/(K-C)}break}}if(I!=y){y=I;var G=I*6;for(A=g[G],V=g[G+1],N=g[G+2],T=g[G+3],c=g[G+4],p=g[G+5],U=g[G+6],b=g[G+7],Y=(A-N*2+c)*.03,D=(V-T*2+p)*.03,O=((N-c)*3-A+U)*.006,B=((T-p)*3-V+b)*.006,X=Y*2+O,W=D*2+B,F=(N-A)*.3+Y+O*.16666667,_=(T-V)*.3+D+B*.16666667,Z=Math.sqrt(F*F+_*_),H[0]=Z,G=1;G<8;G++)F+=X,_+=W,X+=O,W+=B,Z+=Math.sqrt(F*F+_*_),H[G]=Z;F+=X,_+=W,Z+=Math.sqrt(F*F+_*_),H[8]=Z,F+=X+O,_+=W+B,Z+=Math.sqrt(F*F+_*_),H[9]=Z,j=0}for(s*=Z;;j++){var z=H[j];if(!(s>z)){if(j==0)s/=z;else{var C=H[j-1];s=j+(s-C)/(z-C)}break}}this.addCurvePosition(s*.1,A,V,N,T,c,p,U,b,u,R,a||P>0&&w==0)}return u},m.prototype.addBeforePosition=function(e,r,a,t,n){var l=r[a],i=r[a+1],v=r[a+2]-l,u=r[a+3]-i,g=Math.atan2(u,v);t[n]=l+e*Math.cos(g),t[n+1]=i+e*Math.sin(g),t[n+2]=g},m.prototype.addAfterPosition=function(e,r,a,t,n){var l=r[a+2],i=r[a+3],v=l-r[a],u=i-r[a+1],g=Math.atan2(u,v);t[n]=l+e*Math.cos(g),t[n+1]=i+e*Math.sin(g),t[n+2]=g},m.prototype.addCurvePosition=function(e,r,a,t,n,l,i,v,u,g,h,d){if(e==0||isNaN(e)){g[h]=r,g[h+1]=a,g[h+2]=Math.atan2(n-a,t-r);return}var f=e*e,y=f*e,M=1-e,x=M*M,P=x*M,R=M*e,I=R*3,w=M*I,s=I*e,E=r*P+t*w+l*s+v*y,C=a*P+n*w+i*s+u*y;g[h]=E,g[h+1]=C,d&&(e<.001?g[h+2]=Math.atan2(n-a,t-r):g[h+2]=Math.atan2(C-(a*x+n*R*2+i*f),E-(r*x+t*R*2+l*f)))},m.NONE=-1,m.BEFORE=-2,m.AFTER=-3,m.epsilon=1e-5,m}();o.PathConstraint=L})(spine||(spine={}));var spine;(function(o){var L=function(a){__extends(t,a);function t(n){var l=a.call(this,n,0,!1)||this;return l.bones=new Array,l}return t}(o.ConstraintData);o.PathConstraintData=L;var m;(function(a){a[a.Fixed=0]="Fixed",a[a.Percent=1]="Percent"})(m=o.PositionMode||(o.PositionMode={}));var e;(function(a){a[a.Length=0]="Length",a[a.Fixed=1]="Fixed",a[a.Percent=2]="Percent"})(e=o.SpacingMode||(o.SpacingMode={}));var r;(function(a){a[a.Tangent=0]="Tangent",a[a.Chain=1]="Chain",a[a.ChainScale=2]="ChainScale"})(r=o.RotateMode||(o.RotateMode={}))})(spine||(spine={}));var spine;(function(o){var L=function(){function e(r){this.toLoad=new Array,this.assets={},this.clientId=r}return e.prototype.loaded=function(){var r=0;for(var a in this.assets)r++;return r},e}(),m=function(){function e(r){r===void 0&&(r=""),this.clientAssets={},this.queuedAssets={},this.rawAssets={},this.errors={},this.pathPrefix=r}return e.prototype.queueAsset=function(r,a,t){var n=this.clientAssets[r];return n==null&&(n=new L(r),this.clientAssets[r]=n),a!==null&&(n.textureLoader=a),n.toLoad.push(t),this.queuedAssets[t]===t?!1:(this.queuedAssets[t]=t,!0)},e.prototype.loadText=function(r,a){var t=this;if(a=this.pathPrefix+a,!!this.queueAsset(r,null,a)){var n=new XMLHttpRequest;n.overrideMimeType("text/html"),n.onreadystatechange=function(){n.readyState==XMLHttpRequest.DONE&&(n.status>=200&&n.status<300?t.rawAssets[a]=n.responseText:t.errors[a]="Couldn't load text "+a+": status "+n.status+", "+n.responseText)},n.open("GET",a,!0),n.send()}},e.prototype.loadJson=function(r,a){var t=this;if(a=this.pathPrefix+a,!!this.queueAsset(r,null,a)){var n=new XMLHttpRequest;n.overrideMimeType("text/html"),n.onreadystatechange=function(){n.readyState==XMLHttpRequest.DONE&&(n.status>=200&&n.status<300?t.rawAssets[a]=JSON.parse(n.responseText):t.errors[a]="Couldn't load text "+a+": status "+n.status+", "+n.responseText)},n.open("GET",a,!0),n.send()}},e.prototype.loadTexture=function(r,a,t){var n=this;if(t=this.pathPrefix+t,!!this.queueAsset(r,a,t)){var l=!!(typeof window!="undefined"&&typeof navigator!="undefined"&&window.document),i=!l&&typeof importScripts!="undefined";if(i){var v={mode:"cors"};fetch(t,v).then(function(g){return g.ok||(n.errors[t]="Couldn't load image "+t),g.blob()}).then(function(g){return createImageBitmap(g,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(g){n.rawAssets[t]=g})}else{var u=new Image;u.crossOrigin="anonymous",u.onload=function(g){n.rawAssets[t]=u},u.onerror=function(g){n.errors[t]="Couldn't load image "+t},u.src=t}}},e.prototype.get=function(r,a){a=this.pathPrefix+a;var t=this.clientAssets[r];return t==null?!0:t.assets[a]},e.prototype.updateClientAssets=function(r){for(var a=!!(typeof window!="undefined"&&typeof navigator!="undefined"&&window.document),t=!a&&typeof importScripts!="undefined",n=0;n<r.toLoad.length;n++){var l=r.toLoad[n],i=r.assets[l];if(i==null){var v=this.rawAssets[l];if(v==null)continue;t?v instanceof ImageBitmap?r.assets[l]=r.textureLoader(v):r.assets[l]=v:v instanceof HTMLImageElement?r.assets[l]=r.textureLoader(v):r.assets[l]=v}}},e.prototype.isLoadingComplete=function(r){var a=this.clientAssets[r];return a==null?!0:(this.updateClientAssets(a),a.toLoad.length==a.loaded())},e.prototype.dispose=function(){},e.prototype.hasErrors=function(){return Object.keys(this.errors).length>0},e.prototype.getErrors=function(){return this.errors},e}();o.SharedAssetManager=m})(spine||(spine={}));var spine;(function(o){var L=function(){function m(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,e==null)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var a=e.bones[r],t=void 0;if(a.parent==null)t=new o.Bone(a,this,null);else{var n=this.bones[a.parent.index];t=new o.Bone(a,this,n),n.children.push(t)}this.bones.push(t)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var l=e.slots[r],t=this.bones[l.boneData.index],i=new o.Slot(l,t);this.slots.push(i),this.drawOrder.push(i)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var v=e.ikConstraints[r];this.ikConstraints.push(new o.IkConstraint(v,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var u=e.transformConstraints[r];this.transformConstraints.push(new o.TransformConstraint(u,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var g=e.pathConstraints[r];this.pathConstraints.push(new o.PathConstraint(g,this))}this.color=new o.Color(1,1,1,1),this.updateCache()}return m.prototype.updateCache=function(){var e=this._updateCache;e.length=0,this.updateCacheReset.length=0;for(var r=this.bones,a=0,t=r.length;a<t;a++){var n=r[a];n.sorted=n.data.skinRequired,n.active=!n.sorted}if(this.skin!=null)for(var l=this.skin.bones,a=0,t=this.skin.bones.length;a<t;a++){var n=this.bones[l[a].index];do n.sorted=!1,n.active=!0,n=n.parent;while(n!=null)}var i=this.ikConstraints,v=this.transformConstraints,u=this.pathConstraints,g=i.length,h=v.length,d=u.length,f=g+h+d;t:for(var a=0;a<f;a++){for(var y=0;y<g;y++){var M=i[y];if(M.data.order==a){this.sortIkConstraint(M);continue t}}for(var y=0;y<h;y++){var M=v[y];if(M.data.order==a){this.sortTransformConstraint(M);continue t}}for(var y=0;y<d;y++){var M=u[y];if(M.data.order==a){this.sortPathConstraint(M);continue t}}}for(var a=0,t=r.length;a<t;a++)this.sortBone(r[a])},m.prototype.sortIkConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin!=null&&o.Utils.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target;this.sortBone(r);var a=e.bones,t=a[0];if(this.sortBone(t),a.length>1){var n=a[a.length-1];this._updateCache.indexOf(n)>-1||this.updateCacheReset.push(n)}this._updateCache.push(e),this.sortReset(t.children),a[a.length-1].sorted=!0}},m.prototype.sortPathConstraint=function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin!=null&&o.Utils.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target,a=r.data.index,t=r.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,a,t),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,a,t);for(var n=0,l=this.data.skins.length;n<l;n++)this.sortPathConstraintAttachment(this.data.skins[n],a,t);var i=r.getAttachment();i instanceof o.PathAttachment&&this.sortPathConstraintAttachmentWith(i,t);for(var v=e.bones,u=v.length,n=0;n<u;n++)this.sortBone(v[n]);this._updateCache.push(e);for(var n=0;n<u;n++)this.sortReset(v[n].children);for(var n=0;n<u;n++)v[n].sorted=!0}},m.prototype.sortTransformConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin!=null&&o.Utils.contains(this.skin.constraints,e.data,!0)),!!e.active){this.sortBone(e.target);var r=e.bones,a=r.length;if(e.data.local)for(var t=0;t<a;t++){var n=r[t];this.sortBone(n.parent),this._updateCache.indexOf(n)>-1||this.updateCacheReset.push(n)}else for(var t=0;t<a;t++)this.sortBone(r[t]);this._updateCache.push(e);for(var l=0;l<a;l++)this.sortReset(r[l].children);for(var l=0;l<a;l++)r[l].sorted=!0}},m.prototype.sortPathConstraintAttachment=function(e,r,a){var t=e.attachments[r];if(!!t)for(var n in t)this.sortPathConstraintAttachmentWith(t[n],a)},m.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof o.PathAttachment){var a=e.bones;if(a==null)this.sortBone(r);else for(var t=this.bones,n=0;n<a.length;)for(var l=a[n++],i=n+l;n<i;n++){var v=a[n];this.sortBone(t[v])}}},m.prototype.sortBone=function(e){if(!e.sorted){var r=e.parent;r!=null&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},m.prototype.sortReset=function(e){for(var r=0,a=e.length;r<a;r++){var t=e[r];!t.active||(t.sorted&&this.sortReset(t.children),t.sorted=!1)}},m.prototype.updateWorldTransform=function(){for(var e=this.updateCacheReset,r=0,a=e.length;r<a;r++){var t=e[r];t.ax=t.x,t.ay=t.y,t.arotation=t.rotation,t.ascaleX=t.scaleX,t.ascaleY=t.scaleY,t.ashearX=t.shearX,t.ashearY=t.shearY,t.appliedValid=!0}for(var n=this._updateCache,r=0,a=n.length;r<a;r++)n[r].update()},m.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},m.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,a=e.length;r<a;r++)e[r].setToSetupPose();for(var t=this.ikConstraints,r=0,a=t.length;r<a;r++){var n=t[r];n.mix=n.data.mix,n.softness=n.data.softness,n.bendDirection=n.data.bendDirection,n.compress=n.data.compress,n.stretch=n.data.stretch}for(var l=this.transformConstraints,r=0,a=l.length;r<a;r++){var n=l[r],i=n.data;n.rotateMix=i.rotateMix,n.translateMix=i.translateMix,n.scaleMix=i.scaleMix,n.shearMix=i.shearMix}for(var v=this.pathConstraints,r=0,a=v.length;r<a;r++){var n=v[r],i=n.data;n.position=i.position,n.spacing=i.spacing,n.rotateMix=i.rotateMix,n.translateMix=i.translateMix}},m.prototype.setSlotsToSetupPose=function(){var e=this.slots;o.Utils.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,a=e.length;r<a;r++)e[r].setToSetupPose()},m.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},m.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,a=0,t=r.length;a<t;a++){var n=r[a];if(n.data.name==e)return n}return null},m.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,a=0,t=r.length;a<t;a++)if(r[a].data.name==e)return a;return-1},m.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,a=0,t=r.length;a<t;a++){var n=r[a];if(n.data.name==e)return n}return null},m.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,a=0,t=r.length;a<t;a++)if(r[a].data.name==e)return a;return-1},m.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(r==null)throw new Error("Skin not found: "+e);this.setSkin(r)},m.prototype.setSkin=function(e){if(e!=this.skin){if(e!=null)if(this.skin!=null)e.attachAll(this,this.skin);else for(var r=this.slots,a=0,t=r.length;a<t;a++){var n=r[a],l=n.data.attachmentName;if(l!=null){var i=e.getAttachment(a,l);i!=null&&n.setAttachment(i)}}this.skin=e,this.updateCache()}},m.prototype.getAttachmentByName=function(e,r){return this.getAttachment(this.data.findSlotIndex(e),r)},m.prototype.getAttachment=function(e,r){if(r==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){var a=this.skin.getAttachment(e,r);if(a!=null)return a}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(e,r):null},m.prototype.setAttachment=function(e,r){if(e==null)throw new Error("slotName cannot be null.");for(var a=this.slots,t=0,n=a.length;t<n;t++){var l=a[t];if(l.data.name==e){var i=null;if(r!=null&&(i=this.getAttachment(t,r),i==null))throw new Error("Attachment not found: "+r+", for slot: "+e);l.setAttachment(i);return}}throw new Error("Slot not found: "+e)},m.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,a=0,t=r.length;a<t;a++){var n=r[a];if(n.data.name==e)return n}return null},m.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,a=0,t=r.length;a<t;a++){var n=r[a];if(n.data.name==e)return n}return null},m.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,a=0,t=r.length;a<t;a++){var n=r[a];if(n.data.name==e)return n}return null},m.prototype.getBounds=function(e,r,a){if(a===void 0&&(a=new Array(2)),e==null)throw new Error("offset cannot be null.");if(r==null)throw new Error("size cannot be null.");for(var t=this.drawOrder,n=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,v=Number.NEGATIVE_INFINITY,u=0,g=t.length;u<g;u++){var h=t[u];if(!!h.bone.active){var d=0,f=null,y=h.getAttachment();if(y instanceof o.RegionAttachment)d=8,f=o.Utils.setArraySize(a,d,0),y.computeWorldVertices(h.bone,f,0,2);else if(y instanceof o.MeshAttachment){var M=y;d=M.worldVerticesLength,f=o.Utils.setArraySize(a,d,0),M.computeWorldVertices(h,0,d,f,0,2)}if(f!=null)for(var x=0,P=f.length;x<P;x+=2){var R=f[x],I=f[x+1];n=Math.min(n,R),l=Math.min(l,I),i=Math.max(i,R),v=Math.max(v,I)}}}e.set(n,l),r.set(i-n,v-l)},m.prototype.update=function(e){this.time+=e},m}();o.Skeleton=L})(spine||(spine={}));var spine;(function(o){var L=function(){function a(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return a.prototype.readSkeletonData=function(t){var n=this.scale,l=new o.SkeletonData;l.name="";var i=new m(t);if(l.hash=i.readString(),l.version=i.readString(),l.version=="3.8.75")throw new Error("Unsupported skeleton data, please export with a newer version of Spine.");l.x=i.readFloat(),l.y=i.readFloat(),l.width=i.readFloat(),l.height=i.readFloat();var v=i.readBoolean();v&&(l.fps=i.readFloat(),l.imagesPath=i.readString(),l.audioPath=i.readString());var u=0;u=i.readInt(!0);for(var g=0;g<u;g++)i.strings.push(i.readString());u=i.readInt(!0);for(var g=0;g<u;g++){var h=i.readString(),d=g==0?null:l.bones[i.readInt(!0)],f=new o.BoneData(g,h,d);f.rotation=i.readFloat(),f.x=i.readFloat()*n,f.y=i.readFloat()*n,f.scaleX=i.readFloat(),f.scaleY=i.readFloat(),f.shearX=i.readFloat(),f.shearY=i.readFloat(),f.length=i.readFloat()*n,f.transformMode=a.TransformModeValues[i.readInt(!0)],f.skinRequired=i.readBoolean(),v&&o.Color.rgba8888ToColor(f.color,i.readInt32()),l.bones.push(f)}u=i.readInt(!0);for(var g=0;g<u;g++){var y=i.readString(),M=l.bones[i.readInt(!0)],f=new o.SlotData(g,y,M);o.Color.rgba8888ToColor(f.color,i.readInt32());var x=i.readInt32();x!=-1&&o.Color.rgb888ToColor(f.darkColor=new o.Color,x),f.attachmentName=i.readStringRef(),f.blendMode=a.BlendModeValues[i.readInt(!0)],l.slots.push(f)}u=i.readInt(!0);for(var g=0,P=void 0;g<u;g++){var f=new o.IkConstraintData(i.readString());f.order=i.readInt(!0),f.skinRequired=i.readBoolean(),P=i.readInt(!0);for(var R=0;R<P;R++)f.bones.push(l.bones[i.readInt(!0)]);f.target=l.bones[i.readInt(!0)],f.mix=i.readFloat(),f.softness=i.readFloat()*n,f.bendDirection=i.readByte(),f.compress=i.readBoolean(),f.stretch=i.readBoolean(),f.uniform=i.readBoolean(),l.ikConstraints.push(f)}u=i.readInt(!0);for(var g=0,P=void 0;g<u;g++){var f=new o.TransformConstraintData(i.readString());f.order=i.readInt(!0),f.skinRequired=i.readBoolean(),P=i.readInt(!0);for(var R=0;R<P;R++)f.bones.push(l.bones[i.readInt(!0)]);f.target=l.bones[i.readInt(!0)],f.local=i.readBoolean(),f.relative=i.readBoolean(),f.offsetRotation=i.readFloat(),f.offsetX=i.readFloat()*n,f.offsetY=i.readFloat()*n,f.offsetScaleX=i.readFloat(),f.offsetScaleY=i.readFloat(),f.offsetShearY=i.readFloat(),f.rotateMix=i.readFloat(),f.translateMix=i.readFloat(),f.scaleMix=i.readFloat(),f.shearMix=i.readFloat(),l.transformConstraints.push(f)}u=i.readInt(!0);for(var g=0,P=void 0;g<u;g++){var f=new o.PathConstraintData(i.readString());f.order=i.readInt(!0),f.skinRequired=i.readBoolean(),P=i.readInt(!0);for(var R=0;R<P;R++)f.bones.push(l.bones[i.readInt(!0)]);f.target=l.slots[i.readInt(!0)],f.positionMode=a.PositionModeValues[i.readInt(!0)],f.spacingMode=a.SpacingModeValues[i.readInt(!0)],f.rotateMode=a.RotateModeValues[i.readInt(!0)],f.offsetRotation=i.readFloat(),f.position=i.readFloat(),f.positionMode==o.PositionMode.Fixed&&(f.position*=n),f.spacing=i.readFloat(),(f.spacingMode==o.SpacingMode.Length||f.spacingMode==o.SpacingMode.Fixed)&&(f.spacing*=n),f.rotateMix=i.readFloat(),f.translateMix=i.readFloat(),l.pathConstraints.push(f)}var I=this.readSkin(i,l,!0,v);I!=null&&(l.defaultSkin=I,l.skins.push(I));{var g=l.skins.length;for(o.Utils.setArraySize(l.skins,u=g+i.readInt(!0));g<u;g++)l.skins[g]=this.readSkin(i,l,!1,v)}u=this.linkedMeshes.length;for(var g=0;g<u;g++){var w=this.linkedMeshes[g],s=w.skin==null?l.defaultSkin:l.findSkin(w.skin);if(s==null)throw new Error("Skin not found: "+w.skin);var E=s.getAttachment(w.slotIndex,w.parent);if(E==null)throw new Error("Parent mesh not found: "+w.parent);w.mesh.deformAttachment=w.inheritDeform?E:w.mesh,w.mesh.setParentMesh(E),w.mesh.updateUVs()}this.linkedMeshes.length=0,u=i.readInt(!0);for(var g=0;g<u;g++){var f=new o.EventData(i.readStringRef());f.intValue=i.readInt(!1),f.floatValue=i.readFloat(),f.stringValue=i.readString(),f.audioPath=i.readString(),f.audioPath!=null&&(f.volume=i.readFloat(),f.balance=i.readFloat()),l.events.push(f)}u=i.readInt(!0);for(var g=0;g<u;g++)l.animations.push(this.readAnimation(i,i.readString(),l));return l},a.prototype.readSkin=function(t,n,l,i){var v=null,u=0;if(l){if(u=t.readInt(!0),u==0)return null;v=new o.Skin("default")}else{v=new o.Skin(t.readStringRef()),v.bones.length=t.readInt(!0);for(var g=0,h=v.bones.length;g<h;g++)v.bones[g]=n.bones[t.readInt(!0)];for(var g=0,h=t.readInt(!0);g<h;g++)v.constraints.push(n.ikConstraints[t.readInt(!0)]);for(var g=0,h=t.readInt(!0);g<h;g++)v.constraints.push(n.transformConstraints[t.readInt(!0)]);for(var g=0,h=t.readInt(!0);g<h;g++)v.constraints.push(n.pathConstraints[t.readInt(!0)]);u=t.readInt(!0)}for(var g=0;g<u;g++)for(var d=t.readInt(!0),f=0,y=t.readInt(!0);f<y;f++){var M=t.readStringRef(),x=this.readAttachment(t,n,v,d,M,i);x!=null&&v.setAttachment(d,M,x)}return v},a.prototype.readAttachment=function(t,n,l,i,v,u){var g=this.scale,h=t.readStringRef();h==null&&(h=v);var d=t.readByte(),f=a.AttachmentTypeValues[d];switch(f){case o.AttachmentType.Region:{var y=t.readStringRef(),M=t.readFloat(),x=t.readFloat(),P=t.readFloat(),R=t.readFloat(),I=t.readFloat(),w=t.readFloat(),s=t.readFloat(),E=t.readInt32();y==null&&(y=h);var C=this.attachmentLoader.newRegionAttachment(l,h,y);return C==null?null:(C.path=y,C.x=x*g,C.y=P*g,C.scaleX=R,C.scaleY=I,C.rotation=M,C.width=w*g,C.height=s*g,o.Color.rgba8888ToColor(C.color,E),C.updateOffset(),C)}case o.AttachmentType.BoundingBox:{var S=t.readInt(!0),k=this.readVertices(t,S),E=u?t.readInt32():0,A=this.attachmentLoader.newBoundingBoxAttachment(l,h);return A==null?null:(A.worldVerticesLength=S<<1,A.vertices=k.vertices,A.bones=k.bones,u&&o.Color.rgba8888ToColor(A.color,E),A)}case o.AttachmentType.Mesh:{var y=t.readStringRef(),E=t.readInt32(),S=t.readInt(!0),V=this.readFloatArray(t,S<<1,1),N=this.readShortArray(t),k=this.readVertices(t,S),T=t.readInt(!0),c=null,w=0,s=0;u&&(c=this.readShortArray(t),w=t.readFloat(),s=t.readFloat()),y==null&&(y=h);var p=this.attachmentLoader.newMeshAttachment(l,h,y);return p==null?null:(p.path=y,o.Color.rgba8888ToColor(p.color,E),p.bones=k.bones,p.vertices=k.vertices,p.worldVerticesLength=S<<1,p.triangles=N,p.regionUVs=V,p.updateUVs(),p.hullLength=T<<1,u&&(p.edges=c,p.width=w*g,p.height=s*g),p)}case o.AttachmentType.LinkedMesh:{var y=t.readStringRef(),E=t.readInt32(),U=t.readStringRef(),b=t.readStringRef(),Y=t.readBoolean(),w=0,s=0;u&&(w=t.readFloat(),s=t.readFloat()),y==null&&(y=h);var p=this.attachmentLoader.newMeshAttachment(l,h,y);return p==null?null:(p.path=y,o.Color.rgba8888ToColor(p.color,E),u&&(p.width=w*g,p.height=s*g),this.linkedMeshes.push(new e(p,U,i,b,Y)),p)}case o.AttachmentType.Path:{for(var D=t.readBoolean(),O=t.readBoolean(),S=t.readInt(!0),k=this.readVertices(t,S),B=o.Utils.newArray(S/3,0),X=0,W=B.length;X<W;X++)B[X]=t.readFloat()*g;var E=u?t.readInt32():0,y=this.attachmentLoader.newPathAttachment(l,h);return y==null?null:(y.closed=D,y.constantSpeed=O,y.worldVerticesLength=S<<1,y.vertices=k.vertices,y.bones=k.bones,y.lengths=B,u&&o.Color.rgba8888ToColor(y.color,E),y)}case o.AttachmentType.Point:{var M=t.readFloat(),x=t.readFloat(),P=t.readFloat(),E=u?t.readInt32():0,F=this.attachmentLoader.newPointAttachment(l,h);return F==null?null:(F.x=x*g,F.y=P*g,F.rotation=M,u&&o.Color.rgba8888ToColor(F.color,E),F)}case o.AttachmentType.Clipping:{var _=t.readInt(!0),S=t.readInt(!0),k=this.readVertices(t,S),E=u?t.readInt32():0,q=this.attachmentLoader.newClippingAttachment(l,h);return q==null?null:(q.endSlot=n.slots[_],q.worldVerticesLength=S<<1,q.vertices=k.vertices,q.bones=k.bones,u&&o.Color.rgba8888ToColor(q.color,E),q)}}return null},a.prototype.readVertices=function(t,n){var l=n<<1,i=new r,v=this.scale;if(!t.readBoolean())return i.vertices=this.readFloatArray(t,l,v),i;for(var u=new Array,g=new Array,h=0;h<n;h++){var d=t.readInt(!0);g.push(d);for(var f=0;f<d;f++)g.push(t.readInt(!0)),u.push(t.readFloat()*v),u.push(t.readFloat()*v),u.push(t.readFloat())}return i.vertices=o.Utils.toFloatArray(u),i.bones=g,i},a.prototype.readFloatArray=function(t,n,l){var i=new Array(n);if(l==1)for(var v=0;v<n;v++)i[v]=t.readFloat();else for(var v=0;v<n;v++)i[v]=t.readFloat()*l;return i},a.prototype.readShortArray=function(t){for(var n=t.readInt(!0),l=new Array(n),i=0;i<n;i++)l[i]=t.readShort();return l},a.prototype.readAnimation=function(t,n,l){for(var i=new Array,v=this.scale,u=0,g=new o.Color,h=new o.Color,d=0,f=t.readInt(!0);d<f;d++)for(var y=t.readInt(!0),M=0,x=t.readInt(!0);M<x;M++){var P=t.readByte(),R=t.readInt(!0);switch(P){case a.SLOT_ATTACHMENT:{var I=new o.AttachmentTimeline(R);I.slotIndex=y;for(var w=0;w<R;w++)I.setFrame(w,t.readFloat(),t.readStringRef());i.push(I),u=Math.max(u,I.frames[R-1]);break}case a.SLOT_COLOR:{var I=new o.ColorTimeline(R);I.slotIndex=y;for(var w=0;w<R;w++){var s=t.readFloat();o.Color.rgba8888ToColor(g,t.readInt32()),I.setFrame(w,s,g.r,g.g,g.b,g.a),w<R-1&&this.readCurve(t,w,I)}i.push(I),u=Math.max(u,I.frames[(R-1)*o.ColorTimeline.ENTRIES]);break}case a.SLOT_TWO_COLOR:{var I=new o.TwoColorTimeline(R);I.slotIndex=y;for(var w=0;w<R;w++){var s=t.readFloat();o.Color.rgba8888ToColor(g,t.readInt32()),o.Color.rgb888ToColor(h,t.readInt32()),I.setFrame(w,s,g.r,g.g,g.b,g.a,h.r,h.g,h.b),w<R-1&&this.readCurve(t,w,I)}i.push(I),u=Math.max(u,I.frames[(R-1)*o.TwoColorTimeline.ENTRIES]);break}}}for(var d=0,f=t.readInt(!0);d<f;d++)for(var E=t.readInt(!0),M=0,x=t.readInt(!0);M<x;M++){var P=t.readByte(),R=t.readInt(!0);switch(P){case a.BONE_ROTATE:{var I=new o.RotateTimeline(R);I.boneIndex=E;for(var w=0;w<R;w++)I.setFrame(w,t.readFloat(),t.readFloat()),w<R-1&&this.readCurve(t,w,I);i.push(I),u=Math.max(u,I.frames[(R-1)*o.RotateTimeline.ENTRIES]);break}case a.BONE_TRANSLATE:case a.BONE_SCALE:case a.BONE_SHEAR:{var I=void 0,C=1;P==a.BONE_SCALE?I=new o.ScaleTimeline(R):P==a.BONE_SHEAR?I=new o.ShearTimeline(R):(I=new o.TranslateTimeline(R),C=v),I.boneIndex=E;for(var w=0;w<R;w++)I.setFrame(w,t.readFloat(),t.readFloat()*C,t.readFloat()*C),w<R-1&&this.readCurve(t,w,I);i.push(I),u=Math.max(u,I.frames[(R-1)*o.TranslateTimeline.ENTRIES]);break}}}for(var d=0,f=t.readInt(!0);d<f;d++){var S=t.readInt(!0),R=t.readInt(!0),I=new o.IkConstraintTimeline(R);I.ikConstraintIndex=S;for(var w=0;w<R;w++)I.setFrame(w,t.readFloat(),t.readFloat(),t.readFloat()*v,t.readByte(),t.readBoolean(),t.readBoolean()),w<R-1&&this.readCurve(t,w,I);i.push(I),u=Math.max(u,I.frames[(R-1)*o.IkConstraintTimeline.ENTRIES])}for(var d=0,f=t.readInt(!0);d<f;d++){var S=t.readInt(!0),R=t.readInt(!0),I=new o.TransformConstraintTimeline(R);I.transformConstraintIndex=S;for(var w=0;w<R;w++)I.setFrame(w,t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat()),w<R-1&&this.readCurve(t,w,I);i.push(I),u=Math.max(u,I.frames[(R-1)*o.TransformConstraintTimeline.ENTRIES])}for(var d=0,f=t.readInt(!0);d<f;d++)for(var S=t.readInt(!0),k=l.pathConstraints[S],M=0,x=t.readInt(!0);M<x;M++){var P=t.readByte(),R=t.readInt(!0);switch(P){case a.PATH_POSITION:case a.PATH_SPACING:{var I=void 0,C=1;P==a.PATH_SPACING?(I=new o.PathConstraintSpacingTimeline(R),(k.spacingMode==o.SpacingMode.Length||k.spacingMode==o.SpacingMode.Fixed)&&(C=v)):(I=new o.PathConstraintPositionTimeline(R),k.positionMode==o.PositionMode.Fixed&&(C=v)),I.pathConstraintIndex=S;for(var w=0;w<R;w++)I.setFrame(w,t.readFloat(),t.readFloat()*C),w<R-1&&this.readCurve(t,w,I);i.push(I),u=Math.max(u,I.frames[(R-1)*o.PathConstraintPositionTimeline.ENTRIES]);break}case a.PATH_MIX:{var I=new o.PathConstraintMixTimeline(R);I.pathConstraintIndex=S;for(var w=0;w<R;w++)I.setFrame(w,t.readFloat(),t.readFloat(),t.readFloat()),w<R-1&&this.readCurve(t,w,I);i.push(I),u=Math.max(u,I.frames[(R-1)*o.PathConstraintMixTimeline.ENTRIES]);break}}}for(var d=0,f=t.readInt(!0);d<f;d++)for(var A=l.skins[t.readInt(!0)],M=0,x=t.readInt(!0);M<x;M++)for(var y=t.readInt(!0),V=0,N=t.readInt(!0);V<N;V++){var T=A.getAttachment(y,t.readStringRef()),c=T.bones!=null,p=T.vertices,U=c?p.length/3*2:p.length,R=t.readInt(!0),I=new o.DeformTimeline(R);I.slotIndex=y,I.attachment=T;for(var w=0;w<R;w++){var s=t.readFloat(),b=void 0,Y=t.readInt(!0);if(Y==0)b=c?o.Utils.newFloatArray(U):p;else{b=o.Utils.newFloatArray(U);var D=t.readInt(!0);if(Y+=D,v==1)for(var O=D;O<Y;O++)b[O]=t.readFloat();else for(var O=D;O<Y;O++)b[O]=t.readFloat()*v;if(!c)for(var O=0,B=b.length;O<B;O++)b[O]+=p[O]}I.setFrame(w,s,b),w<R-1&&this.readCurve(t,w,I)}i.push(I),u=Math.max(u,I.frames[R-1])}var X=t.readInt(!0);if(X>0){for(var I=new o.DrawOrderTimeline(X),W=l.slots.length,d=0;d<X;d++){for(var s=t.readFloat(),F=t.readInt(!0),_=o.Utils.newArray(W,0),M=W-1;M>=0;M--)_[M]=-1;for(var q=o.Utils.newArray(W-F,0),H=0,Z=0,M=0;M<F;M++){for(var y=t.readInt(!0);H!=y;)q[Z++]=H++;_[H+t.readInt(!0)]=H++}for(;H<W;)q[Z++]=H++;for(var M=W-1;M>=0;M--)_[M]==-1&&(_[M]=q[--Z]);I.setFrame(d,s,_)}i.push(I),u=Math.max(u,I.frames[X-1])}var j=t.readInt(!0);if(j>0){for(var I=new o.EventTimeline(j),d=0;d<j;d++){var s=t.readFloat(),K=l.events[t.readInt(!0)],G=new o.Event(s,K);G.intValue=t.readInt(!1),G.floatValue=t.readFloat(),G.stringValue=t.readBoolean()?t.readString():K.stringValue,G.data.audioPath!=null&&(G.volume=t.readFloat(),G.balance=t.readFloat()),I.setFrame(d,G)}i.push(I),u=Math.max(u,I.frames[j-1])}return new o.Animation(n,i,u)},a.prototype.readCurve=function(t,n,l){switch(t.readByte()){case a.CURVE_STEPPED:l.setStepped(n);break;case a.CURVE_BEZIER:this.setCurve(l,n,t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat());break}},a.prototype.setCurve=function(t,n,l,i,v,u){t.setCurve(n,l,i,v,u)},a.AttachmentTypeValues=[0,1,2,3,4,5,6],a.TransformModeValues=[o.TransformMode.Normal,o.TransformMode.OnlyTranslation,o.TransformMode.NoRotationOrReflection,o.TransformMode.NoScale,o.TransformMode.NoScaleOrReflection],a.PositionModeValues=[o.PositionMode.Fixed,o.PositionMode.Percent],a.SpacingModeValues=[o.SpacingMode.Length,o.SpacingMode.Fixed,o.SpacingMode.Percent],a.RotateModeValues=[o.RotateMode.Tangent,o.RotateMode.Chain,o.RotateMode.ChainScale],a.BlendModeValues=[o.BlendMode.Normal,o.BlendMode.Additive,o.BlendMode.Multiply,o.BlendMode.Screen],a.BONE_ROTATE=0,a.BONE_TRANSLATE=1,a.BONE_SCALE=2,a.BONE_SHEAR=3,a.SLOT_ATTACHMENT=0,a.SLOT_COLOR=1,a.SLOT_TWO_COLOR=2,a.PATH_POSITION=0,a.PATH_SPACING=1,a.PATH_MIX=2,a.CURVE_LINEAR=0,a.CURVE_STEPPED=1,a.CURVE_BEZIER=2,a}();o.SkeletonBinary=L;var m=function(){function a(t,n,l,i){n===void 0&&(n=new Array),l===void 0&&(l=0),i===void 0&&(i=new DataView(t.buffer)),this.strings=n,this.index=l,this.buffer=i}return a.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},a.prototype.readShort=function(){var t=this.buffer.getInt16(this.index);return this.index+=2,t},a.prototype.readInt32=function(){var t=this.buffer.getInt32(this.index);return this.index+=4,t},a.prototype.readInt=function(t){var n=this.readByte(),l=n&127;return(n&128)!=0&&(n=this.readByte(),l|=(n&127)<<7,(n&128)!=0&&(n=this.readByte(),l|=(n&127)<<14,(n&128)!=0&&(n=this.readByte(),l|=(n&127)<<21,(n&128)!=0&&(n=this.readByte(),l|=(n&127)<<28)))),t?l:l>>>1^-(l&1)},a.prototype.readStringRef=function(){var t=this.readInt(!0);return t==0?null:this.strings[t-1]},a.prototype.readString=function(){var t=this.readInt(!0);switch(t){case 0:return null;case 1:return""}t--;for(var n="",l=0,i=0;i<t;){var v=this.readByte();switch(v>>4){case 12:case 13:n+=String.fromCharCode((v&31)<<6|this.readByte()&63),i+=2;break;case 14:n+=String.fromCharCode((v&15)<<12|(this.readByte()&63)<<6|this.readByte()&63),i+=3;break;default:n+=String.fromCharCode(v),i++}}return n},a.prototype.readFloat=function(){var t=this.buffer.getFloat32(this.index);return this.index+=4,t},a.prototype.readBoolean=function(){return this.readByte()!=0},a}(),e=function(){function a(t,n,l,i,v){this.mesh=t,this.skin=n,this.slotIndex=l,this.parent=i,this.inheritDeform=v}return a}(),r=function(){function a(t,n){t===void 0&&(t=null),n===void 0&&(n=null),this.bones=t,this.vertices=n}return a}()})(spine||(spine={}));var spine;(function(o){var L=function(){function m(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new o.Pool(function(){return o.Utils.newFloatArray(16)})}return m.prototype.update=function(e,r){if(e==null)throw new Error("skeleton cannot be null.");var a=this.boundingBoxes,t=this.polygons,n=this.polygonPool,l=e.slots,i=l.length;a.length=0,n.freeAll(t),t.length=0;for(var v=0;v<i;v++){var u=l[v];if(!!u.bone.active){var g=u.getAttachment();if(g instanceof o.BoundingBoxAttachment){var h=g;a.push(h);var d=n.obtain();d.length!=h.worldVerticesLength&&(d=o.Utils.newFloatArray(h.worldVerticesLength)),t.push(d),h.computeWorldVertices(u,0,h.worldVerticesLength,d,0,2)}}}r?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},m.prototype.aabbCompute=function(){for(var e=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,t=Number.NEGATIVE_INFINITY,n=this.polygons,l=0,i=n.length;l<i;l++)for(var v=n[l],u=v,g=0,h=v.length;g<h;g+=2){var d=u[g],f=u[g+1];e=Math.min(e,d),r=Math.min(r,f),a=Math.max(a,d),t=Math.max(t,f)}this.minX=e,this.minY=r,this.maxX=a,this.maxY=t},m.prototype.aabbContainsPoint=function(e,r){return e>=this.minX&&e<=this.maxX&&r>=this.minY&&r<=this.maxY},m.prototype.aabbIntersectsSegment=function(e,r,a,t){var n=this.minX,l=this.minY,i=this.maxX,v=this.maxY;if(e<=n&&a<=n||r<=l&&t<=l||e>=i&&a>=i||r>=v&&t>=v)return!1;var u=(t-r)/(a-e),g=u*(n-e)+r;if(g>l&&g<v||(g=u*(i-e)+r,g>l&&g<v))return!0;var h=(l-r)/u+e;return!!(h>n&&h<i||(h=(v-r)/u+e,h>n&&h<i))},m.prototype.aabbIntersectsSkeleton=function(e){return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY},m.prototype.containsPoint=function(e,r){for(var a=this.polygons,t=0,n=a.length;t<n;t++)if(this.containsPointPolygon(a[t],e,r))return this.boundingBoxes[t];return null},m.prototype.containsPointPolygon=function(e,r,a){for(var t=e,n=e.length,l=n-2,i=!1,v=0;v<n;v+=2){var u=t[v+1],g=t[l+1];if(u<a&&g>=a||g<a&&u>=a){var h=t[v];h+(a-u)/(g-u)*(t[l]-h)<r&&(i=!i)}l=v}return i},m.prototype.intersectsSegment=function(e,r,a,t){for(var n=this.polygons,l=0,i=n.length;l<i;l++)if(this.intersectsSegmentPolygon(n[l],e,r,a,t))return this.boundingBoxes[l];return null},m.prototype.intersectsSegmentPolygon=function(e,r,a,t,n){for(var l=e,i=e.length,v=r-t,u=a-n,g=r*n-a*t,h=l[i-2],d=l[i-1],f=0;f<i;f+=2){var y=l[f],M=l[f+1],x=h*M-d*y,P=h-y,R=d-M,I=v*R-u*P,w=(g*P-v*x)/I;if((w>=h&&w<=y||w>=y&&w<=h)&&(w>=r&&w<=t||w>=t&&w<=r)){var s=(g*R-u*x)/I;if((s>=d&&s<=M||s>=M&&s<=d)&&(s>=a&&s<=n||s>=n&&s<=a))return!0}h=y,d=M}return!1},m.prototype.getPolygon=function(e){if(e==null)throw new Error("boundingBox cannot be null.");var r=this.boundingBoxes.indexOf(e);return r==-1?null:this.polygons[r]},m.prototype.getWidth=function(){return this.maxX-this.minX},m.prototype.getHeight=function(){return this.maxY-this.minY},m}();o.SkeletonBounds=L})(spine||(spine={}));var spine;(function(o){var L=function(){function m(){this.triangulator=new o.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array}return m.prototype.clipStart=function(e,r){if(this.clipAttachment!=null)return 0;this.clipAttachment=r;var a=r.worldVerticesLength,t=o.Utils.setArraySize(this.clippingPolygon,a);r.computeWorldVertices(e,0,a,t,0,2);var n=this.clippingPolygon;m.makeClockwise(n);for(var l=this.clippingPolygons=this.triangulator.decompose(n,this.triangulator.triangulate(n)),i=0,v=l.length;i<v;i++){var u=l[i];m.makeClockwise(u),u.push(u[0]),u.push(u[1])}return l.length},m.prototype.clipEndWithSlot=function(e){this.clipAttachment!=null&&this.clipAttachment.endSlot==e.data&&this.clipEnd()},m.prototype.clipEnd=function(){this.clipAttachment!=null&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)},m.prototype.isClipping=function(){return this.clipAttachment!=null},m.prototype.clipTriangles=function(e,r,a,t,n,l,i,v){var u=this.clipOutput,g=this.clippedVertices,h=this.clippedTriangles,d=this.clippingPolygons,f=this.clippingPolygons.length,y=v?12:8,M=0;g.length=0,h.length=0;t:for(var x=0;x<t;x+=3){var P=a[x]<<1,R=e[P],I=e[P+1],w=n[P],s=n[P+1];P=a[x+1]<<1;var E=e[P],C=e[P+1],S=n[P],k=n[P+1];P=a[x+2]<<1;for(var A=e[P],V=e[P+1],N=n[P],T=n[P+1],c=0;c<f;c++){var p=g.length;if(this.clip(R,I,E,C,A,V,d[c],u)){var U=u.length;if(U==0)continue;for(var b=C-V,Y=A-E,D=R-A,O=V-I,B=1/(b*D+Y*(I-V)),X=U>>1,W=this.clipOutput,F=o.Utils.setArraySize(g,p+X*y),_=0;_<U;_+=2){var q=W[_],H=W[_+1];F[p]=q,F[p+1]=H,F[p+2]=l.r,F[p+3]=l.g,F[p+4]=l.b,F[p+5]=l.a;var Z=q-A,j=H-V,K=(b*Z+Y*j)*B,G=(O*Z+D*j)*B,z=1-K-G;F[p+6]=w*K+S*G+N*z,F[p+7]=s*K+k*G+T*z,v&&(F[p+8]=i.r,F[p+9]=i.g,F[p+10]=i.b,F[p+11]=i.a),p+=y}p=h.length;var J=o.Utils.setArraySize(h,p+3*(X-2));X--;for(var _=1;_<X;_++)J[p]=M,J[p+1]=M+_,J[p+2]=M+_+1,p+=3;M+=X+1}else{var F=o.Utils.setArraySize(g,p+3*y);F[p]=R,F[p+1]=I,F[p+2]=l.r,F[p+3]=l.g,F[p+4]=l.b,F[p+5]=l.a,v?(F[p+6]=w,F[p+7]=s,F[p+8]=i.r,F[p+9]=i.g,F[p+10]=i.b,F[p+11]=i.a,F[p+12]=E,F[p+13]=C,F[p+14]=l.r,F[p+15]=l.g,F[p+16]=l.b,F[p+17]=l.a,F[p+18]=S,F[p+19]=k,F[p+20]=i.r,F[p+21]=i.g,F[p+22]=i.b,F[p+23]=i.a,F[p+24]=A,F[p+25]=V,F[p+26]=l.r,F[p+27]=l.g,F[p+28]=l.b,F[p+29]=l.a,F[p+30]=N,F[p+31]=T,F[p+32]=i.r,F[p+33]=i.g,F[p+34]=i.b,F[p+35]=i.a):(F[p+6]=w,F[p+7]=s,F[p+8]=E,F[p+9]=C,F[p+10]=l.r,F[p+11]=l.g,F[p+12]=l.b,F[p+13]=l.a,F[p+14]=S,F[p+15]=k,F[p+16]=A,F[p+17]=V,F[p+18]=l.r,F[p+19]=l.g,F[p+20]=l.b,F[p+21]=l.a,F[p+22]=N,F[p+23]=T),p=h.length;var J=o.Utils.setArraySize(h,p+3);J[p]=M,J[p+1]=M+1,J[p+2]=M+2,M+=3;continue t}}}},m.prototype.clip=function(e,r,a,t,n,l,i,v){var u=v,g=!1,h=null;i.length%4>=2?(h=v,v=this.scratch):h=this.scratch,h.length=0,h.push(e),h.push(r),h.push(a),h.push(t),h.push(n),h.push(l),h.push(e),h.push(r),v.length=0;for(var d=i,f=i.length-4,y=0;;y+=2){for(var M=d[y],x=d[y+1],P=d[y+2],R=d[y+3],I=M-P,w=x-R,s=h,E=h.length-2,C=v.length,S=0;S<E;S+=2){var k=s[S],A=s[S+1],V=s[S+2],N=s[S+3],T=I*(N-R)-w*(V-P)>0;if(I*(A-R)-w*(k-P)>0){if(T){v.push(V),v.push(N);continue}var c=N-A,p=V-k,U=c*(P-M)-p*(R-x);if(Math.abs(U)>1e-6){var b=(p*(x-A)-c*(M-k))/U;v.push(M+(P-M)*b),v.push(x+(R-x)*b)}else v.push(M),v.push(x)}else if(T){var c=N-A,p=V-k,U=c*(P-M)-p*(R-x);if(Math.abs(U)>1e-6){var b=(p*(x-A)-c*(M-k))/U;v.push(M+(P-M)*b),v.push(x+(R-x)*b)}else v.push(M),v.push(x);v.push(V),v.push(N)}g=!0}if(C==v.length)return u.length=0,!0;if(v.push(v[0]),v.push(v[1]),y==f)break;var Y=v;v=h,v.length=0,h=Y}if(u!=v){u.length=0;for(var y=0,D=v.length-2;y<D;y++)u[y]=v[y]}else u.length=u.length-2;return g},m.makeClockwise=function(e){for(var r=e,a=e.length,t=r[a-2]*r[1]-r[0]*r[a-1],n=0,l=0,i=0,v=0,u=0,g=a-3;u<g;u+=2)n=r[u],l=r[u+1],i=r[u+2],v=r[u+3],t+=n*v-i*l;if(!(t<0))for(var u=0,h=a-2,g=a>>1;u<g;u+=2){var d=r[u],f=r[u+1],y=h-u;r[u]=r[y],r[u+1]=r[y+1],r[y]=d,r[y+1]=f}},m}();o.SkeletonClipping=L})(spine||(spine={}));var spine;(function(o){var L=function(){function m(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return m.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,a=0,t=r.length;a<t;a++){var n=r[a];if(n.name==e)return n}return null},m.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,a=0,t=r.length;a<t;a++)if(r[a].name==e)return a;return-1},m.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,a=0,t=r.length;a<t;a++){var n=r[a];if(n.name==e)return n}return null},m.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,a=0,t=r.length;a<t;a++)if(r[a].name==e)return a;return-1},m.prototype.findSkin=function(e){if(e==null)throw new Error("skinName cannot be null.");for(var r=this.skins,a=0,t=r.length;a<t;a++){var n=r[a];if(n.name==e)return n}return null},m.prototype.findEvent=function(e){if(e==null)throw new Error("eventDataName cannot be null.");for(var r=this.events,a=0,t=r.length;a<t;a++){var n=r[a];if(n.name==e)return n}return null},m.prototype.findAnimation=function(e){if(e==null)throw new Error("animationName cannot be null.");for(var r=this.animations,a=0,t=r.length;a<t;a++){var n=r[a];if(n.name==e)return n}return null},m.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,a=0,t=r.length;a<t;a++){var n=r[a];if(n.name==e)return n}return null},m.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,a=0,t=r.length;a<t;a++){var n=r[a];if(n.name==e)return n}return null},m.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,a=0,t=r.length;a<t;a++){var n=r[a];if(n.name==e)return n}return null},m.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,a=0,t=r.length;a<t;a++)if(r[a].name==e)return a;return-1},m}();o.SkeletonData=L})(spine||(spine={}));var spine;(function(o){var L=function(){function e(r){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=r}return e.prototype.readSkeletonData=function(r){var a=this.scale,t=new o.SkeletonData,n=typeof r=="string"?JSON.parse(r):r,l=n.skeleton;if(l!=null){if(t.hash=l.hash,t.version=l.spine,t.version=="3.8.75")throw new Error("Unsupported skeleton data, please export with a newer version of Spine.");t.x=l.x,t.y=l.y,t.width=l.width,t.height=l.height,t.fps=l.fps,t.imagesPath=l.images}if(n.bones)for(var i=0;i<n.bones.length;i++){var v=n.bones[i],u=null,g=this.getValue(v,"parent",null);if(g!=null&&(u=t.findBone(g),u==null))throw new Error("Parent bone not found: "+g);var h=new o.BoneData(t.bones.length,v.name,u);h.length=this.getValue(v,"length",0)*a,h.x=this.getValue(v,"x",0)*a,h.y=this.getValue(v,"y",0)*a,h.rotation=this.getValue(v,"rotation",0),h.scaleX=this.getValue(v,"scaleX",1),h.scaleY=this.getValue(v,"scaleY",1),h.shearX=this.getValue(v,"shearX",0),h.shearY=this.getValue(v,"shearY",0),h.transformMode=e.transformModeFromString(this.getValue(v,"transform","normal")),h.skinRequired=this.getValue(v,"skin",!1),t.bones.push(h)}if(n.slots)for(var i=0;i<n.slots.length;i++){var d=n.slots[i],f=d.name,y=d.bone,M=t.findBone(y);if(M==null)throw new Error("Slot bone not found: "+y);var h=new o.SlotData(t.slots.length,f,M),x=this.getValue(d,"color",null);x!=null&&h.color.setFromString(x);var P=this.getValue(d,"dark",null);P!=null&&(h.darkColor=new o.Color(1,1,1,1),h.darkColor.setFromString(P)),h.attachmentName=this.getValue(d,"attachment",null),h.blendMode=e.blendModeFromString(this.getValue(d,"blend","normal")),t.slots.push(h)}if(n.ik)for(var i=0;i<n.ik.length;i++){var R=n.ik[i],h=new o.IkConstraintData(R.name);h.order=this.getValue(R,"order",0),h.skinRequired=this.getValue(R,"skin",!1);for(var I=0;I<R.bones.length;I++){var y=R.bones[I],w=t.findBone(y);if(w==null)throw new Error("IK bone not found: "+y);h.bones.push(w)}var s=R.target;if(h.target=t.findBone(s),h.target==null)throw new Error("IK target bone not found: "+s);h.mix=this.getValue(R,"mix",1),h.softness=this.getValue(R,"softness",0)*a,h.bendDirection=this.getValue(R,"bendPositive",!0)?1:-1,h.compress=this.getValue(R,"compress",!1),h.stretch=this.getValue(R,"stretch",!1),h.uniform=this.getValue(R,"uniform",!1),t.ikConstraints.push(h)}if(n.transform)for(var i=0;i<n.transform.length;i++){var R=n.transform[i],h=new o.TransformConstraintData(R.name);h.order=this.getValue(R,"order",0),h.skinRequired=this.getValue(R,"skin",!1);for(var I=0;I<R.bones.length;I++){var y=R.bones[I],w=t.findBone(y);if(w==null)throw new Error("Transform constraint bone not found: "+y);h.bones.push(w)}var s=R.target;if(h.target=t.findBone(s),h.target==null)throw new Error("Transform constraint target bone not found: "+s);h.local=this.getValue(R,"local",!1),h.relative=this.getValue(R,"relative",!1),h.offsetRotation=this.getValue(R,"rotation",0),h.offsetX=this.getValue(R,"x",0)*a,h.offsetY=this.getValue(R,"y",0)*a,h.offsetScaleX=this.getValue(R,"scaleX",0),h.offsetScaleY=this.getValue(R,"scaleY",0),h.offsetShearY=this.getValue(R,"shearY",0),h.rotateMix=this.getValue(R,"rotateMix",1),h.translateMix=this.getValue(R,"translateMix",1),h.scaleMix=this.getValue(R,"scaleMix",1),h.shearMix=this.getValue(R,"shearMix",1),t.transformConstraints.push(h)}if(n.path)for(var i=0;i<n.path.length;i++){var R=n.path[i],h=new o.PathConstraintData(R.name);h.order=this.getValue(R,"order",0),h.skinRequired=this.getValue(R,"skin",!1);for(var I=0;I<R.bones.length;I++){var y=R.bones[I],w=t.findBone(y);if(w==null)throw new Error("Transform constraint bone not found: "+y);h.bones.push(w)}var s=R.target;if(h.target=t.findSlot(s),h.target==null)throw new Error("Path target slot not found: "+s);h.positionMode=e.positionModeFromString(this.getValue(R,"positionMode","percent")),h.spacingMode=e.spacingModeFromString(this.getValue(R,"spacingMode","length")),h.rotateMode=e.rotateModeFromString(this.getValue(R,"rotateMode","tangent")),h.offsetRotation=this.getValue(R,"rotation",0),h.position=this.getValue(R,"position",0),h.positionMode==o.PositionMode.Fixed&&(h.position*=a),h.spacing=this.getValue(R,"spacing",0),(h.spacingMode==o.SpacingMode.Length||h.spacingMode==o.SpacingMode.Fixed)&&(h.spacing*=a),h.rotateMix=this.getValue(R,"rotateMix",1),h.translateMix=this.getValue(R,"translateMix",1),t.pathConstraints.push(h)}if(n.skins)for(var i=0;i<n.skins.length;i++){var E=n.skins[i],C=new o.Skin(E.name);if(E.bones)for(var S=0;S<E.bones.length;S++){var w=t.findBone(E.bones[S]);if(w==null)throw new Error("Skin bone not found: "+E.bones[i]);C.bones.push(w)}if(E.ik)for(var S=0;S<E.ik.length;S++){var k=t.findIkConstraint(E.ik[S]);if(k==null)throw new Error("Skin IK constraint not found: "+E.ik[i]);C.constraints.push(k)}if(E.transform)for(var S=0;S<E.transform.length;S++){var k=t.findTransformConstraint(E.transform[S]);if(k==null)throw new Error("Skin transform constraint not found: "+E.transform[i]);C.constraints.push(k)}if(E.path)for(var S=0;S<E.path.length;S++){var k=t.findPathConstraint(E.path[S]);if(k==null)throw new Error("Skin path constraint not found: "+E.path[i]);C.constraints.push(k)}for(var f in E.attachments){var A=t.findSlot(f);if(A==null)throw new Error("Slot not found: "+f);var d=E.attachments[f];for(var V in d){var N=this.readAttachment(d[V],C,A.index,V,t);N!=null&&C.setAttachment(A.index,V,N)}}t.skins.push(C),C.name=="default"&&(t.defaultSkin=C)}for(var i=0,T=this.linkedMeshes.length;i<T;i++){var c=this.linkedMeshes[i],C=c.skin==null?t.defaultSkin:t.findSkin(c.skin);if(C==null)throw new Error("Skin not found: "+c.skin);var p=C.getAttachment(c.slotIndex,c.parent);if(p==null)throw new Error("Parent mesh not found: "+c.parent);c.mesh.deformAttachment=c.inheritDeform?p:c.mesh,c.mesh.setParentMesh(p),c.mesh.updateUVs()}if(this.linkedMeshes.length=0,n.events)for(var U in n.events){var b=n.events[U],h=new o.EventData(U);h.intValue=this.getValue(b,"int",0),h.floatValue=this.getValue(b,"float",0),h.stringValue=this.getValue(b,"string",""),h.audioPath=this.getValue(b,"audio",null),h.audioPath!=null&&(h.volume=this.getValue(b,"volume",1),h.balance=this.getValue(b,"balance",0)),t.events.push(h)}if(n.animations)for(var Y in n.animations){var D=n.animations[Y];this.readAnimation(D,Y,t)}return t},e.prototype.readAttachment=function(r,a,t,n,l){var i=this.scale;n=this.getValue(r,"name",n);var v=this.getValue(r,"type","region");switch(v){case"region":{var u=this.getValue(r,"path",n),g=this.attachmentLoader.newRegionAttachment(a,n,u);if(g==null)return null;g.path=u,g.x=this.getValue(r,"x",0)*i,g.y=this.getValue(r,"y",0)*i,g.scaleX=this.getValue(r,"scaleX",1),g.scaleY=this.getValue(r,"scaleY",1),g.rotation=this.getValue(r,"rotation",0),g.width=r.width*i,g.height=r.height*i;var h=this.getValue(r,"color",null);return h!=null&&g.color.setFromString(h),g.updateOffset(),g}case"boundingbox":{var d=this.attachmentLoader.newBoundingBoxAttachment(a,n);if(d==null)return null;this.readVertices(r,d,r.vertexCount<<1);var h=this.getValue(r,"color",null);return h!=null&&d.color.setFromString(h),d}case"mesh":case"linkedmesh":{var u=this.getValue(r,"path",n),f=this.attachmentLoader.newMeshAttachment(a,n,u);if(f==null)return null;f.path=u;var h=this.getValue(r,"color",null);h!=null&&f.color.setFromString(h),f.width=this.getValue(r,"width",0)*i,f.height=this.getValue(r,"height",0)*i;var y=this.getValue(r,"parent",null);if(y!=null)return this.linkedMeshes.push(new m(f,this.getValue(r,"skin",null),t,y,this.getValue(r,"deform",!0))),f;var M=r.uvs;return this.readVertices(r,f,M.length),f.triangles=r.triangles,f.regionUVs=M,f.updateUVs(),f.edges=this.getValue(r,"edges",null),f.hullLength=this.getValue(r,"hull",0)*2,f}case"path":{var u=this.attachmentLoader.newPathAttachment(a,n);if(u==null)return null;u.closed=this.getValue(r,"closed",!1),u.constantSpeed=this.getValue(r,"constantSpeed",!0);var x=r.vertexCount;this.readVertices(r,u,x<<1);for(var P=o.Utils.newArray(x/3,0),R=0;R<r.lengths.length;R++)P[R]=r.lengths[R]*i;u.lengths=P;var h=this.getValue(r,"color",null);return h!=null&&u.color.setFromString(h),u}case"point":{var I=this.attachmentLoader.newPointAttachment(a,n);if(I==null)return null;I.x=this.getValue(r,"x",0)*i,I.y=this.getValue(r,"y",0)*i,I.rotation=this.getValue(r,"rotation",0);var h=this.getValue(r,"color",null);return h!=null&&I.color.setFromString(h),I}case"clipping":{var w=this.attachmentLoader.newClippingAttachment(a,n);if(w==null)return null;var s=this.getValue(r,"end",null);if(s!=null){var E=l.findSlot(s);if(E==null)throw new Error("Clipping end slot not found: "+s);w.endSlot=E}var x=r.vertexCount;this.readVertices(r,w,x<<1);var h=this.getValue(r,"color",null);return h!=null&&w.color.setFromString(h),w}}return null},e.prototype.readVertices=function(r,a,t){var n=this.scale;a.worldVerticesLength=t;var l=r.vertices;if(t==l.length){var i=o.Utils.toFloatArray(l);if(n!=1)for(var v=0,u=l.length;v<u;v++)i[v]*=n;a.vertices=i;return}for(var g=new Array,h=new Array,v=0,u=l.length;v<u;){var d=l[v++];h.push(d);for(var f=v+d*4;v<f;v+=4)h.push(l[v]),g.push(l[v+1]*n),g.push(l[v+2]*n),g.push(l[v+3])}a.bones=h,a.vertices=o.Utils.toFloatArray(g)},e.prototype.readAnimation=function(r,a,t){var n=this.scale,l=new Array,i=0;if(r.slots)for(var v in r.slots){var u=r.slots[v],g=t.findSlotIndex(v);if(g==-1)throw new Error("Slot not found: "+v);for(var h in u){var d=u[h];if(h=="attachment"){var f=new o.AttachmentTimeline(d.length);f.slotIndex=g;for(var y=0,M=0;M<d.length;M++){var x=d[M];f.setFrame(y++,this.getValue(x,"time",0),x.name)}l.push(f),i=Math.max(i,f.frames[f.getFrameCount()-1])}else if(h=="color"){var f=new o.ColorTimeline(d.length);f.slotIndex=g;for(var y=0,M=0;M<d.length;M++){var x=d[M],P=new o.Color;P.setFromString(x.color),f.setFrame(y,this.getValue(x,"time",0),P.r,P.g,P.b,P.a),this.readCurve(x,f,y),y++}l.push(f),i=Math.max(i,f.frames[(f.getFrameCount()-1)*o.ColorTimeline.ENTRIES])}else if(h=="twoColor"){var f=new o.TwoColorTimeline(d.length);f.slotIndex=g;for(var y=0,M=0;M<d.length;M++){var x=d[M],R=new o.Color,I=new o.Color;R.setFromString(x.light),I.setFromString(x.dark),f.setFrame(y,this.getValue(x,"time",0),R.r,R.g,R.b,R.a,I.r,I.g,I.b),this.readCurve(x,f,y),y++}l.push(f),i=Math.max(i,f.frames[(f.getFrameCount()-1)*o.TwoColorTimeline.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+h+" ("+v+")")}}if(r.bones)for(var w in r.bones){var s=r.bones[w],E=t.findBoneIndex(w);if(E==-1)throw new Error("Bone not found: "+w);for(var h in s){var d=s[h];if(h==="rotate"){var f=new o.RotateTimeline(d.length);f.boneIndex=E;for(var y=0,M=0;M<d.length;M++){var x=d[M];f.setFrame(y,this.getValue(x,"time",0),this.getValue(x,"angle",0)),this.readCurve(x,f,y),y++}l.push(f),i=Math.max(i,f.frames[(f.getFrameCount()-1)*o.RotateTimeline.ENTRIES])}else if(h==="translate"||h==="scale"||h==="shear"){var f=null,C=1,S=0;h==="scale"?(f=new o.ScaleTimeline(d.length),S=1):h==="shear"?f=new o.ShearTimeline(d.length):(f=new o.TranslateTimeline(d.length),C=n),f.boneIndex=E;for(var y=0,M=0;M<d.length;M++){var x=d[M],k=this.getValue(x,"x",S),A=this.getValue(x,"y",S);f.setFrame(y,this.getValue(x,"time",0),k*C,A*C),this.readCurve(x,f,y),y++}l.push(f),i=Math.max(i,f.frames[(f.getFrameCount()-1)*o.TranslateTimeline.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+h+" ("+w+")")}}if(r.ik)for(var V in r.ik){var N=r.ik[V],T=t.findIkConstraint(V),f=new o.IkConstraintTimeline(N.length);f.ikConstraintIndex=t.ikConstraints.indexOf(T);for(var y=0,M=0;M<N.length;M++){var x=N[M];f.setFrame(y,this.getValue(x,"time",0),this.getValue(x,"mix",1),this.getValue(x,"softness",0)*n,this.getValue(x,"bendPositive",!0)?1:-1,this.getValue(x,"compress",!1),this.getValue(x,"stretch",!1)),this.readCurve(x,f,y),y++}l.push(f),i=Math.max(i,f.frames[(f.getFrameCount()-1)*o.IkConstraintTimeline.ENTRIES])}if(r.transform)for(var V in r.transform){var N=r.transform[V],T=t.findTransformConstraint(V),f=new o.TransformConstraintTimeline(N.length);f.transformConstraintIndex=t.transformConstraints.indexOf(T);for(var y=0,M=0;M<N.length;M++){var x=N[M];f.setFrame(y,this.getValue(x,"time",0),this.getValue(x,"rotateMix",1),this.getValue(x,"translateMix",1),this.getValue(x,"scaleMix",1),this.getValue(x,"shearMix",1)),this.readCurve(x,f,y),y++}l.push(f),i=Math.max(i,f.frames[(f.getFrameCount()-1)*o.TransformConstraintTimeline.ENTRIES])}if(r.path)for(var V in r.path){var N=r.path[V],c=t.findPathConstraintIndex(V);if(c==-1)throw new Error("Path constraint not found: "+V);var p=t.pathConstraints[c];for(var h in N){var d=N[h];if(h==="position"||h==="spacing"){var f=null,C=1;h==="spacing"?(f=new o.PathConstraintSpacingTimeline(d.length),(p.spacingMode==o.SpacingMode.Length||p.spacingMode==o.SpacingMode.Fixed)&&(C=n)):(f=new o.PathConstraintPositionTimeline(d.length),p.positionMode==o.PositionMode.Fixed&&(C=n)),f.pathConstraintIndex=c;for(var y=0,M=0;M<d.length;M++){var x=d[M];f.setFrame(y,this.getValue(x,"time",0),this.getValue(x,h,0)*C),this.readCurve(x,f,y),y++}l.push(f),i=Math.max(i,f.frames[(f.getFrameCount()-1)*o.PathConstraintPositionTimeline.ENTRIES])}else if(h==="mix"){var f=new o.PathConstraintMixTimeline(d.length);f.pathConstraintIndex=c;for(var y=0,M=0;M<d.length;M++){var x=d[M];f.setFrame(y,this.getValue(x,"time",0),this.getValue(x,"rotateMix",1),this.getValue(x,"translateMix",1)),this.readCurve(x,f,y),y++}l.push(f),i=Math.max(i,f.frames[(f.getFrameCount()-1)*o.PathConstraintMixTimeline.ENTRIES])}}}if(r.deform)for(var U in r.deform){var b=r.deform[U],Y=t.findSkin(U);if(Y==null)throw new Error("Skin not found: "+U);for(var v in b){var u=b[v],g=t.findSlotIndex(v);if(g==-1)throw new Error("Slot not found: "+u.name);for(var h in u){var d=u[h],D=Y.getAttachment(g,h);if(D==null)throw new Error("Deform attachment not found: "+d.name);var O=D.bones!=null,B=D.vertices,X=O?B.length/3*2:B.length,f=new o.DeformTimeline(d.length);f.slotIndex=g,f.attachment=D;for(var y=0,W=0;W<d.length;W++){var x=d[W],F=void 0,_=this.getValue(x,"vertices",null);if(_==null)F=O?o.Utils.newFloatArray(X):B;else{F=o.Utils.newFloatArray(X);var q=this.getValue(x,"offset",0);if(o.Utils.arrayCopy(_,0,F,q,_.length),n!=1)for(var M=q,H=M+_.length;M<H;M++)F[M]*=n;if(!O)for(var M=0;M<X;M++)F[M]+=B[M]}f.setFrame(y,this.getValue(x,"time",0),F),this.readCurve(x,f,y),y++}l.push(f),i=Math.max(i,f.frames[f.getFrameCount()-1])}}}var Z=r.drawOrder;if(Z==null&&(Z=r.draworder),Z!=null){for(var f=new o.DrawOrderTimeline(Z.length),j=t.slots.length,y=0,W=0;W<Z.length;W++){var K=Z[W],G=null,z=this.getValue(K,"offsets",null);if(z!=null){G=o.Utils.newArray(j,-1);for(var J=o.Utils.newArray(j-z.length,0),at=0,et=0,M=0;M<z.length;M++){var $=z[M],g=t.findSlotIndex($.slot);if(g==-1)throw new Error("Slot not found: "+$.slot);for(;at!=g;)J[et++]=at++;G[at+$.offset]=at++}for(;at<j;)J[et++]=at++;for(var M=j-1;M>=0;M--)G[M]==-1&&(G[M]=J[--et])}f.setFrame(y++,this.getValue(K,"time",0),G)}l.push(f),i=Math.max(i,f.frames[f.getFrameCount()-1])}if(r.events){for(var f=new o.EventTimeline(r.events.length),y=0,M=0;M<r.events.length;M++){var nt=r.events[M],tt=t.findEvent(nt.name);if(tt==null)throw new Error("Event not found: "+nt.name);var rt=new o.Event(o.Utils.toSinglePrecision(this.getValue(nt,"time",0)),tt);rt.intValue=this.getValue(nt,"int",tt.intValue),rt.floatValue=this.getValue(nt,"float",tt.floatValue),rt.stringValue=this.getValue(nt,"string",tt.stringValue),rt.data.audioPath!=null&&(rt.volume=this.getValue(nt,"volume",1),rt.balance=this.getValue(nt,"balance",0)),f.setFrame(y++,rt)}l.push(f),i=Math.max(i,f.frames[f.getFrameCount()-1])}if(isNaN(i))throw new Error("Error while parsing animation, duration is NaN");t.animations.push(new o.Animation(a,l,i))},e.prototype.readCurve=function(r,a,t){if(!!r.hasOwnProperty("curve"))if(r.curve=="stepped")a.setStepped(t);else{var n=r.curve;a.setCurve(t,n,this.getValue(r,"c2",0),this.getValue(r,"c3",1),this.getValue(r,"c4",1))}},e.prototype.getValue=function(r,a,t){return r[a]!==void 0?r[a]:t},e.blendModeFromString=function(r){if(r=r.toLowerCase(),r=="normal")return o.BlendMode.Normal;if(r=="additive")return o.BlendMode.Additive;if(r=="multiply")return o.BlendMode.Multiply;if(r=="screen")return o.BlendMode.Screen;throw new Error("Unknown blend mode: "+r)},e.positionModeFromString=function(r){if(r=r.toLowerCase(),r=="fixed")return o.PositionMode.Fixed;if(r=="percent")return o.PositionMode.Percent;throw new Error("Unknown position mode: "+r)},e.spacingModeFromString=function(r){if(r=r.toLowerCase(),r=="length")return o.SpacingMode.Length;if(r=="fixed")return o.SpacingMode.Fixed;if(r=="percent")return o.SpacingMode.Percent;throw new Error("Unknown position mode: "+r)},e.rotateModeFromString=function(r){if(r=r.toLowerCase(),r=="tangent")return o.RotateMode.Tangent;if(r=="chain")return o.RotateMode.Chain;if(r=="chainscale")return o.RotateMode.ChainScale;throw new Error("Unknown rotate mode: "+r)},e.transformModeFromString=function(r){if(r=r.toLowerCase(),r=="normal")return o.TransformMode.Normal;if(r=="onlytranslation")return o.TransformMode.OnlyTranslation;if(r=="norotationorreflection")return o.TransformMode.NoRotationOrReflection;if(r=="noscale")return o.TransformMode.NoScale;if(r=="noscaleorreflection")return o.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: "+r)},e}();o.SkeletonJson=L;var m=function(){function e(r,a,t,n,l){this.mesh=r,this.skin=a,this.slotIndex=t,this.parent=n,this.inheritDeform=l}return e}()})(spine||(spine={}));var spine;(function(o){var L=function(){function e(r,a,t){this.slotIndex=r,this.name=a,this.attachment=t}return e}();o.SkinEntry=L;var m=function(){function e(r){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,r==null)throw new Error("name cannot be null.");this.name=r}return e.prototype.setAttachment=function(r,a,t){if(t==null)throw new Error("attachment cannot be null.");var n=this.attachments;r>=n.length&&(n.length=r+1),n[r]||(n[r]={}),n[r][a]=t},e.prototype.addSkin=function(r){for(var a=0;a<r.bones.length;a++){for(var t=r.bones[a],n=!1,l=0;l<this.bones.length;l++)if(this.bones[l]==t){n=!0;break}n||this.bones.push(t)}for(var a=0;a<r.constraints.length;a++){for(var i=r.constraints[a],n=!1,l=0;l<this.constraints.length;l++)if(this.constraints[l]==i){n=!0;break}n||this.constraints.push(i)}for(var v=r.getAttachments(),a=0;a<v.length;a++){var u=v[a];this.setAttachment(u.slotIndex,u.name,u.attachment)}},e.prototype.copySkin=function(r){for(var a=0;a<r.bones.length;a++){for(var t=r.bones[a],n=!1,l=0;l<this.bones.length;l++)if(this.bones[l]==t){n=!0;break}n||this.bones.push(t)}for(var a=0;a<r.constraints.length;a++){for(var i=r.constraints[a],n=!1,l=0;l<this.constraints.length;l++)if(this.constraints[l]==i){n=!0;break}n||this.constraints.push(i)}for(var v=r.getAttachments(),a=0;a<v.length;a++){var u=v[a];u.attachment!=null&&(u.attachment instanceof o.MeshAttachment?(u.attachment=u.attachment.newLinkedMesh(),this.setAttachment(u.slotIndex,u.name,u.attachment)):(u.attachment=u.attachment.copy(),this.setAttachment(u.slotIndex,u.name,u.attachment)))}},e.prototype.getAttachment=function(r,a){var t=this.attachments[r];return t?t[a]:null},e.prototype.removeAttachment=function(r,a){var t=this.attachments[r];t&&(t[a]=null)},e.prototype.getAttachments=function(){for(var r=new Array,a=0;a<this.attachments.length;a++){var t=this.attachments[a];if(t)for(var n in t){var l=t[n];l&&r.push(new L(a,n,l))}}return r},e.prototype.getAttachmentsForSlot=function(r,a){var t=this.attachments[r];if(t)for(var n in t){var l=t[n];l&&a.push(new L(r,n,l))}},e.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},e.prototype.attachAll=function(r,a){for(var t=0,n=0;n<r.slots.length;n++){var l=r.slots[n],i=l.getAttachment();if(i&&t<a.attachments.length){var v=a.attachments[t];for(var u in v){var g=v[u];if(i==g){var h=this.getAttachment(t,u);h!=null&&l.setAttachment(h);break}}}t++}},e}();o.Skin=m})(spine||(spine={}));var spine;(function(o){var L=function(){function m(e,r){if(this.deform=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new o.Color,this.darkColor=e.darkColor==null?null:new o.Color,this.setToSetupPose()}return m.prototype.getSkeleton=function(){return this.bone.skeleton},m.prototype.getAttachment=function(){return this.attachment},m.prototype.setAttachment=function(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},m.prototype.setAttachmentTime=function(e){this.attachmentTime=this.bone.skeleton.time-e},m.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},m.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},m}();o.Slot=L})(spine||(spine={}));var spine;(function(o){var L=function(){function m(e,r,a){if(this.color=new o.Color(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");if(a==null)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=a}return m}();o.SlotData=L})(spine||(spine={}));var spine;(function(o){var L=function(){function t(n){this._image=n}return t.prototype.getImage=function(){return this._image},t.filterFromString=function(n){switch(n.toLowerCase()){case"nearest":return m.Nearest;case"linear":return m.Linear;case"mipmap":return m.MipMap;case"mipmapnearestnearest":return m.MipMapNearestNearest;case"mipmaplinearnearest":return m.MipMapLinearNearest;case"mipmapnearestlinear":return m.MipMapNearestLinear;case"mipmaplinearlinear":return m.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+n)}},t.wrapFromString=function(n){switch(n.toLowerCase()){case"mirroredtepeat":return e.MirroredRepeat;case"clamptoedge":return e.ClampToEdge;case"repeat":return e.Repeat;default:throw new Error("Unknown texture wrap "+n)}},t}();o.Texture=L;var m;(function(t){t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.MipMap=9987]="MipMap",t[t.MipMapNearestNearest=9984]="MipMapNearestNearest",t[t.MipMapLinearNearest=9985]="MipMapLinearNearest",t[t.MipMapNearestLinear=9986]="MipMapNearestLinear",t[t.MipMapLinearLinear=9987]="MipMapLinearLinear"})(m=o.TextureFilter||(o.TextureFilter={}));var e;(function(t){t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.ClampToEdge=33071]="ClampToEdge",t[t.Repeat=10497]="Repeat"})(e=o.TextureWrap||(o.TextureWrap={}));var r=function(){function t(){this.u=0,this.v=0,this.u2=0,this.v2=0,this.width=0,this.height=0,this.rotate=!1,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0}return t}();o.TextureRegion=r;var a=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.setFilters=function(l,i){},n.prototype.setWraps=function(l,i){},n.prototype.dispose=function(){},n}(L);o.FakeTexture=a})(spine||(spine={}));var spine;(function(o){var L=function(){function a(t,n){this.pages=new Array,this.regions=new Array,this.load(t,n)}return a.prototype.load=function(t,n){if(n==null)throw new Error("textureLoader cannot be null.");for(var l=new m(t),i=new Array(4),v=null;;){var u=l.readLine();if(u==null)break;if(u=u.trim(),u.length==0)v=null;else if(v){var h=new r;h.name=u,h.page=v;var d=l.readValue();d.toLocaleLowerCase()=="true"?h.degrees=90:d.toLocaleLowerCase()=="false"?h.degrees=0:h.degrees=parseFloat(d),h.rotate=h.degrees==90,l.readTuple(i);var f=parseInt(i[0]),y=parseInt(i[1]);l.readTuple(i);var M=parseInt(i[0]),x=parseInt(i[1]);h.u=f/v.width,h.v=y/v.height,h.rotate?(h.u2=(f+x)/v.width,h.v2=(y+M)/v.height):(h.u2=(f+M)/v.width,h.v2=(y+x)/v.height),h.x=f,h.y=y,h.width=Math.abs(M),h.height=Math.abs(x),l.readTuple(i)==4&&l.readTuple(i)==4&&l.readTuple(i),h.originalWidth=parseInt(i[0]),h.originalHeight=parseInt(i[1]),l.readTuple(i),h.offsetX=parseInt(i[0]),h.offsetY=parseInt(i[1]),h.index=parseInt(l.readValue()),h.texture=v.texture,this.regions.push(h)}else{v=new e,v.name=u,l.readTuple(i)==2&&(v.width=parseInt(i[0]),v.height=parseInt(i[1]),l.readTuple(i)),l.readTuple(i),v.minFilter=o.Texture.filterFromString(i[0]),v.magFilter=o.Texture.filterFromString(i[1]);var g=l.readValue();v.uWrap=o.TextureWrap.ClampToEdge,v.vWrap=o.TextureWrap.ClampToEdge,g=="x"?v.uWrap=o.TextureWrap.Repeat:g=="y"?v.vWrap=o.TextureWrap.Repeat:g=="xy"&&(v.uWrap=v.vWrap=o.TextureWrap.Repeat),v.texture=n(u),v.texture.setFilters(v.minFilter,v.magFilter),v.texture.setWraps(v.uWrap,v.vWrap),v.width=v.texture.getImage().width,v.height=v.texture.getImage().height,this.pages.push(v)}}},a.prototype.findRegion=function(t){for(var n=0;n<this.regions.length;n++)if(this.regions[n].name==t)return this.regions[n];return null},a.prototype.dispose=function(){for(var t=0;t<this.pages.length;t++)this.pages[t].texture.dispose()},a}();o.TextureAtlas=L;var m=function(){function a(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}return a.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},a.prototype.readValue=function(){var t=this.readLine(),n=t.indexOf(":");if(n==-1)throw new Error("Invalid line: "+t);return t.substring(n+1).trim()},a.prototype.readTuple=function(t){var n=this.readLine(),l=n.indexOf(":");if(l==-1)throw new Error("Invalid line: "+n);for(var i=0,v=l+1;i<3;i++){var u=n.indexOf(",",v);if(u==-1)break;t[i]=n.substr(v,u-v).trim(),v=u+1}return t[i]=n.substring(v).trim(),i+1},a}(),e=function(){function a(){}return a}();o.TextureAtlasPage=e;var r=function(a){__extends(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t}(o.TextureRegion);o.TextureAtlasRegion=r})(spine||(spine={}));var spine;(function(o){var L=function(){function m(e,r){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new o.Vector2,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var a=0;a<e.bones.length;a++)this.bones.push(r.findBone(e.bones[a].name));this.target=r.findBone(e.target.name)}return m.prototype.isActive=function(){return this.active},m.prototype.apply=function(){this.update()},m.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},m.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,r=this.translateMix,a=this.scaleMix,t=this.shearMix,n=this.target,l=n.a,i=n.b,v=n.c,u=n.d,g=l*u-i*v>0?o.MathUtils.degRad:-o.MathUtils.degRad,h=this.data.offsetRotation*g,d=this.data.offsetShearY*g,f=this.bones,y=0,M=f.length;y<M;y++){var x=f[y],P=!1;if(e!=0){var R=x.a,I=x.b,w=x.c,s=x.d,E=Math.atan2(v,l)-Math.atan2(w,R)+h;E>o.MathUtils.PI?E-=o.MathUtils.PI2:E<-o.MathUtils.PI&&(E+=o.MathUtils.PI2),E*=e;var C=Math.cos(E),S=Math.sin(E);x.a=C*R-S*w,x.b=C*I-S*s,x.c=S*R+C*w,x.d=S*I+C*s,P=!0}if(r!=0){var k=this.temp;n.localToWorld(k.set(this.data.offsetX,this.data.offsetY)),x.worldX+=(k.x-x.worldX)*r,x.worldY+=(k.y-x.worldY)*r,P=!0}if(a>0){var A=Math.sqrt(x.a*x.a+x.c*x.c),V=Math.sqrt(l*l+v*v);A>1e-5&&(A=(A+(V-A+this.data.offsetScaleX)*a)/A),x.a*=A,x.c*=A,A=Math.sqrt(x.b*x.b+x.d*x.d),V=Math.sqrt(i*i+u*u),A>1e-5&&(A=(A+(V-A+this.data.offsetScaleY)*a)/A),x.b*=A,x.d*=A,P=!0}if(t>0){var I=x.b,s=x.d,N=Math.atan2(s,I),E=Math.atan2(u,i)-Math.atan2(v,l)-(N-Math.atan2(x.c,x.a));E>o.MathUtils.PI?E-=o.MathUtils.PI2:E<-o.MathUtils.PI&&(E+=o.MathUtils.PI2),E=N+(E+d)*t;var A=Math.sqrt(I*I+s*s);x.b=Math.cos(E)*A,x.d=Math.sin(E)*A,P=!0}P&&(x.appliedValid=!1)}},m.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,r=this.translateMix,a=this.scaleMix,t=this.shearMix,n=this.target,l=n.a,i=n.b,v=n.c,u=n.d,g=l*u-i*v>0?o.MathUtils.degRad:-o.MathUtils.degRad,h=this.data.offsetRotation*g,d=this.data.offsetShearY*g,f=this.bones,y=0,M=f.length;y<M;y++){var x=f[y],P=!1;if(e!=0){var R=x.a,I=x.b,w=x.c,s=x.d,E=Math.atan2(v,l)+h;E>o.MathUtils.PI?E-=o.MathUtils.PI2:E<-o.MathUtils.PI&&(E+=o.MathUtils.PI2),E*=e;var C=Math.cos(E),S=Math.sin(E);x.a=C*R-S*w,x.b=C*I-S*s,x.c=S*R+C*w,x.d=S*I+C*s,P=!0}if(r!=0){var k=this.temp;n.localToWorld(k.set(this.data.offsetX,this.data.offsetY)),x.worldX+=k.x*r,x.worldY+=k.y*r,P=!0}if(a>0){var A=(Math.sqrt(l*l+v*v)-1+this.data.offsetScaleX)*a+1;x.a*=A,x.c*=A,A=(Math.sqrt(i*i+u*u)-1+this.data.offsetScaleY)*a+1,x.b*=A,x.d*=A,P=!0}if(t>0){var E=Math.atan2(u,i)-Math.atan2(v,l);E>o.MathUtils.PI?E-=o.MathUtils.PI2:E<-o.MathUtils.PI&&(E+=o.MathUtils.PI2);var I=x.b,s=x.d;E=Math.atan2(s,I)+(E-o.MathUtils.PI/2+d)*t;var A=Math.sqrt(I*I+s*s);x.b=Math.cos(E)*A,x.d=Math.sin(E)*A,P=!0}P&&(x.appliedValid=!1)}},m.prototype.applyAbsoluteLocal=function(){var e=this.rotateMix,r=this.translateMix,a=this.scaleMix,t=this.shearMix,n=this.target;n.appliedValid||n.updateAppliedTransform();for(var l=this.bones,i=0,v=l.length;i<v;i++){var u=l[i];u.appliedValid||u.updateAppliedTransform();var g=u.arotation;if(e!=0){var h=n.arotation-g+this.data.offsetRotation;h-=(16384-(16384.499999999996-h/360|0))*360,g+=h*e}var d=u.ax,f=u.ay;r!=0&&(d+=(n.ax-d+this.data.offsetX)*r,f+=(n.ay-f+this.data.offsetY)*r);var y=u.ascaleX,M=u.ascaleY;a!=0&&(y>1e-5&&(y=(y+(n.ascaleX-y+this.data.offsetScaleX)*a)/y),M>1e-5&&(M=(M+(n.ascaleY-M+this.data.offsetScaleY)*a)/M));var x=u.ashearY;if(t!=0){var h=n.ashearY-x+this.data.offsetShearY;h-=(16384-(16384.499999999996-h/360|0))*360,u.shearY+=h*t}u.updateWorldTransformWith(d,f,g,y,M,u.ashearX,x)}},m.prototype.applyRelativeLocal=function(){var e=this.rotateMix,r=this.translateMix,a=this.scaleMix,t=this.shearMix,n=this.target;n.appliedValid||n.updateAppliedTransform();for(var l=this.bones,i=0,v=l.length;i<v;i++){var u=l[i];u.appliedValid||u.updateAppliedTransform();var g=u.arotation;e!=0&&(g+=(n.arotation+this.data.offsetRotation)*e);var h=u.ax,d=u.ay;r!=0&&(h+=(n.ax+this.data.offsetX)*r,d+=(n.ay+this.data.offsetY)*r);var f=u.ascaleX,y=u.ascaleY;a!=0&&(f>1e-5&&(f*=(n.ascaleX-1+this.data.offsetScaleX)*a+1),y>1e-5&&(y*=(n.ascaleY-1+this.data.offsetScaleY)*a+1));var M=u.ashearY;t!=0&&(M+=(n.ashearY+this.data.offsetShearY)*t),u.updateWorldTransformWith(h,d,g,f,y,u.ashearX,M)}},m}();o.TransformConstraint=L})(spine||(spine={}));var spine;(function(o){var L=function(m){__extends(e,m);function e(r){var a=m.call(this,r,0,!1)||this;return a.bones=new Array,a.rotateMix=0,a.translateMix=0,a.scaleMix=0,a.shearMix=0,a.offsetRotation=0,a.offsetX=0,a.offsetY=0,a.offsetScaleX=0,a.offsetScaleY=0,a.offsetShearY=0,a.relative=!1,a.local=!1,a}return e}(o.ConstraintData);o.TransformConstraintData=L})(spine||(spine={}));var spine;(function(o){var L=function(){function m(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new o.Pool(function(){return new Array}),this.polygonIndicesPool=new o.Pool(function(){return new Array})}return m.prototype.triangulate=function(e){var r=e,a=e.length>>1,t=this.indicesArray;t.length=0;for(var n=0;n<a;n++)t[n]=n;var l=this.isConcaveArray;l.length=0;for(var n=0,i=a;n<i;++n)l[n]=m.isConcave(n,a,r,t);var v=this.triangles;for(v.length=0;a>3;){for(var u=a-1,n=0,g=1;;){t:if(!l[n]){for(var h=t[u]<<1,d=t[n]<<1,f=t[g]<<1,y=r[h],M=r[h+1],x=r[d],P=r[d+1],R=r[f],I=r[f+1],w=(g+1)%a;w!=u;w=(w+1)%a)if(!!l[w]){var s=t[w]<<1,E=r[s],C=r[s+1];if(m.positiveArea(R,I,y,M,E,C)&&m.positiveArea(y,M,x,P,E,C)&&m.positiveArea(x,P,R,I,E,C))break t}break}if(g==0){do{if(!l[n])break;n--}while(n>0);break}u=n,n=g,g=(g+1)%a}v.push(t[(a+n-1)%a]),v.push(t[n]),v.push(t[(n+1)%a]),t.splice(n,1),l.splice(n,1),a--;var S=(a+n-1)%a,k=n==a?0:n;l[S]=m.isConcave(S,a,r,t),l[k]=m.isConcave(k,a,r,t)}return a==3&&(v.push(t[2]),v.push(t[0]),v.push(t[1])),v},m.prototype.decompose=function(e,r){var a=e,t=this.convexPolygons;this.polygonPool.freeAll(t),t.length=0;var n=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(n),n.length=0;var l=this.polygonIndicesPool.obtain();l.length=0;var i=this.polygonPool.obtain();i.length=0;for(var v=-1,u=0,g=0,h=r.length;g<h;g+=3){var d=r[g]<<1,f=r[g+1]<<1,y=r[g+2]<<1,M=a[d],x=a[d+1],P=a[f],R=a[f+1],I=a[y],w=a[y+1],s=!1;if(v==d){var E=i.length-4,C=m.winding(i[E],i[E+1],i[E+2],i[E+3],I,w),S=m.winding(I,w,i[0],i[1],i[2],i[3]);C==u&&S==u&&(i.push(I),i.push(w),l.push(y),s=!0)}s||(i.length>0?(t.push(i),n.push(l)):(this.polygonPool.free(i),this.polygonIndicesPool.free(l)),i=this.polygonPool.obtain(),i.length=0,i.push(M),i.push(x),i.push(P),i.push(R),i.push(I),i.push(w),l=this.polygonIndicesPool.obtain(),l.length=0,l.push(d),l.push(f),l.push(y),u=m.winding(M,x,P,R,I,w),v=d)}i.length>0&&(t.push(i),n.push(l));for(var g=0,h=t.length;g<h;g++)if(l=n[g],l.length!=0){var k=l[0],A=l[l.length-1];i=t[g];for(var E=i.length-4,V=i[E],N=i[E+1],T=i[E+2],c=i[E+3],p=i[0],U=i[1],b=i[2],Y=i[3],D=m.winding(V,N,T,c,p,U),O=0;O<h;O++)if(O!=g){var B=n[O];if(B.length==3){var X=B[0],W=B[1],F=B[2],_=t[O],I=_[_.length-2],w=_[_.length-1];if(!(X!=k||W!=A)){var C=m.winding(V,N,T,c,I,w),S=m.winding(I,w,p,U,b,Y);C==D&&S==D&&(_.length=0,B.length=0,i.push(I),i.push(w),l.push(F),V=T,N=c,T=I,c=w,O=0)}}}}for(var g=t.length-1;g>=0;g--)i=t[g],i.length==0&&(t.splice(g,1),this.polygonPool.free(i),l=n[g],n.splice(g,1),this.polygonIndicesPool.free(l));return t},m.isConcave=function(e,r,a,t){var n=t[(r+e-1)%r]<<1,l=t[e]<<1,i=t[(e+1)%r]<<1;return!this.positiveArea(a[n],a[n+1],a[l],a[l+1],a[i],a[i+1])},m.positiveArea=function(e,r,a,t,n,l){return e*(l-t)+a*(r-l)+n*(t-r)>=0},m.winding=function(e,r,a,t,n,l){var i=a-e,v=t-r;return n*v-l*i+i*r-e*v>=0?1:-1},m}();o.Triangulator=L})(spine||(spine={}));var spine;(function(o){var L=function(){function h(){this.array=new Array}return h.prototype.add=function(d){var f=this.contains(d);return this.array[d|0]=d|0,!f},h.prototype.contains=function(d){return this.array[d|0]!=null},h.prototype.remove=function(d){this.array[d|0]=void 0},h.prototype.clear=function(){this.array.length=0},h}();o.IntSet=L;var m=function(){function h(d,f,y,M){d===void 0&&(d=0),f===void 0&&(f=0),y===void 0&&(y=0),M===void 0&&(M=0),this.r=d,this.g=f,this.b=y,this.a=M}return h.prototype.set=function(d,f,y,M){return this.r=d,this.g=f,this.b=y,this.a=M,this.clamp(),this},h.prototype.setFromColor=function(d){return this.r=d.r,this.g=d.g,this.b=d.b,this.a=d.a,this},h.prototype.setFromString=function(d){return d=d.charAt(0)=="#"?d.substr(1):d,this.r=parseInt(d.substr(0,2),16)/255,this.g=parseInt(d.substr(2,2),16)/255,this.b=parseInt(d.substr(4,2),16)/255,this.a=(d.length!=8?255:parseInt(d.substr(6,2),16))/255,this},h.prototype.add=function(d,f,y,M){return this.r+=d,this.g+=f,this.b+=y,this.a+=M,this.clamp(),this},h.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},h.rgba8888ToColor=function(d,f){d.r=((f&4278190080)>>>24)/255,d.g=((f&16711680)>>>16)/255,d.b=((f&65280)>>>8)/255,d.a=(f&255)/255},h.rgb888ToColor=function(d,f){d.r=((f&16711680)>>>16)/255,d.g=((f&65280)>>>8)/255,d.b=(f&255)/255},h.WHITE=new h(1,1,1,1),h.RED=new h(1,0,0,1),h.GREEN=new h(0,1,0,1),h.BLUE=new h(0,0,1,1),h.MAGENTA=new h(1,0,1,1),h}();o.Color=m;var e=function(){function h(){}return h.clamp=function(d,f,y){return d<f?f:d>y?y:d},h.cosDeg=function(d){return Math.cos(d*h.degRad)},h.sinDeg=function(d){return Math.sin(d*h.degRad)},h.signum=function(d){return d>0?1:d<0?-1:0},h.toInt=function(d){return d>0?Math.floor(d):Math.ceil(d)},h.cbrt=function(d){var f=Math.pow(Math.abs(d),1/3);return d<0?-f:f},h.randomTriangular=function(d,f){return h.randomTriangularWith(d,f,(d+f)*.5)},h.randomTriangularWith=function(d,f,y){var M=Math.random(),x=f-d;return M<=(y-d)/x?d+Math.sqrt(M*x*(y-d)):f-Math.sqrt((1-M)*x*(f-y))},h.PI=3.1415927,h.PI2=h.PI*2,h.radiansToDegrees=180/h.PI,h.radDeg=h.radiansToDegrees,h.degreesToRadians=h.PI/180,h.degRad=h.degreesToRadians,h}();o.MathUtils=e;var r=function(){function h(){}return h.prototype.apply=function(d,f,y){return d+(f-d)*this.applyInternal(y)},h}();o.Interpolation=r;var a=function(h){__extends(d,h);function d(f){var y=h.call(this)||this;return y.power=2,y.power=f,y}return d.prototype.applyInternal=function(f){return f<=.5?Math.pow(f*2,this.power)/2:Math.pow((f-1)*2,this.power)/(this.power%2==0?-2:2)+1},d}(r);o.Pow=a;var t=function(h){__extends(d,h);function d(f){return h.call(this,f)||this}return d.prototype.applyInternal=function(f){return Math.pow(f-1,this.power)*(this.power%2==0?-1:1)+1},d}(a);o.PowOut=t;var n=function(){function h(){}return h.arrayCopy=function(d,f,y,M,x){for(var P=f,R=M;P<f+x;P++,R++)y[R]=d[P]},h.setArraySize=function(d,f,y){y===void 0&&(y=0);var M=d.length;if(M==f)return d;if(d.length=f,M<f)for(var x=M;x<f;x++)d[x]=y;return d},h.ensureArrayCapacity=function(d,f,y){return y===void 0&&(y=0),d.length>=f?d:h.setArraySize(d,f,y)},h.newArray=function(d,f){for(var y=new Array(d),M=0;M<d;M++)y[M]=f;return y},h.newFloatArray=function(d){if(h.SUPPORTS_TYPED_ARRAYS)return new Float32Array(d);for(var f=new Array(d),y=0;y<f.length;y++)f[y]=0;return f},h.newShortArray=function(d){if(h.SUPPORTS_TYPED_ARRAYS)return new Int16Array(d);for(var f=new Array(d),y=0;y<f.length;y++)f[y]=0;return f},h.toFloatArray=function(d){return h.SUPPORTS_TYPED_ARRAYS?new Float32Array(d):d},h.toSinglePrecision=function(d){return h.SUPPORTS_TYPED_ARRAYS?Math.fround(d):d},h.webkit602BugfixHelper=function(d,f){},h.contains=function(d,f,y){y===void 0&&(y=!0);for(var M=0;M<d.length;M++)if(d[M]==f)return!0;return!1},h.SUPPORTS_TYPED_ARRAYS=typeof Float32Array!="undefined",h}();o.Utils=n;var l=function(){function h(){}return h.logBones=function(d){for(var f=0;f<d.bones.length;f++){var y=d.bones[f];console.log(y.data.name+", "+y.a+", "+y.b+", "+y.c+", "+y.d+", "+y.worldX+", "+y.worldY)}},h}();o.DebugUtils=l;var i=function(){function h(d){this.items=new Array,this.instantiator=d}return h.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},h.prototype.free=function(d){d.reset&&d.reset(),this.items.push(d)},h.prototype.freeAll=function(d){for(var f=0;f<d.length;f++)this.free(d[f])},h.prototype.clear=function(){this.items.length=0},h}();o.Pool=i;var v=function(){function h(d,f){d===void 0&&(d=0),f===void 0&&(f=0),this.x=d,this.y=f}return h.prototype.set=function(d,f){return this.x=d,this.y=f,this},h.prototype.length=function(){var d=this.x,f=this.y;return Math.sqrt(d*d+f*f)},h.prototype.normalize=function(){var d=this.length();return d!=0&&(this.x/=d,this.y/=d),this},h}();o.Vector2=v;var u=function(){function h(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return h.prototype.update=function(){var d=Date.now()/1e3;this.delta=d-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=d,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},h}();o.TimeKeeper=u;var g=function(){function h(d){d===void 0&&(d=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(d)}return h.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length},h.prototype.addValue=function(d){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=d,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},h.prototype.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var d=0,f=0;f<this.values.length;f++)d+=this.values[f];this.mean=d/this.values.length,this.dirty=!1}return this.mean}else return 0},h}();o.WindowedMean=g})(spine||(spine={})),function(){Math.fround||(Math.fround=function(o){return function(L){return o[0]=L,o[0]}}(new Float32Array(1)))}();var spine;(function(o){var L=function(){function e(r){if(r==null)throw new Error("name cannot be null.");this.name=r}return e}();o.Attachment=L;var m=function(e){__extends(r,e);function r(a){var t=e.call(this,a)||this;return t.id=(r.nextID++&65535)<<11,t.worldVerticesLength=0,t.deformAttachment=t,t}return r.prototype.computeWorldVertices=function(a,t,n,l,i,v){n=i+(n>>1)*v;var u=a.bone.skeleton,g=a.deform,h=this.vertices,d=this.bones;if(d==null){g.length>0&&(h=g);for(var f=a.bone,y=f.worldX,M=f.worldY,x=f.a,P=f.b,R=f.c,I=f.d,w=t,s=i;s<n;w+=2,s+=v){var E=h[w],C=h[w+1];l[s]=E*x+C*P+y,l[s+1]=E*R+C*I+M}return}for(var S=0,k=0,A=0;A<t;A+=2){var V=d[S];S+=V+1,k+=V}var N=u.bones;if(g.length==0)for(var s=i,P=k*3;s<n;s+=v){var T=0,c=0,V=d[S++];for(V+=S;S<V;S++,P+=3){var f=N[d[S]],E=h[P],C=h[P+1],p=h[P+2];T+=(E*f.a+C*f.b+f.worldX)*p,c+=(E*f.c+C*f.d+f.worldY)*p}l[s]=T,l[s+1]=c}else for(var U=g,s=i,P=k*3,b=k<<1;s<n;s+=v){var T=0,c=0,V=d[S++];for(V+=S;S<V;S++,P+=3,b+=2){var f=N[d[S]],E=h[P]+U[b],C=h[P+1]+U[b+1],p=h[P+2];T+=(E*f.a+C*f.b+f.worldX)*p,c+=(E*f.c+C*f.d+f.worldY)*p}l[s]=T,l[s+1]=c}},r.prototype.copyTo=function(a){this.bones!=null?(a.bones=new Array(this.bones.length),o.Utils.arrayCopy(this.bones,0,a.bones,0,this.bones.length)):a.bones=null,this.vertices!=null?(a.vertices=o.Utils.newFloatArray(this.vertices.length),o.Utils.arrayCopy(this.vertices,0,a.vertices,0,this.vertices.length)):a.vertices=null,a.worldVerticesLength=this.worldVerticesLength,a.deformAttachment=this.deformAttachment},r.nextID=0,r}(L);o.VertexAttachment=m})(spine||(spine={}));var spine;(function(o){var L;(function(m){m[m.Region=0]="Region",m[m.BoundingBox=1]="BoundingBox",m[m.Mesh=2]="Mesh",m[m.LinkedMesh=3]="LinkedMesh",m[m.Path=4]="Path",m[m.Point=5]="Point",m[m.Clipping=6]="Clipping"})(L=o.AttachmentType||(o.AttachmentType={}))})(spine||(spine={}));var spine;(function(o){var L=function(m){__extends(e,m);function e(r){var a=m.call(this,r)||this;return a.color=new o.Color(1,1,1,1),a}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.color.setFromColor(this.color),r},e}(o.VertexAttachment);o.BoundingBoxAttachment=L})(spine||(spine={}));var spine;(function(o){var L=function(m){__extends(e,m);function e(r){var a=m.call(this,r)||this;return a.color=new o.Color(.2275,.2275,.8078,1),a}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.endSlot=this.endSlot,r.color.setFromColor(this.color),r},e}(o.VertexAttachment);o.ClippingAttachment=L})(spine||(spine={}));var spine;(function(o){var L=function(m){__extends(e,m);function e(r){var a=m.call(this,r)||this;return a.color=new o.Color(1,1,1,1),a.tempColor=new o.Color(0,0,0,0),a}return e.prototype.updateUVs=function(){var r=this.regionUVs;(this.uvs==null||this.uvs.length!=r.length)&&(this.uvs=o.Utils.newFloatArray(r.length));var a=this.uvs,t=this.uvs.length,n=this.region.u,l=this.region.v,i=0,v=0;if(this.region instanceof o.TextureAtlasRegion){var u=this.region,g=u.texture.getImage().width,h=u.texture.getImage().height;switch(u.degrees){case 90:n-=(u.originalHeight-u.offsetY-u.height)/g,l-=(u.originalWidth-u.offsetX-u.width)/h,i=u.originalHeight/g,v=u.originalWidth/h;for(var d=0;d<t;d+=2)a[d]=n+r[d+1]*i,a[d+1]=l+(1-r[d])*v;return;case 180:n-=(u.originalWidth-u.offsetX-u.width)/g,l-=u.offsetY/h,i=u.originalWidth/g,v=u.originalHeight/h;for(var d=0;d<t;d+=2)a[d]=n+(1-r[d])*i,a[d+1]=l+(1-r[d+1])*v;return;case 270:n-=u.offsetY/g,l-=u.offsetX/h,i=u.originalHeight/g,v=u.originalWidth/h;for(var d=0;d<t;d+=2)a[d]=n+(1-r[d+1])*i,a[d+1]=l+r[d]*v;return}n-=u.offsetX/g,l-=(u.originalHeight-u.offsetY-u.height)/h,i=u.originalWidth/g,v=u.originalHeight/h}else this.region==null?(n=l=0,i=v=1):(i=this.region.u2-n,v=this.region.v2-l);for(var d=0;d<t;d+=2)a[d]=n+r[d]*i,a[d+1]=l+r[d+1]*v},e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r!=null&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e.prototype.copy=function(){if(this.parentMesh!=null)return this.newLinkedMesh();var r=new e(this.name);return r.region=this.region,r.path=this.path,r.color.setFromColor(this.color),this.copyTo(r),r.regionUVs=new Array(this.regionUVs.length),o.Utils.arrayCopy(this.regionUVs,0,r.regionUVs,0,this.regionUVs.length),r.uvs=new Array(this.uvs.length),o.Utils.arrayCopy(this.uvs,0,r.uvs,0,this.uvs.length),r.triangles=new Array(this.triangles.length),o.Utils.arrayCopy(this.triangles,0,r.triangles,0,this.triangles.length),r.hullLength=this.hullLength,this.edges!=null&&(r.edges=new Array(this.edges.length),o.Utils.arrayCopy(this.edges,0,r.edges,0,this.edges.length)),r.width=this.width,r.height=this.height,r},e.prototype.newLinkedMesh=function(){var r=new e(this.name);return r.region=this.region,r.path=this.path,r.color.setFromColor(this.color),r.deformAttachment=this.deformAttachment,r.setParentMesh(this.parentMesh!=null?this.parentMesh:this),r.updateUVs(),r},e}(o.VertexAttachment);o.MeshAttachment=L})(spine||(spine={}));var spine;(function(o){var L=function(m){__extends(e,m);function e(r){var a=m.call(this,r)||this;return a.closed=!1,a.constantSpeed=!1,a.color=new o.Color(1,1,1,1),a}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.lengths=new Array(this.lengths.length),o.Utils.arrayCopy(this.lengths,0,r.lengths,0,this.lengths.length),r.closed=closed,r.constantSpeed=this.constantSpeed,r.color.setFromColor(this.color),r},e}(o.VertexAttachment);o.PathAttachment=L})(spine||(spine={}));var spine;(function(o){var L=function(m){__extends(e,m);function e(r){var a=m.call(this,r)||this;return a.color=new o.Color(.38,.94,0,1),a}return e.prototype.computeWorldPosition=function(r,a){return a.x=this.x*r.a+this.y*r.b+r.worldX,a.y=this.x*r.c+this.y*r.d+r.worldY,a},e.prototype.computeWorldRotation=function(r){var a=o.MathUtils.cosDeg(this.rotation),t=o.MathUtils.sinDeg(this.rotation),n=a*r.a+t*r.b,l=a*r.c+t*r.d;return Math.atan2(l,n)*o.MathUtils.radDeg},e.prototype.copy=function(){var r=new e(this.name);return r.x=this.x,r.y=this.y,r.rotation=this.rotation,r.color.setFromColor(this.color),r},e}(o.VertexAttachment);o.PointAttachment=L})(spine||(spine={}));var spine;(function(o){var L=function(m){__extends(e,m);function e(r){var a=m.call(this,r)||this;return a.x=0,a.y=0,a.scaleX=1,a.scaleY=1,a.rotation=0,a.width=0,a.height=0,a.color=new o.Color(1,1,1,1),a.offset=o.Utils.newFloatArray(8),a.uvs=o.Utils.newFloatArray(8),a.tempColor=new o.Color(1,1,1,1),a}return e.prototype.updateOffset=function(){var r=this.width/this.region.originalWidth*this.scaleX,a=this.height/this.region.originalHeight*this.scaleY,t=-this.width/2*this.scaleX+this.region.offsetX*r,n=-this.height/2*this.scaleY+this.region.offsetY*a,l=t+this.region.width*r,i=n+this.region.height*a,v=this.rotation*Math.PI/180,u=Math.cos(v),g=Math.sin(v),h=t*u+this.x,d=t*g,f=n*u+this.y,y=n*g,M=l*u+this.x,x=l*g,P=i*u+this.y,R=i*g,I=this.offset;I[e.OX1]=h-y,I[e.OY1]=f+d,I[e.OX2]=h-R,I[e.OY2]=P+d,I[e.OX3]=M-R,I[e.OY3]=P+x,I[e.OX4]=M-y,I[e.OY4]=f+x},e.prototype.setRegion=function(r){this.region=r;var a=this.uvs;r.rotate?(a[2]=r.u,a[3]=r.v2,a[4]=r.u,a[5]=r.v,a[6]=r.u2,a[7]=r.v,a[0]=r.u2,a[1]=r.v2):(a[0]=r.u,a[1]=r.v2,a[2]=r.u,a[3]=r.v,a[4]=r.u2,a[5]=r.v,a[6]=r.u2,a[7]=r.v2)},e.prototype.computeWorldVertices=function(r,a,t,n){var l=this.offset,i=r.worldX,v=r.worldY,u=r.a,g=r.b,h=r.c,d=r.d,f=0,y=0;f=l[e.OX1],y=l[e.OY1],a[t]=f*u+y*g+i,a[t+1]=f*h+y*d+v,t+=n,f=l[e.OX2],y=l[e.OY2],a[t]=f*u+y*g+i,a[t+1]=f*h+y*d+v,t+=n,f=l[e.OX3],y=l[e.OY3],a[t]=f*u+y*g+i,a[t+1]=f*h+y*d+v,t+=n,f=l[e.OX4],y=l[e.OY4],a[t]=f*u+y*g+i,a[t+1]=f*h+y*d+v},e.prototype.copy=function(){var r=new e(this.name);return r.region=this.region,r.rendererObject=this.rendererObject,r.path=this.path,r.x=this.x,r.y=this.y,r.scaleX=this.scaleX,r.scaleY=this.scaleY,r.rotation=this.rotation,r.width=this.width,r.height=this.height,o.Utils.arrayCopy(this.uvs,0,r.uvs,0,8),o.Utils.arrayCopy(this.offset,0,r.offset,0,8),r.color.setFromColor(this.color),r},e.OX1=0,e.OY1=1,e.OX2=2,e.OY2=3,e.OX3=4,e.OY3=5,e.OX4=6,e.OY4=7,e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(o.Attachment);o.RegionAttachment=L})(spine||(spine={}));var spine;(function(o){var L=function(){function m(e,r){this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=r}return m.prototype.begin=function(e){},m.prototype.transform=function(e,r,a,t){e.x+=o.MathUtils.randomTriangular(-this.jitterX,this.jitterY),e.y+=o.MathUtils.randomTriangular(-this.jitterX,this.jitterY)},m.prototype.end=function(){},m}();o.JitterEffect=L})(spine||(spine={}));var spine;(function(o){var L=function(){function m(e){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e}return m.prototype.begin=function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY},m.prototype.transform=function(e,r,a,t){var n=this.angle*o.MathUtils.degreesToRadians,l=e.x-this.worldX,i=e.y-this.worldY,v=Math.sqrt(l*l+i*i);if(v<this.radius){var u=m.interpolation.apply(0,n,(this.radius-v)/this.radius),g=Math.cos(u),h=Math.sin(u);e.x=g*l-h*i+this.worldX,e.y=h*l+g*i+this.worldY}},m.prototype.end=function(){},m.interpolation=new o.PowOut(2),m}();o.SwirlEffect=L})(spine||(spine={}));
